{"version":3,"sources":["webpack:///resources/js/77f2cb1a65809ce0d16011.js","webpack:///./src/app/components/journey/step10/add-on-ack/add-on-ack.modal.component.html","webpack:///./src/app/components/journey/step10/add-on-ack/add-on-ack.modal.component.js","webpack:///./src/app/components/journey/step10/step10.component.html","webpack:///./src/app/components/journey/step10/step10.component.js","webpack:///./src/app/components/journey/step10/step10.component.service.js"],"names":["webpackJsonp","./src/app/components/journey/step10/add-on-ack/add-on-ack.modal.component.html","module","exports","./src/app/components/journey/step10/add-on-ack/add-on-ack.modal.component.js","__webpack_require__","angular","modalController","analyticService","vm","this","$onInit","buttonList","popup","event_content","trackUserAction","Close","isSelected","close","$value","cancel","dismiss","modalComp","component","template","bindings","resolve","controller","name","./src/app/components/journey/step10/step10.component.html","./src/app/components/journey/step10/step10.component.js","step10Comp","$rootScope","$scope","$uibModal","$anchorScroll","$state","journeyService","step10Service","UtilService","$broadcast","hideHeader","showSelectedCard","showARN","dipARN","getApplicantInfo","dipArn","relationList","stepsHeader","currentStep","selectedCard","getSelectedCard","model","getUserDetails","dialCodeMobile","getErrorMessages","then","response","errorMessages","step10","pageList","supplementryCard","internal_reference_id","getDataFromStorageContact","adobeId","trackPageLoad","goback","step10Form","cardHolderName","$invalid","$$rawModelValue","mobile","saveFormDetailsInStorage","balanceTransferTaken","go","cardKey","key","buttonClick","sendsaveNav","data","securityParams","robocheck","sendSupplementaryData","result","success","isIncomeDocRequired","next","isValid","cardHolderRelationship","hasVisitedBefore","supplementaryCardApplied","open","backdrop","keyboard","modalFade","windowClass","submitted","focusOnInvalid","formDetails","primaryApplicant","supplementaryCard","setDataInStorage","save","saveData","./src/app/components/journey/step10/step10.component.scss","./src/app/components/journey/step10/step10.component.service.js","service","$http","appState","CONFIG","self","callback","mergeApplicationData","getDataFromStorage","getApplicationData","supData","isSaveExit","apiURL","httpMethod","integrationsActive","arn","apiUrl","Math","random","method","url","headers","Content-Type","JSON","stringify","params","status","validationErrors","userDTO","localState","dipDetails"],"mappings":"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","file":"resources/js/77f2cb1a65809ce0d16011.js","sourcesContent":["webpackJsonp([11],{\n\n/***/ \"./src/app/components/journey/step10/add-on-ack/add-on-ack.modal.component.html\":\n/* unknown exports provided */\n/* all exports used */\n/*!**************************************************************************************!*\\\n  !*** ./src/app/components/journey/step10/add-on-ack/add-on-ack.modal.component.html ***!\n  \\**************************************************************************************/\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=modal-header> <div class=heading-container> </div> <div class=close-button-container> <button type=button class=close aria-label=Close ng-click=$ctrl.cancel()> <span aria-hidden=true>Ã—</span> </button> </div> </div> <div class=modal-body> <p> Thank you for your consent to issue an Add-on card. </p> <p class=no-margin-b> We will contact you within 2 working days to complete the Add-on card application process. </p> </div> <div class=modal-footer> <div class=buttons-container> <button class=button-primary ng-click=$ctrl.Close(true)>Ok</button> </div> </div>\";\n\n/***/ }),\n\n/***/ \"./src/app/components/journey/step10/add-on-ack/add-on-ack.modal.component.js\":\n/* unknown exports provided */\n/* all exports used */\n/*!************************************************************************************!*\\\n  !*** ./src/app/components/journey/step10/add-on-ack/add-on-ack.modal.component.js ***!\n  \\************************************************************************************/\n/***/ (function(module, exports, __webpack_require__) {\n\n(function () {\r\n    'use strict';\r\n    var angular = __webpack_require__(/*! angular */ \"./node_modules/angular/index.js\");\r\n\r\n    var modalController = function (analyticService) {\r\n        var vm = this;\r\n\r\n        vm.$onInit = function () {\r\n            analyticService.buttonList.popup.event_content = \"Add on Card Confirmation\";\r\n            analyticService.trackUserAction(analyticService.buttonList.popup);\r\n        };\r\n\r\n        /**\r\n         * This function is triggered when we select or unselect card.\r\n         * We push the selected card in selectedPrimaryCards array and\r\n         *  pop the unselected card.\r\n         */\r\n        vm.Close = function (isSelected) {\r\n            vm.close({\r\n                $value: isSelected\r\n            });\r\n        };\r\n\r\n        vm.cancel = function () {\r\n            vm.dismiss({\r\n                $value: 'cancel'\r\n            });\r\n        };\r\n    };\r\n\r\n    var modalComp = angular.module('journey.module').component('addOnAckModal', {\r\n        template: __webpack_require__(/*! ./add-on-ack.modal.component.html */ \"./src/app/components/journey/step10/add-on-ack/add-on-ack.modal.component.html\"),\r\n        bindings: {\r\n            resolve: '<',\r\n            close: '&',\r\n            dismiss: '&'\r\n        },\r\n        controller: ['analyticService', modalController]\r\n    });\r\n    module.exports = modalComp.name;\r\n})();\n\n/***/ }),\n\n/***/ \"./src/app/components/journey/step10/step10.component.html\":\n/* unknown exports provided */\n/* all exports used */\n/*!*****************************************************************!*\\\n  !*** ./src/app/components/journey/step10/step10.component.html ***!\n  \\*****************************************************************/\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <form name=step10Form autocomplete=off novalidate> <input type=text class=hidden-field ng-model=$ctrl.robocheck tabindex=-1> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <div class=\\\"form-group customer-details\\\"> <h1 class=\\\"brand-bar no-margin-top\\\">Add-on Card</h1> </div> </div> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <p class=no-margin-b> You can apply for an add-on credit card for your spouse, your parents, siblings or your children above 18 years. The limit on this card will be part of the credit limit on your primary credit card. </p> </div> </div> <div class=row> <div class=\\\"col-md-5 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=cardHolderName class=form__label>Name of the Add on Applicant</label> <div ng-class=\\\"{'has-error': step10Form.cardHolderName.$invalid && ($ctrl.submitted || step10Form.cardHolderName.$touched)}\\\"> <input type=text trim class=form-control alpha-space=50 id=cardHolderName name=cardHolderName aria-describedby=cardHolderNameErrMsg onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-minlength=2 ng-model=$ctrl.model.cardHolderName aria-invalid=\\\"{{step10Form.cardHolderName.$invalid && ($ctrl.submitted || step10Form.cardHolderName.$touched)}}\\\" required> </div> <div id=cardHolderNameErrMsg class=\\\"form-group col-md-12 col-sm-12 col-xs-12 remove-margin\\\" ng-class=\\\"{'has-error': step10Form.cardHolderName.$invalid}\\\"> <div class=row> <validation-msg ng-if=\\\"step10Form.cardHolderName.$error.required && (step10Form.cardHolderName.$touched || $ctrl.submitted)\\\"> Please enter your name to continue with your application. </validation-msg> <validation-msg ng-if=\\\"step10Form.cardHolderName.$error.minlength && (step10Form.cardHolderName.$touched || $ctrl.submitted)\\\"> Please enter minimum of 2 letters for the add-on cardholder </validation-msg> </div> </div> </div> </div> <div class=\\\"col-md-5 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=mobile>Add-on cardholder's mobile number</label> <div class=input-group ng-class=\\\"{'has-error': step10Form.mobile.$invalid && (step10Form.mobile.$touched || $ctrl.submitted)}\\\"> <span class=input-group-addon id=countryCode aria-hidden=true tabindex=-1> <span class=\\\"flag in\\\" style=background-image:url(resources/images/country-flags-sprite.png)></span> +91</span> <input trim type=tel id=mobile name=mobile class=\\\"form-control has-block\\\" ng-model=$ctrl.model.mobile ng-cut=$event.preventDefault() ng-minlength=10 ng-pattern=/^[6-9]\\\\d{9}$/ only-number=10 aria-describedby=\\\"countryCode mobileErrMsg\\\" aria-invalid=\\\"{{step10Form.mobile.$invalid && (step10Form.mobile.$touched || $ctrl.submitted)}}\\\" required> </div> <div id=mobileErrMsg class=\\\"form-group remove-padding\\\" ng-class=\\\"{'has-error': step10Form.mobile.$invalid}\\\"> <validation-msg ng-if=\\\"step10Form.mobile.$error.required && (step10Form.mobile.$touched || $ctrl.submitted)\\\"> Please enter your mobile number. </validation-msg> <validation-msg ng-if=\\\"step10Form.mobile.$error.minlength && (step10Form.mobile.$touched || $ctrl.submitted)\\\"> Please enter at least 10 numbers. </validation-msg> <validation-msg ng-if=\\\"!step10Form.mobile.$error.minlength && step10Form.mobile.$error.pattern && (step10Form.mobile.$touched || $ctrl.submitted)\\\"> Your mobile phone number must begin with 6, 7, 8 or 9. Please check and re-enter. </validation-msg> </div> </div> </div> </div> <div class=row> <div class=\\\"col-md-5 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label class=form__label for=relation>Relationship with primary cardholder</label> <div ng-class=\\\"{'has-error': step10Form.relation.$invalid && (step10Form.relation.$touched || $ctrl.submitted)}\\\"> <custom-select> <select id=relation name=relation class=form-control ng-model=$ctrl.model.cardHolderRelationship ng-options=\\\"item for item in $ctrl.relationList\\\" aria-describedby=relationErrMsg aria-invalid=\\\"{{step10Form.relation.$invalid && (step10Form.relation.$touched || $ctrl.submitted)}}\\\" required> <option value=\\\"\\\">Please select</option> </select> </custom-select> </div> <div id=relationErrMsg class=\\\"form-group remove-margin\\\" ng-class=\\\"{'has-error': step10Form.relation.$invalid}\\\"> <validation-msg ng-if=\\\"step10Form.relation.$error.required && (step10Form.relation.$touched || $ctrl.submitted)\\\"> {{ $ctrl.errorMessages.selectRelation }} </validation-msg> </div> </div> </div> </div> <div class=row> <div class=\\\"col-md-9 col-sm-12 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <p class=no-margin-b> I hereby agree, give consent and confirmÂ that I have obtained consent from my family member for issuance ofÂ an add-on credit card. By submitting this request, I authorize HSBCÂ to issue an add-on card on receipt ofÂ required KYC details. </p> </div> </div> </div> <step-footer show-back=true back-callback=$ctrl.goback() show-save=true save-callback=$ctrl.save() show-continue=true continue-button-id=continue-btn continue-disabled=false continue-callback=$ctrl.next(step10Form.$valid) continue-overlay=\\\"!($ctrl.model.hasVisitedBefore == 'Y')\\\"> </step-footer> </form> </div> </div>\";\n\n/***/ }),\n\n/***/ \"./src/app/components/journey/step10/step10.component.js\":\n/* unknown exports provided */\n/* all exports used */\n/*!***************************************************************!*\\\n  !*** ./src/app/components/journey/step10/step10.component.js ***!\n  \\***************************************************************/\n/***/ (function(module, exports, __webpack_require__) {\n\n(function () {\r\n    'use strict';\r\n    var angular = __webpack_require__(/*! angular */ \"./node_modules/angular/index.js\");\r\n    __webpack_require__(/*! ./step10.component.scss */ \"./src/app/components/journey/step10/step10.component.scss\");\r\n    __webpack_require__(/*! ./step10.component.service.js */ \"./src/app/components/journey/step10/step10.component.service.js\");\r\n    // require('../save-exit.modal/overlayConfirmation.modal.component.js');\r\n    __webpack_require__(/*! ./add-on-ack/add-on-ack.modal.component.js */ \"./src/app/components/journey/step10/add-on-ack/add-on-ack.modal.component.js\");\r\n\r\n    var step10Comp = angular.module('journey.module').component('step10', {\r\n        template: __webpack_require__(/*! ./step10.component.html */ \"./src/app/components/journey/step10/step10.component.html\"),\r\n        controller: ['$rootScope', '$scope', '$uibModal', '$anchorScroll', '$state', 'journeyService', 'step10Service', 'analyticService', 'UtilService',\r\n            function ($rootScope, $scope, $uibModal, $anchorScroll, $state, journeyService, step10Service, analyticService, UtilService) {\r\n                var vm = this;\r\n                // var overlayCheck = '';\r\n                vm.$onInit = function () {\r\n                    $rootScope.$broadcast('hide-step-header', {\r\n                        hideHeader: false\r\n                    });\r\n                    $rootScope.showSelectedCard = true;\r\n                    $rootScope.showARN = true;\r\n                    $rootScope.dipARN = journeyService.getApplicantInfo(\"dipDetails\").dipArn;\r\n                    vm.relationList = ['Brother / Sister', 'Father / Mother', 'Son / Daughter', 'Spouse'];\r\n                    $anchorScroll();\r\n                    $rootScope.stepsHeader.currentStep = 4;\r\n                    vm.selectedCard = journeyService.getSelectedCard();\r\n                    vm.model = {};\r\n                    vm.model = step10Service.getUserDetails();\r\n                    vm.model.dialCodeMobile = \"91\";\r\n                    journeyService.getErrorMessages().then(function (response) {\r\n                        vm.errorMessages = response.step10;\r\n                    });\r\n                    // overlayCheck = vm.model.hasVisitedBefore ? vm.model.hasVisitedBefore : 'N';                    \r\n                    analyticService.pageList.supplementryCard.internal_reference_id = journeyService.getDataFromStorageContact().adobeId;\r\n                    analyticService.trackPageLoad(analyticService.pageList.supplementryCard);\r\n                };\r\n\r\n                vm.goback = function () {\r\n                    if ($scope.step10Form.cardHolderName.$invalid) {\r\n                        vm.model.cardHolderName = $scope.step10Form.cardHolderName.$$rawModelValue;\r\n                    }\r\n                    if ($scope.step10Form.mobile.$invalid) {\r\n                        vm.model.mobile = $scope.step10Form.mobile.$$rawModelValue;\r\n                    }\r\n                    saveFormDetailsInStorage();\r\n                    if (vm.model.balanceTransferTaken) {\r\n                        $state.go('app.journey.balance-transfer',{'cardKey':vm.selectedCard.key});\r\n                    } else {\r\n                        $state.go('app.journey.card-DIP',{'cardKey':vm.selectedCard.key});\r\n                    }\r\n                    analyticService.buttonList.buttonClick.event_content = \"back\";\r\n                    analyticService.trackUserAction(analyticService.buttonList.buttonClick);\r\n                };\r\n\r\n                var sendsaveNav = function (data) {\r\n                    var securityParams = {\r\n                        robocheck: vm.robocheck ? vm.robocheck : ''\r\n                    };\r\n                    step10Service.sendSupplementaryData(data, securityParams, false).then(function (result) {\r\n                        if (result.success) {\r\n                            saveFormDetailsInStorage();\r\n                            if (journeyService.isIncomeDocRequired()) {\r\n                                $state.go('app.journey.document',{'cardKey':vm.selectedCard.key});\r\n                            } else {\r\n                                $state.go('app.journey.signature',{'cardKey':vm.selectedCard.key});\r\n                            }\r\n                        }\r\n                    });\r\n                };\r\n\r\n                vm.next = function (isValid) {\r\n                    if (isValid) {\r\n                        var data = {\r\n                            \"cardHolderName\": vm.model.cardHolderName,\r\n                            \"cardHolderRelationship\": vm.model.cardHolderRelationship,\r\n                            \"dialCodeMobile\": vm.model.dialCodeMobile,\r\n                            \"mobile\": vm.model.mobile,\r\n                            \"hasVisitedBefore\": vm.model.hasVisitedBefore,\r\n                            \"supplementaryCardApplied\": \"Y\"\r\n                        };\r\n                        if (vm.model.hasVisitedBefore === 'Y') {\r\n                            sendsaveNav(data);\r\n                        } else {\r\n                            vm.model.hasVisitedBefore = 'Y';\r\n                            var modalSupplemetaryInstance = $uibModal.open({\r\n                                backdrop: 'static',\r\n                                keyboard: false,\r\n                                modalFade: true,\r\n                                component: \"addOnAckModal\",\r\n                                windowClass: 'card-detail-modal'\r\n                            });\r\n                            modalSupplemetaryInstance.result.then(function (isSelected) {\r\n                                data.hasVisitedBefore = vm.model.hasVisitedBefore;\r\n                                sendsaveNav(data);\r\n                            });\r\n                        }\r\n                    } else {\r\n                        vm.submitted = true;\r\n                        UtilService.focusOnInvalid(\"step10Form\");\r\n                    }\r\n                    analyticService.buttonList.buttonClick.event_content = \"continue\";\r\n                    analyticService.trackUserAction(analyticService.buttonList.buttonClick);\r\n                };\r\n\r\n                var saveFormDetailsInStorage = function () {\r\n                    var formDetails = {\r\n                        \"primaryApplicant\": {\r\n                            \"supplementaryCard\": {\r\n                                \"cardHolderName\": vm.model.cardHolderName,\r\n                                \"cardHolderRelationship\": vm.model.cardHolderRelationship,\r\n                                \"dialCodeMobile\": vm.model.dialCodeMobile,\r\n                                \"mobile\": vm.model.mobile,\r\n                                \"hasVisitedBefore\": vm.model.hasVisitedBefore\r\n                            }\r\n                        }\r\n                    };\r\n                    step10Service.setDataInStorage(formDetails);\r\n                };\r\n\r\n                vm.save = function () {\r\n                    var modalInstance = $uibModal.open({\r\n                        backdrop: 'static',\r\n                        keyboard: false,\r\n                        modalFade: true,\r\n                        component: \"overlaySaveConfirmation\",\r\n                        windowClass: 'card-detail-modal'\r\n                    });\r\n                    modalInstance.result.then(function (isSelected) {\r\n                        if (isSelected) {\r\n                            var data = {\r\n                                \"cardHolderName\": vm.model.cardHolderName,\r\n                                \"cardHolderRelationship\": vm.model.cardHolderRelationship,\r\n                                \"dialCodeMobile\": vm.model.dialCodeMobile,\r\n                                \"mobile\": vm.model.mobile,\r\n                                \"hasVisitedBefore\": vm.model.hasVisitedBefore,\r\n                                \"supplementaryCardApplied\": \"Y\"\r\n                            };\r\n                            var securityParams = {\r\n                                robocheck: vm.robocheck ? vm.robocheck : ''\r\n                            };\r\n                            step10Service.sendSupplementaryData(data, securityParams, true).then(function (result) {\r\n                                if (result.success) {\r\n                                    saveFormDetailsInStorage();\r\n                                    $state.go('app.save-exit', {\r\n                                        saveData: {\r\n                                            name: journeyService.getApplicantInfo(\"fullName\")\r\n                                        },cardKey:vm.selectedCard.key\r\n                                    });\r\n                                }\r\n                            });\r\n                        }\r\n                    }, function () { });\r\n                    analyticService.buttonList.buttonClick.event_content = \"save for later\";\r\n                    analyticService.trackUserAction(analyticService.buttonList.buttonClick);\r\n                };\r\n            }]\r\n    });\r\n\r\n    module.exports = step10Comp.name;\r\n})();\n\n/***/ }),\n\n/***/ \"./src/app/components/journey/step10/step10.component.scss\":\n/* unknown exports provided */\n/* all exports used */\n/*!*****************************************************************!*\\\n  !*** ./src/app/components/journey/step10/step10.component.scss ***!\n  \\*****************************************************************/\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"./src/app/components/journey/step10/step10.component.service.js\":\n/* unknown exports provided */\n/* all exports used */\n/*!***********************************************************************!*\\\n  !*** ./src/app/components/journey/step10/step10.component.service.js ***!\n  \\***********************************************************************/\n/***/ (function(module, exports) {\n\n(function () {\r\n    'use strict';\r\n\r\n    var step10Service = angular.module('journey.module').service('step10Service', ['$rootScope', '$http', 'appState', 'CONFIG', function ($rootScope, $http, appState, CONFIG) {\r\n        var self = this;\r\n\r\n        self.setDataInStorage = function (formDetails, callback) {\r\n            // var arnData = angular.merge({}, appState.getApplicationData(), formDetails);\r\n            // appState.setApplicationData(arnData);\r\n            // callback(null, formDetails);\r\n            appState.mergeApplicationData(formDetails);\r\n        };\r\n\r\n        self.getDataFromStorage = function () {\r\n            return appState.getApplicationData();\r\n        };\r\n\r\n\r\n        self.sendSupplementaryData = function (supData, securityParams, isSaveExit) {\r\n            var apiURL, httpMethod;\r\n            if ($rootScope.integrationsActive) {\r\n                httpMethod = \"POST\";\r\n                var arn = appState.getApplicationData().primaryApplicant.arn;\r\n                apiURL = CONFIG.apiUrl + '/applicantdetails/supplementarycard/save/' + arn + '/' + isSaveExit + '?hash_id=' + Math.random();\r\n            } else {\r\n                httpMethod = \"GET\";\r\n                apiURL = 'resources/data/mock/step10_supplementary_save.json';\r\n            }\r\n            return $http({\r\n                method: httpMethod,\r\n                url: apiURL,\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                data: JSON.stringify(supData),\r\n                params: securityParams\r\n            }).then(function (response) {\r\n                if (response.status === 200 && response.data) {\r\n                    return response.data;\r\n                } else if (response && response.validationErrors) { } else { }\r\n                return;\r\n            }, function (response) {\r\n                return;\r\n            });\r\n        };\r\n\r\n        self.getUserDetails = function () {\r\n            var userDTO = {},\r\n                localState = appState.getApplicationData();\r\n            if (localState) {\r\n                if (localState.primaryApplicant) {\r\n                    if (localState.primaryApplicant.dipDetails) {\r\n                        userDTO.balanceTransferTaken = localState.primaryApplicant.dipDetails.balanceTransferTaken === 'Y';\r\n                    }\r\n                    if (localState.primaryApplicant.supplementaryCard) {\r\n                        userDTO.cardHolderName = localState.primaryApplicant.supplementaryCard.cardHolderName ? localState.primaryApplicant.supplementaryCard.cardHolderName : null;\r\n                        userDTO.cardHolderRelationship = localState.primaryApplicant.supplementaryCard.cardHolderRelationship ? localState.primaryApplicant.supplementaryCard.cardHolderRelationship : null;\r\n                        userDTO.dialCodeMobile = localState.primaryApplicant.supplementaryCard.dialCodeMobile ? localState.primaryApplicant.supplementaryCard.dialCodeMobile : null;\r\n                        userDTO.mobile = localState.primaryApplicant.supplementaryCard.mobile ? localState.primaryApplicant.supplementaryCard.mobile : null;\r\n                        userDTO.hasVisitedBefore = localState.primaryApplicant.supplementaryCard.hasVisitedBefore ? localState.primaryApplicant.supplementaryCard.hasVisitedBefore : 'N';\r\n                    }\r\n                }\r\n            }\r\n            return userDTO;\r\n        };\r\n\r\n    }]);\r\n\r\n    module.exports = step10Service.name;\r\n})();\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// resources/js/77f2cb1a65809ce0d16011.js","module.exports = \"<div class=modal-header> <div class=heading-container> </div> <div class=close-button-container> <button type=button class=close aria-label=Close ng-click=$ctrl.cancel()> <span aria-hidden=true>Ã—</span> </button> </div> </div> <div class=modal-body> <p> Thank you for your consent to issue an Add-on card. </p> <p class=no-margin-b> We will contact you within 2 working days to complete the Add-on card application process. </p> </div> <div class=modal-footer> <div class=buttons-container> <button class=button-primary ng-click=$ctrl.Close(true)>Ok</button> </div> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/journey/step10/add-on-ack/add-on-ack.modal.component.html\n// module id = ./src/app/components/journey/step10/add-on-ack/add-on-ack.modal.component.html\n// module chunks = 11","(function () {\r\n    'use strict';\r\n    var angular = require('angular');\r\n\r\n    var modalController = function (analyticService) {\r\n        var vm = this;\r\n\r\n        vm.$onInit = function () {\r\n            analyticService.buttonList.popup.event_content = \"Add on Card Confirmation\";\r\n            analyticService.trackUserAction(analyticService.buttonList.popup);\r\n        };\r\n\r\n        /**\r\n         * This function is triggered when we select or unselect card.\r\n         * We push the selected card in selectedPrimaryCards array and\r\n         *  pop the unselected card.\r\n         */\r\n        vm.Close = function (isSelected) {\r\n            vm.close({\r\n                $value: isSelected\r\n            });\r\n        };\r\n\r\n        vm.cancel = function () {\r\n            vm.dismiss({\r\n                $value: 'cancel'\r\n            });\r\n        };\r\n    };\r\n\r\n    var modalComp = angular.module('journey.module').component('addOnAckModal', {\r\n        template: require('./add-on-ack.modal.component.html'),\r\n        bindings: {\r\n            resolve: '<',\r\n            close: '&',\r\n            dismiss: '&'\r\n        },\r\n        controller: ['analyticService', modalController]\r\n    });\r\n    module.exports = modalComp.name;\r\n})();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/journey/step10/add-on-ack/add-on-ack.modal.component.js\n// module id = ./src/app/components/journey/step10/add-on-ack/add-on-ack.modal.component.js\n// module chunks = 11","module.exports = \"<div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <form name=step10Form autocomplete=off novalidate> <input type=text class=hidden-field ng-model=$ctrl.robocheck tabindex=-1> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <div class=\\\"form-group customer-details\\\"> <h1 class=\\\"brand-bar no-margin-top\\\">Add-on Card</h1> </div> </div> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <p class=no-margin-b> You can apply for an add-on credit card for your spouse, your parents, siblings or your children above 18 years. The limit on this card will be part of the credit limit on your primary credit card. </p> </div> </div> <div class=row> <div class=\\\"col-md-5 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=cardHolderName class=form__label>Name of the Add on Applicant</label> <div ng-class=\\\"{'has-error': step10Form.cardHolderName.$invalid && ($ctrl.submitted || step10Form.cardHolderName.$touched)}\\\"> <input type=text trim class=form-control alpha-space=50 id=cardHolderName name=cardHolderName aria-describedby=cardHolderNameErrMsg onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-minlength=2 ng-model=$ctrl.model.cardHolderName aria-invalid=\\\"{{step10Form.cardHolderName.$invalid && ($ctrl.submitted || step10Form.cardHolderName.$touched)}}\\\" required> </div> <div id=cardHolderNameErrMsg class=\\\"form-group col-md-12 col-sm-12 col-xs-12 remove-margin\\\" ng-class=\\\"{'has-error': step10Form.cardHolderName.$invalid}\\\"> <div class=row> <validation-msg ng-if=\\\"step10Form.cardHolderName.$error.required && (step10Form.cardHolderName.$touched || $ctrl.submitted)\\\"> Please enter your name to continue with your application. </validation-msg> <validation-msg ng-if=\\\"step10Form.cardHolderName.$error.minlength && (step10Form.cardHolderName.$touched || $ctrl.submitted)\\\"> Please enter minimum of 2 letters for the add-on cardholder </validation-msg> </div> </div> </div> </div> <div class=\\\"col-md-5 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=mobile>Add-on cardholder's mobile number</label> <div class=input-group ng-class=\\\"{'has-error': step10Form.mobile.$invalid && (step10Form.mobile.$touched || $ctrl.submitted)}\\\"> <span class=input-group-addon id=countryCode aria-hidden=true tabindex=-1> <span class=\\\"flag in\\\" style=background-image:url(resources/images/country-flags-sprite.png)></span> +91</span> <input trim type=tel id=mobile name=mobile class=\\\"form-control has-block\\\" ng-model=$ctrl.model.mobile ng-cut=$event.preventDefault() ng-minlength=10 ng-pattern=/^[6-9]\\\\d{9}$/ only-number=10 aria-describedby=\\\"countryCode mobileErrMsg\\\" aria-invalid=\\\"{{step10Form.mobile.$invalid && (step10Form.mobile.$touched || $ctrl.submitted)}}\\\" required> </div> <div id=mobileErrMsg class=\\\"form-group remove-padding\\\" ng-class=\\\"{'has-error': step10Form.mobile.$invalid}\\\"> <validation-msg ng-if=\\\"step10Form.mobile.$error.required && (step10Form.mobile.$touched || $ctrl.submitted)\\\"> Please enter your mobile number. </validation-msg> <validation-msg ng-if=\\\"step10Form.mobile.$error.minlength && (step10Form.mobile.$touched || $ctrl.submitted)\\\"> Please enter at least 10 numbers. </validation-msg> <validation-msg ng-if=\\\"!step10Form.mobile.$error.minlength && step10Form.mobile.$error.pattern && (step10Form.mobile.$touched || $ctrl.submitted)\\\"> Your mobile phone number must begin with 6, 7, 8 or 9. Please check and re-enter. </validation-msg> </div> </div> </div> </div> <div class=row> <div class=\\\"col-md-5 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label class=form__label for=relation>Relationship with primary cardholder</label> <div ng-class=\\\"{'has-error': step10Form.relation.$invalid && (step10Form.relation.$touched || $ctrl.submitted)}\\\"> <custom-select> <select id=relation name=relation class=form-control ng-model=$ctrl.model.cardHolderRelationship ng-options=\\\"item for item in $ctrl.relationList\\\" aria-describedby=relationErrMsg aria-invalid=\\\"{{step10Form.relation.$invalid && (step10Form.relation.$touched || $ctrl.submitted)}}\\\" required> <option value=\\\"\\\">Please select</option> </select> </custom-select> </div> <div id=relationErrMsg class=\\\"form-group remove-margin\\\" ng-class=\\\"{'has-error': step10Form.relation.$invalid}\\\"> <validation-msg ng-if=\\\"step10Form.relation.$error.required && (step10Form.relation.$touched || $ctrl.submitted)\\\"> {{ $ctrl.errorMessages.selectRelation }} </validation-msg> </div> </div> </div> </div> <div class=row> <div class=\\\"col-md-9 col-sm-12 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <p class=no-margin-b> I hereby agree, give consent and confirmÂ that I have obtained consent from my family member for issuance ofÂ an add-on credit card. By submitting this request, I authorize HSBCÂ to issue an add-on card on receipt ofÂ required KYC details. </p> </div> </div> </div> <step-footer show-back=true back-callback=$ctrl.goback() show-save=true save-callback=$ctrl.save() show-continue=true continue-button-id=continue-btn continue-disabled=false continue-callback=$ctrl.next(step10Form.$valid) continue-overlay=\\\"!($ctrl.model.hasVisitedBefore == 'Y')\\\"> </step-footer> </form> </div> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/journey/step10/step10.component.html\n// module id = ./src/app/components/journey/step10/step10.component.html\n// module chunks = 11","(function () {\r\n    'use strict';\r\n    var angular = require('angular');\r\n    require('./step10.component.scss');\r\n    require('./step10.component.service.js');\r\n    // require('../save-exit.modal/overlayConfirmation.modal.component.js');\r\n    require('./add-on-ack/add-on-ack.modal.component.js');\r\n\r\n    var step10Comp = angular.module('journey.module').component('step10', {\r\n        template: require('./step10.component.html'),\r\n        controller: ['$rootScope', '$scope', '$uibModal', '$anchorScroll', '$state', 'journeyService', 'step10Service', 'analyticService', 'UtilService',\r\n            function ($rootScope, $scope, $uibModal, $anchorScroll, $state, journeyService, step10Service, analyticService, UtilService) {\r\n                var vm = this;\r\n                // var overlayCheck = '';\r\n                vm.$onInit = function () {\r\n                    $rootScope.$broadcast('hide-step-header', {\r\n                        hideHeader: false\r\n                    });\r\n                    $rootScope.showSelectedCard = true;\r\n                    $rootScope.showARN = true;\r\n                    $rootScope.dipARN = journeyService.getApplicantInfo(\"dipDetails\").dipArn;\r\n                    vm.relationList = ['Brother / Sister', 'Father / Mother', 'Son / Daughter', 'Spouse'];\r\n                    $anchorScroll();\r\n                    $rootScope.stepsHeader.currentStep = 4;\r\n                    vm.selectedCard = journeyService.getSelectedCard();\r\n                    vm.model = {};\r\n                    vm.model = step10Service.getUserDetails();\r\n                    vm.model.dialCodeMobile = \"91\";\r\n                    journeyService.getErrorMessages().then(function (response) {\r\n                        vm.errorMessages = response.step10;\r\n                    });\r\n                    // overlayCheck = vm.model.hasVisitedBefore ? vm.model.hasVisitedBefore : 'N';                    \r\n                    analyticService.pageList.supplementryCard.internal_reference_id = journeyService.getDataFromStorageContact().adobeId;\r\n                    analyticService.trackPageLoad(analyticService.pageList.supplementryCard);\r\n                };\r\n\r\n                vm.goback = function () {\r\n                    if ($scope.step10Form.cardHolderName.$invalid) {\r\n                        vm.model.cardHolderName = $scope.step10Form.cardHolderName.$$rawModelValue;\r\n                    }\r\n                    if ($scope.step10Form.mobile.$invalid) {\r\n                        vm.model.mobile = $scope.step10Form.mobile.$$rawModelValue;\r\n                    }\r\n                    saveFormDetailsInStorage();\r\n                    if (vm.model.balanceTransferTaken) {\r\n                        $state.go('app.journey.balance-transfer',{'cardKey':vm.selectedCard.key});\r\n                    } else {\r\n                        $state.go('app.journey.card-DIP',{'cardKey':vm.selectedCard.key});\r\n                    }\r\n                    analyticService.buttonList.buttonClick.event_content = \"back\";\r\n                    analyticService.trackUserAction(analyticService.buttonList.buttonClick);\r\n                };\r\n\r\n                var sendsaveNav = function (data) {\r\n                    var securityParams = {\r\n                        robocheck: vm.robocheck ? vm.robocheck : ''\r\n                    };\r\n                    step10Service.sendSupplementaryData(data, securityParams, false).then(function (result) {\r\n                        if (result.success) {\r\n                            saveFormDetailsInStorage();\r\n                            if (journeyService.isIncomeDocRequired()) {\r\n                                $state.go('app.journey.document',{'cardKey':vm.selectedCard.key});\r\n                            } else {\r\n                                $state.go('app.journey.signature',{'cardKey':vm.selectedCard.key});\r\n                            }\r\n                        }\r\n                    });\r\n                };\r\n\r\n                vm.next = function (isValid) {\r\n                    if (isValid) {\r\n                        var data = {\r\n                            \"cardHolderName\": vm.model.cardHolderName,\r\n                            \"cardHolderRelationship\": vm.model.cardHolderRelationship,\r\n                            \"dialCodeMobile\": vm.model.dialCodeMobile,\r\n                            \"mobile\": vm.model.mobile,\r\n                            \"hasVisitedBefore\": vm.model.hasVisitedBefore,\r\n                            \"supplementaryCardApplied\": \"Y\"\r\n                        };\r\n                        if (vm.model.hasVisitedBefore === 'Y') {\r\n                            sendsaveNav(data);\r\n                        } else {\r\n                            vm.model.hasVisitedBefore = 'Y';\r\n                            var modalSupplemetaryInstance = $uibModal.open({\r\n                                backdrop: 'static',\r\n                                keyboard: false,\r\n                                modalFade: true,\r\n                                component: \"addOnAckModal\",\r\n                                windowClass: 'card-detail-modal'\r\n                            });\r\n                            modalSupplemetaryInstance.result.then(function (isSelected) {\r\n                                data.hasVisitedBefore = vm.model.hasVisitedBefore;\r\n                                sendsaveNav(data);\r\n                            });\r\n                        }\r\n                    } else {\r\n                        vm.submitted = true;\r\n                        UtilService.focusOnInvalid(\"step10Form\");\r\n                    }\r\n                    analyticService.buttonList.buttonClick.event_content = \"continue\";\r\n                    analyticService.trackUserAction(analyticService.buttonList.buttonClick);\r\n                };\r\n\r\n                var saveFormDetailsInStorage = function () {\r\n                    var formDetails = {\r\n                        \"primaryApplicant\": {\r\n                            \"supplementaryCard\": {\r\n                                \"cardHolderName\": vm.model.cardHolderName,\r\n                                \"cardHolderRelationship\": vm.model.cardHolderRelationship,\r\n                                \"dialCodeMobile\": vm.model.dialCodeMobile,\r\n                                \"mobile\": vm.model.mobile,\r\n                                \"hasVisitedBefore\": vm.model.hasVisitedBefore\r\n                            }\r\n                        }\r\n                    };\r\n                    step10Service.setDataInStorage(formDetails);\r\n                };\r\n\r\n                vm.save = function () {\r\n                    var modalInstance = $uibModal.open({\r\n                        backdrop: 'static',\r\n                        keyboard: false,\r\n                        modalFade: true,\r\n                        component: \"overlaySaveConfirmation\",\r\n                        windowClass: 'card-detail-modal'\r\n                    });\r\n                    modalInstance.result.then(function (isSelected) {\r\n                        if (isSelected) {\r\n                            var data = {\r\n                                \"cardHolderName\": vm.model.cardHolderName,\r\n                                \"cardHolderRelationship\": vm.model.cardHolderRelationship,\r\n                                \"dialCodeMobile\": vm.model.dialCodeMobile,\r\n                                \"mobile\": vm.model.mobile,\r\n                                \"hasVisitedBefore\": vm.model.hasVisitedBefore,\r\n                                \"supplementaryCardApplied\": \"Y\"\r\n                            };\r\n                            var securityParams = {\r\n                                robocheck: vm.robocheck ? vm.robocheck : ''\r\n                            };\r\n                            step10Service.sendSupplementaryData(data, securityParams, true).then(function (result) {\r\n                                if (result.success) {\r\n                                    saveFormDetailsInStorage();\r\n                                    $state.go('app.save-exit', {\r\n                                        saveData: {\r\n                                            name: journeyService.getApplicantInfo(\"fullName\")\r\n                                        },cardKey:vm.selectedCard.key\r\n                                    });\r\n                                }\r\n                            });\r\n                        }\r\n                    }, function () { });\r\n                    analyticService.buttonList.buttonClick.event_content = \"save for later\";\r\n                    analyticService.trackUserAction(analyticService.buttonList.buttonClick);\r\n                };\r\n            }]\r\n    });\r\n\r\n    module.exports = step10Comp.name;\r\n})();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/journey/step10/step10.component.js\n// module id = ./src/app/components/journey/step10/step10.component.js\n// module chunks = 11","(function () {\r\n    'use strict';\r\n\r\n    var step10Service = angular.module('journey.module').service('step10Service', ['$rootScope', '$http', 'appState', 'CONFIG', function ($rootScope, $http, appState, CONFIG) {\r\n        var self = this;\r\n\r\n        self.setDataInStorage = function (formDetails, callback) {\r\n            // var arnData = angular.merge({}, appState.getApplicationData(), formDetails);\r\n            // appState.setApplicationData(arnData);\r\n            // callback(null, formDetails);\r\n            appState.mergeApplicationData(formDetails);\r\n        };\r\n\r\n        self.getDataFromStorage = function () {\r\n            return appState.getApplicationData();\r\n        };\r\n\r\n\r\n        self.sendSupplementaryData = function (supData, securityParams, isSaveExit) {\r\n            var apiURL, httpMethod;\r\n            if ($rootScope.integrationsActive) {\r\n                httpMethod = \"POST\";\r\n                var arn = appState.getApplicationData().primaryApplicant.arn;\r\n                apiURL = CONFIG.apiUrl + '/applicantdetails/supplementarycard/save/' + arn + '/' + isSaveExit + '?hash_id=' + Math.random();\r\n            } else {\r\n                httpMethod = \"GET\";\r\n                apiURL = 'resources/data/mock/step10_supplementary_save.json';\r\n            }\r\n            return $http({\r\n                method: httpMethod,\r\n                url: apiURL,\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                data: JSON.stringify(supData),\r\n                params: securityParams\r\n            }).then(function (response) {\r\n                if (response.status === 200 && response.data) {\r\n                    return response.data;\r\n                } else if (response && response.validationErrors) { } else { }\r\n                return;\r\n            }, function (response) {\r\n                return;\r\n            });\r\n        };\r\n\r\n        self.getUserDetails = function () {\r\n            var userDTO = {},\r\n                localState = appState.getApplicationData();\r\n            if (localState) {\r\n                if (localState.primaryApplicant) {\r\n                    if (localState.primaryApplicant.dipDetails) {\r\n                        userDTO.balanceTransferTaken = localState.primaryApplicant.dipDetails.balanceTransferTaken === 'Y';\r\n                    }\r\n                    if (localState.primaryApplicant.supplementaryCard) {\r\n                        userDTO.cardHolderName = localState.primaryApplicant.supplementaryCard.cardHolderName ? localState.primaryApplicant.supplementaryCard.cardHolderName : null;\r\n                        userDTO.cardHolderRelationship = localState.primaryApplicant.supplementaryCard.cardHolderRelationship ? localState.primaryApplicant.supplementaryCard.cardHolderRelationship : null;\r\n                        userDTO.dialCodeMobile = localState.primaryApplicant.supplementaryCard.dialCodeMobile ? localState.primaryApplicant.supplementaryCard.dialCodeMobile : null;\r\n                        userDTO.mobile = localState.primaryApplicant.supplementaryCard.mobile ? localState.primaryApplicant.supplementaryCard.mobile : null;\r\n                        userDTO.hasVisitedBefore = localState.primaryApplicant.supplementaryCard.hasVisitedBefore ? localState.primaryApplicant.supplementaryCard.hasVisitedBefore : 'N';\r\n                    }\r\n                }\r\n            }\r\n            return userDTO;\r\n        };\r\n\r\n    }]);\r\n\r\n    module.exports = step10Service.name;\r\n})();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/journey/step10/step10.component.service.js\n// module id = ./src/app/components/journey/step10/step10.component.service.js\n// module chunks = 11"],"sourceRoot":""}