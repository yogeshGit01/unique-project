webpackJsonp([1],{"./src/app/components/journey/step6/card-swap-modal/card-swap.modal.component.html":/*!*****************************************************************************************!*\
  !*** ./src/app/components/journey/step6/card-swap-modal/card-swap.modal.component.html ***!
  \*****************************************************************************************/
function(e,r){e.exports="<div class=modal-header> <div class=heading-container> </div> <div class=close-button-container> <button type=button class=close aria-label=Close ng-click=$ctrl.cancel()> <span aria-hidden=true>Ã—</span> </button> </div> </div> <div class=modal-body> <p> Based on your income details, you are eligible for <strong>Smart Value Card</strong>. Accordingly we will process your application for the Smart Value Card. </p> <h1 class=h5> <strong>HSBC Smart Value Credit Card</strong> </h1> <ul> <li>INR 2000 Cleartrip voucher and INR 250 Amazon gift voucher on first transaction</li> <li>10% cashback up to Rs. 1,000 on minimum spend of Rs. 5,000 within first 60 days of card issuance.</li> <li>Attractive Instalment plans at 10.99% p.a. for EMI products - Applicable for Loan on Phone, Balance Transfer on EMI and Cash on EMI</li> <li> Dynamic Finance Charge interest rates starting from 2.99% p.m., going down to 1.99% p.m. based on credit history & repayment behavior </li> <li>Joining fee : NIL ; Annual fee : Rs 499 annual fee (waived off for annual spends of Rs 50,000 or more)</li> </ul> </div> <div class=modal-footer> <div class=buttons-container> <button class=button-outline ng-click=$ctrl.closeOverlay(false)>Do not proceed</button> <button class=button-primary ng-click=$ctrl.closeOverlay(true)>Proceed</button> </div> </div>"},"./src/app/components/journey/step6/card-swap-modal/card-swap.modal.component.js":/*!***************************************************************************************!*\
  !*** ./src/app/components/journey/step6/card-swap-modal/card-swap.modal.component.js ***!
  \***************************************************************************************/
function(e,r,t){!function(){"use strict";var r=t(/*! angular */"./node_modules/angular/index.js");t(/*! ./card-swap.modal.component.scss */"./src/app/components/journey/step6/card-swap-modal/card-swap.modal.component.scss");var o=function(e){var r=this;r.$onInit=function(){e.buttonList.popup.event_content="Swap card selected by customer based on annual income confirmation",e.trackUserAction(e.buttonList.popup)},r.closeOverlay=function(t){e.buttonList.buttonClick.event_content="Proceed",e.trackUserAction(e.buttonList.buttonClick),r.close({$value:t})},r.cancel=function(){r.dismiss({$value:"cancel"})}},s=r.module("journey.module").component("cardSwapModal",{template:t(/*! ./card-swap.modal.component.html */"./src/app/components/journey/step6/card-swap-modal/card-swap.modal.component.html"),bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["analyticService",o]});e.exports=s.name}()},"./src/app/components/journey/step6/card-swap-modal/card-swap.modal.component.scss":/*!*****************************************************************************************!*\
  !*** ./src/app/components/journey/step6/card-swap-modal/card-swap.modal.component.scss ***!
  \*****************************************************************************************/
function(e,r){},"./src/app/components/journey/step6/step6.component.html":/*!***************************************************************!*\
  !*** ./src/app/components/journey/step6/step6.component.html ***!
  \***************************************************************/
function(e,r){e.exports='<form name=step6Form autocomplete=off novalidate> <input type=text class=hidden-field ng-model=$ctrl.robocheck tabindex=-1> <h1 class="brand-bar no-margin-top">Employment details</h1> <alert-msg ng-if=$ctrl.errorMsg type=ERROR> {{$ctrl.errorMsg}} </alert-msg> <div class=row ng-if="$ctrl.cardTypeAE != \'Supplementary Card\'"> <div class="col-md-4 col-sm-6 col-xs-12" ng-if="!$ctrl.isStaffJourney && $ctrl.selectedCard.key !=\'MJY\' && $ctrl.selectedCard.key !=\'SVC\' && $ctrl.selectedCard.key !=\'HPR\'"> <div class=form-group> <label for=grossIncome>Gross annual income </label> <div ng-class="{\'has-error\': (step6Form.grossIncome.$invalid || $ctrl.model.grossIncome<=0) && ($ctrl.submitted || step6Form.grossIncome.$touched)}"> <input trim only-number=11 type=tel class=form-control id=grossIncome name=grossIncome aria-describedby=annualIncomeErrMsg ng-model=$ctrl.model.grossIncome onkeypress="if(0==this.value.length&&(48==event.which||32===event.charCode))return!1" ng-blur=$ctrl.validateIncome() ng-keyup=$ctrl.validateIncome() ng-maxlength=11 min=400000 maxlength=11 aria-invalid="{{step6Form.grossIncome.$invalid && ($ctrl.submitted || step6Form.grossIncome.$touched)}}" ng-disabled=$ctrl.disableGrossIncome ng-required=required> </div> <div id=annualIncomeErrMsg ng-class="{\'has-error\': step6Form.grossIncome.$invalid && (step6Form.grossIncome.$touched || $ctrl.submitted)}"> <validation-msg ng-if="step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)"> Please enter your gross annual income to continue with your application. </validation-msg> <validation-msg ng-if="step6Form.grossIncome.$error.maxlength && (step6Form.grossIncome.$touched || $ctrl.submitted)"> Maximum of 11 digits allowed. </validation-msg> <validation-msg ng-if="step6Form.grossIncome.$error.min && !step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)"> Gross annual income should be at least INR 4,00,000 for all card variants. </validation-msg> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12" ng-if="$ctrl.isStaffJourney && $ctrl.selectedCard.key !=\'MJY\' && $ctrl.selectedCard.key !=\'SVC\' && $ctrl.selectedCard.key !=\'HPR\'"> <div class=form-group> <label for=grossIncome>Gross annual income</label> <div ng-class="{\'has-error\': (step6Form.grossIncome.$invalid || $ctrl.model.grossIncome<=0) && ($ctrl.submitted || step6Form.grossIncome.$touched)}"> <input trim only-number=11 type=tel class=form-control id=grossIncome name=grossIncome aria-describedby=annualIncomeErrMsg ng-model=$ctrl.model.grossIncome onkeypress="if(0==this.value.length&&(48==event.which||32===event.charCode))return!1" ng-blur=$ctrl.validateIncome() ng-keyup=$ctrl.validateIncome() ng-maxlength=11 min=300000 maxlength=11 aria-invalid="{{step6Form.grossIncome.$invalid && ($ctrl.submitted || step6Form.grossIncome.$touched)}}" ng-disabled="$ctrl.disableGrossIncome || $ctrl.hprDisabledFields" ng-required=required> </div> <div id=annualIncomeErrMsg ng-class="{\'has-error\': step6Form.grossIncome.$invalid && (step6Form.grossIncome.$touched || $ctrl.submitted)}"> <validation-msg ng-if="step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)"> Please enter your gross annual income to continue with your application. </validation-msg> <validation-msg ng-if="step6Form.grossIncome.$error.maxlength && (step6Form.grossIncome.$touched || $ctrl.submitted)"> Maximum of 11 digits allowed. </validation-msg> <validation-msg ng-if="step6Form.grossIncome.$error.min && !step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)"> Gross annual income should be at least INR 3,00,000 for all card variants. </validation-msg> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12" ng-if="$ctrl.selectedCard.key ==\'MJY\' && $ctrl.selectedCard.key !=\'SVC\'"> <div class=form-group> <label for=grossIncome>Gross annual income</label> <div ng-class="{\'has-error\': (step6Form.grossIncome.$invalid || $ctrl.model.grossIncome<=0) && ($ctrl.submitted || step6Form.grossIncome.$touched)}"> <input trim only-number=11 type=tel class=form-control id=grossIncome name=grossIncome aria-describedby=annualIncomeErrMsg ng-model=$ctrl.model.grossIncome onkeypress="if(0==this.value.length&&(48==event.which||32===event.charCode))return!1" ng-blur=$ctrl.validateIncome() ng-keyup=$ctrl.validateIncome() ng-maxlength=11 min=400000 maxlength=11 placeholder="please enter more than 4,00,000" aria-invalid="{{step6Form.grossIncome.$invalid && ($ctrl.submitted || step6Form.grossIncome.$touched)}}" ng-disabled=$ctrl.disableGrossIncome ng-required=required> </div> <div id=annualIncomeErrMsg ng-class="{\'has-error\': step6Form.grossIncome.$invalid && (step6Form.grossIncome.$touched || $ctrl.submitted)}"> <validation-msg ng-if="step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)"> Please enter your gross annual income to continue with your application. </validation-msg> <validation-msg ng-if="step6Form.grossIncome.$error.maxlength && (step6Form.grossIncome.$touched || $ctrl.submitted)"> Maximum of 11 digits allowed. </validation-msg> <validation-msg ng-if="step6Form.grossIncome.$error.min && !step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)"> Gross annual income should be at least INR 4,00,000 for Travel One Card. </validation-msg> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12" ng-if="$ctrl.selectedCard.key ==\'SVC\'"> <div class=form-group> <label for=grossIncome>Gross annual income</label> <div ng-class="{\'has-error\': (step6Form.grossIncome.$invalid || $ctrl.model.grossIncome<=0) && ($ctrl.submitted || step6Form.grossIncome.$touched)}"> <input trim only-number=11 type=tel class=form-control id=grossIncome name=grossIncome aria-describedby=annualIncomeErrMsg ng-model=$ctrl.model.grossIncome onkeypress="if(0==this.value.length&&(48==event.which||32===event.charCode))return!1" ng-blur=$ctrl.validateIncome() ng-keyup=$ctrl.validateIncome() ng-maxlength=11 min=4000000 maxlength=11 placeholder="please enter more than 40,00,000" aria-invalid="{{step6Form.grossIncome.$invalid && ($ctrl.submitted || step6Form.grossIncome.$touched)}}" ng-disabled=$ctrl.disableGrossIncome ng-required=required> </div> <div id=annualIncomeErrMsg ng-class="{\'has-error\': step6Form.grossIncome.$invalid && (step6Form.grossIncome.$touched || $ctrl.submitted)}"> <validation-msg ng-if="step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)"> Please enter your gross annual income to continue with your application. </validation-msg> <validation-msg ng-if="step6Form.grossIncome.$error.maxlength && (step6Form.grossIncome.$touched || $ctrl.submitted)"> Maximum of 11 digits allowed. </validation-msg> <validation-msg ng-if="step6Form.grossIncome.$error.min && !step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)"> Gross annual income should be at least INR 40,00,000 for TAJ card variants. </validation-msg> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12" ng-if="$ctrl.selectedCard.key ==\'HPR\'"> <div class=form-group> <label for=grossIncome>Gross annual income</label> <div ng-class="{\'has-error\': (step6Form.grossIncome.$invalid || $ctrl.model.grossIncome<=0) && ($ctrl.submitted || step6Form.grossIncome.$touched)}"> <input trim only-number=11 type=tel class=form-control id=grossIncome name=grossIncome aria-describedby=annualIncomeErrMsg ng-model=$ctrl.model.grossIncome onkeypress="if(0==this.value.length&&(48==event.which||32===event.charCode))return!1" ng-blur=$ctrl.validateIncome() ng-keyup=$ctrl.validateIncome() ng-maxlength=11 min=3600000 maxlength=11 aria-invalid="{{step6Form.grossIncome.$invalid && ($ctrl.submitted || step6Form.grossIncome.$touched)}}" ng-disabled=$ctrl.disableGrossIncome ng-required=required> </div> <div id=annualIncomeErrMsg ng-class="{\'has-error\': step6Form.grossIncome.$invalid && (step6Form.grossIncome.$touched || $ctrl.submitted)}"> <validation-msg ng-if="step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)"> Please enter your gross annual income to continue with your application. </validation-msg> <validation-msg ng-if="step6Form.grossIncome.$error.maxlength && (step6Form.grossIncome.$touched || $ctrl.submitted)"> Maximum of 11 digits allowed. </validation-msg> <validation-msg ng-if="step6Form.grossIncome.$error.min && !step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)"> Gross annual income should be at least INR 36,00,000. </validation-msg> </div> </div> </div> <div class="col-md-8 col-sm-12 col-xs-12"> <div class="form-group line-spacer-xs line-spacer-sm"> <div class=row> <div class="col-md-12 col-sm-12 col-xs-12"> <label id=employmentDurationLabel>Total no. of years of employment/business (year/month) </label> </div> <div class="col-md-6 col-sm-6 col-xs-12"> <div class="col-md-6 col-sm-6 col-xs-6 remove-padding"> <div ng-class="{\'has-error\': step6Form.year.$invalid && ($ctrl.submitted || step6Form.year.$touched)}"> <custom-select> <select trim type=tel name=year aria-label="Total no. of years of employment/business (YY)" aria-describedby=empLenErrMsg ng-model=$ctrl.model.year ng-options="item.value as item.label disable when $ctrl.model.lengthOfStayMonth === 0 && item.value === 0 for item in $ctrl.lengthOfStayYears" class="form-control text-center" ng-blur=$ctrl.validateEmploymentLength() ng-disabled=$ctrl.hprDisabledFields required> <option value="">Please select</option> </select> </custom-select> </div> </div> <div class="col-md-6 col-sm-6 col-xs-6 remove-padding"> <div ng-class="{\'has-error\': step6Form.month.$invalid && ($ctrl.submitted || step6Form.month.$touched)}"> <custom-select> <select trim type=tel name=month aria-label="Total no. of years of employment/business (MM)" aria-describedby=empLenErrMsg ng-model=$ctrl.model.month class="form-control text-center" ng-options="item.value as item.label disable when $ctrl.model.lengthOfStayYear === 0 && item.value === 0 for item in $ctrl.lengthOfStayMonths" ng-blur=$ctrl.validateEmploymentLength() ng-disabled=$ctrl.hprDisabledFields required> <option value="">Please select</option> </select> </custom-select> </div> </div> </div> </div> <div class=row> <div id=empLenErrMsg class="col-md-6 col-sm-6 col-xs-12" ng-class="{\'has-error\': step6Form.year.$invalid || step6Form.month.$invalid}" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if="((step6Form.year.$error.required && step6Form.year.$touched) ||(step6Form.year.$error.required && $ctrl.submitted)) || ((step6Form.month.$error.required && step6Form.month.$touched) ||(step6Form.month.$error.required && $ctrl.submitted))"> {{$ctrl.errorMessages.enterEmploymentPeriod}} </validation-msg> <validation-msg ng-if="step6Form.year.$error.minEmp && (!step6Form.year.$error.required && !step6Form.month.$error.required)"> {{$ctrl.errorMessages.limitEmplymentPeriod}} </validation-msg> <validation-msg ng-if="step6Form.month.$error.max && (!step6Form.month.$error.required && step6Form.year.$valid)"> Months of employment/business cannot be greater than 11 months. </validation-msg> <validation-msg ng-if="(step6Form.year.$error.maxEmp || step6Form.month.$error.maxEmp) && (!step6Form.year.$error.required && !step6Form.month.$error.required)"> Sorry! There seems to be an error in total number of years of employment. Please enter the details once again. </validation-msg> </div> </div> </div> </div> </div> <div class=row ng-if="$ctrl.cardTypeAE == \'Supplementary Card\'"> <div class="col-md-4 col-sm-6 col-xs-12"> <div class=form-group> <label for=grossIncome>Gross annual income(Optional)</label> <div> <input trim only-number=11 type=tel class=form-control id=grossIncome name=grossIncome value=1 ng-model=$ctrl.model.grossIncome ng-value=myVar> </div> </div> </div> <div class="col-md-8 col-sm-12 col-xs-12"> <div class="form-group line-spacer-xs line-spacer-sm"> <div class=row> <div class="col-md-12 col-sm-12 col-xs-12"> <label id=employmentDurationLabel>Total no. of years of employment/business (year/month) (Optional)</label> </div> <div class="col-md-6 col-sm-6 col-xs-12"> <div class="col-md-6 col-sm-6 col-xs-6 remove-padding"> <div> <custom-select> <select trim type=tel name=year aria-label="Total no. of years of employment/business (YY)" aria-describedby=empLenErrMsg ng-model=$ctrl.model.year ng-options="item.value as item.label disable when $ctrl.model.lengthOfStayMonth === 0 && item.value === 0 for item in $ctrl.lengthOfStayYears" class="form-control text-center" ng-blur=$ctrl.validateEmploymentLength() required> <option value="">YY</option> </select> </custom-select> </div> </div> <div class="col-md-6 col-sm-6 col-xs-6 remove-padding"> <div> <custom-select> <select trim type=tel name=month aria-label="Total no. of years of employment/business (MM)" aria-describedby=empLenErrMsg ng-model=$ctrl.model.month class="form-control text-center" ng-options="item.value as item.label disable when $ctrl.model.lengthOfStayYear === 0 && item.value === 0 for item in $ctrl.lengthOfStayMonths" ng-blur=$ctrl.validateEmploymentLength()> <option value="">MM</option> </select> </custom-select> </div> </div> </div> </div> </div> </div> </div> <div class=row ng-if="$ctrl.isStaffJourney && $ctrl.cardTypeAE != \'Supplementary Card\'" ng-hide="$ctrl.selectedCard.key ==\'MJY\'  && !$ctrl.relationWithBank"> <br> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer-xs"> <label for=SI>SI%</label> <div ng-class="{\'has-error\': step6Form.SI.$invalid && ($ctrl.submitted || step6Form.SI.$touched)}"> <input type=text id=SI name=SI class=form-control ng-model=$ctrl.model.SI trim only-number=3 aria-describedby=SIErrMsg aria-invalid="{{step6Form.SI.$invalid && ($ctrl.submitted || step6Form.SI.$touched)}}" required> </div> <div id=SIErrMsg ng-class="{\'has-error\': step6Form.SI.$invalid}"> <validation-msg ng-if="step6Form.SI.$error.required && (step6Form.SI.$touched || $ctrl.submitted)"> Please enter SI% between 5-100%. </validation-msg> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer-xs"> <label for=accountNumber>Account Number</label> <div ng-class="{\'has-error\': step6Form.accountNumber.$invalid && ($ctrl.submitted || step6Form.accountNumber.$touched)}"> <input type=text id=accountNumber name=accountNumber class=form-control ng-model=$ctrl.model.accountNumber trim only-number=12 aria-describedby=accountNumberErrMsg aria-invalid="{{step6Form.accountNumber.$invalid && ($ctrl.submitted || step6Form.accountNumber.$touched)}}" required> </div> <div id=accountNumberErrMsg ng-class="{\'has-error\': step6Form.accountNumber.$invalid}"> <validation-msg ng-if="step6Form.accountNumber.$error.required && (step6Form.accountNumber.$touched || $ctrl.submitted)"> Please enter Account Number. </validation-msg> </div> </div> </div> </div> <div class=row ng-if="$ctrl.cardTypeAE != \'Supplementary Card\'"> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label id=bizNatureLbl for=business>Nature of business</label> <div ng-class="{\'has-error\': step6Form.business.$invalid && (step6Form.business.$touched || $ctrl.submitted)}"> <custom-select> <select id=business name=business class=form-control ng-change=$ctrl.resetOtherBiz() ng-model=$ctrl.model.selectedBusiness ng-options="item for item in $ctrl.business" aria-describedby=bizNatureErrMsg aria-invalid="{{step6Form.business.$invalid && (step6Form.business.$touched || $ctrl.submitted)}}" ng-disabled=$ctrl.hprDisabledFields required> <option value="">Please select</option> </select> </custom-select> </div> <div id=bizNatureErrMsg ng-class="{\'has-error\': step6Form.business.$invalid && (step6Form.business.$touched || $ctrl.submitted)}" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if="step6Form.business.$error.required && (step6Form.business.$touched || $ctrl.submitted)"> {{$ctrl.errorMessages.selectBusinessNature}} </validation-msg> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12" ng-if="$ctrl.model.empType==\'Self-Employed\' && $ctrl.cardTypeAE != \'Supplementary Card\' && ($ctrl.selectedCard.key==\'SVC\' || $ctrl.selectedCard.key ==\'HPR\')"> <div class="form-group line-spacer"> <label id=gstNumberLbl for=gstNumber>GST Number</label> <div ng-class="{\'has-error\': step6Form.gstNumber.$invalid && (step6Form.gstNumber.$touched || $ctrl.submitted)}"> <input type=text id=gstNumber name=gstNumber class=form-control trim auto-caps alpha-num=15 ng-model=$ctrl.model.gstNumber aria-describedby=gstNumberErrMsg ng-pattern=/^(\\d{2})([a-zA-Z]{5})(\\d{4})([a-zA-Z]{1})(\\d{1})([a-zA-Z]{1})([a-zA-Z0-9]{1})$/ maxlength=15 placeholder="As per Gst Number" required aria-invalid="{{step6Form.gstNumberErrMsg.$invalid && ($ctrl.submitted || step6Form.gstNumberErrMsg.$touched)}}"> </div> <div id=gstNumberErrMsg ng-class="{\'has-error\': step6Form.gstNumber.$invalid && (step6Form.gstNumber.$touched || $ctrl.submitted)}" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if="step6Form.gstNumber.$error.required && (step6Form.gstNumber.$touched || $ctrl.submitted)"> {{$ctrl.errorMessages.enterGSTNumber}} </validation-msg> <validation-msg ng-if="step6Form.gstNumber.$error.pattern && step6Form.gstNumber.$touched"> {{$ctrl.errorMessages.invalidGSTNumber}} </validation-msg> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12" ng-if="$ctrl.model.selectedBusiness === \'Others\'"> <div class="form-group line-spacer"> <label for=otherBusiness>Please specify </label> <div ng-class="{\'has-error\': step6Form.otherBusiness.$invalid && ($ctrl.submitted || step6Form.otherBusiness.$touched)}"> <input trim type=text id=otherBusiness name=otherBusiness aria-describedby=otherBizErrMsg class=form-control alpha-space=50 ng-pattern="/^[a-zA-Z ]*$/" onkeypress="0===this.value.length&&32===event.charCode&&event.preventDefault()" ng-maxlength=50 ng-model=$ctrl.model.otherBusiness ng-required="$ctrl.model.selectedBusiness==\'Others\'" aria-invalid="{{step6Form.otherBusiness.$invalid && ($ctrl.submitted || step6Form.otherBusiness.$touched)}}" ng-disabled=$ctrl.hprDisabledFields> </div> <div id=otherBizErrMsg ng-class="{\'has-error\': step6Form.otherBusiness.$invalid && ($ctrl.submitted || step6Form.otherBusiness.$touched)}"> <validation-msg ng-if="step6Form.otherBusiness.$error.required && (step6Form.otherBusiness.$touched || $ctrl.submitted)"> {{$ctrl.errorMessages.enterSpecificBusinessNature}} </validation-msg> <validation-msg ng-if="step6Form.otherBusiness.$error.maxlength && (step6Form.otherBusiness.$touched || $ctrl.submitted)"> {{$ctrl.errorMessages.upperLimitSpecificBusinessNature}} </validation-msg> <validation-msg ng-if="step6Form.otherBusiness.$error.pattern && (step6Form.otherBusiness.$touched || $ctrl.submitted)"> {{$ctrl.errorMessages.invalidSpecificBusinessNature}} </validation-msg> </div> </div> </div> </div> <div class=row ng-if="$ctrl.cardTypeAE == \'Supplementary Card\'"> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label id=bizNatureLbl for=business>Nature of business(Optional)</label> <div> <custom-select> <select id=business name=business class=form-control ng-change=$ctrl.resetOtherBiz() ng-model=$ctrl.model.selectedBusiness ng-options="item for item in $ctrl.business" required> <option value="">Please select</option> </select> </custom-select> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12" ng-if="$ctrl.model.selectedBusiness === \'Others\'"> <div class="form-group line-spacer"> <label for=otherBusiness>Please specify </label> <div ng-class="{\'has-error\': step6Form.otherBusiness.$invalid && ($ctrl.submitted || step6Form.otherBusiness.$touched)}"> <input trim type=text id=otherBusiness name=otherBusiness aria-describedby=otherBizErrMsg class=form-control alpha-space=50 ng-pattern="/^[a-zA-Z ]*$/" onkeypress="0===this.value.length&&32===event.charCode&&event.preventDefault()" ng-maxlength=50 ng-model=$ctrl.model.otherBusiness ng-required="$ctrl.model.selectedBusiness==\'Others\'" aria-invalid="{{step6Form.otherBusiness.$invalid && ($ctrl.submitted || step6Form.otherBusiness.$touched)}}"> </div> <div id=otherBizErrMsg ng-class="{\'has-error\': step6Form.otherBusiness.$invalid && ($ctrl.submitted || step6Form.otherBusiness.$touched)}"> <validation-msg ng-if="step6Form.otherBusiness.$error.required && (step6Form.otherBusiness.$touched || $ctrl.submitted)"> {{$ctrl.errorMessages.enterSpecificBusinessNature}} </validation-msg> <validation-msg ng-if="step6Form.otherBusiness.$error.maxlength && (step6Form.otherBusiness.$touched || $ctrl.submitted)"> {{$ctrl.errorMessages.upperLimitSpecificBusinessNature}} </validation-msg> <validation-msg ng-if="step6Form.otherBusiness.$error.pattern && (step6Form.otherBusiness.$touched || $ctrl.submitted)"> {{$ctrl.errorMessages.invalidSpecificBusinessNature}} </validation-msg> </div> </div> </div> </div> <div class=row ng-if="($ctrl.model.empType==\'Employed (salaried)\' && $ctrl.cardTypeAE != \'Supplementary Card\') || ($ctrl.selectedCard.key==\'HPR\' && $ctrl.cardTypeAE != \'Supplementary Card\') || ($ctrl.selectedCard.key==\'SVC\' && $ctrl.cardTypeAE != \'Supplementary Card\')"> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label id=orgNatureLbl for=org>Nature of organisation</label> <div ng-class="{\'has-error\': step6Form.org.$invalid && (step6Form.org.$touched || $ctrl.submitted)}"> <custom-select> <select id=org name=org class=form-control ng-change=$ctrl.resetOtherOrg() ng-model=$ctrl.model.selectedOrganisation ng-options="item for item in $ctrl.org" aria-describedby=orgNatureErrMsg aria-invalid="{{step6Form.org.$invalid && (step6Form.org.$touched || $ctrl.submitted)}}" ng-disabled=$ctrl.hprDisabledFields required> <option value="">Please select</option> </select> </custom-select> </div> <div id=orgNatureErrMsg ng-class="{\'has-error\': step6Form.org.$invalid && (step6Form.org.$touched || $ctrl.submitted)}" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if="step6Form.org.$error.required && (step6Form.org.$touched || $ctrl.submitted)"> {{$ctrl.errorMessages.selectOrganisationNature}} </validation-msg> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12" ng-if="$ctrl.model.selectedOrganisation === \'Others\'"> <div class="form-group line-spacer"> <label for=otherOrg>Please specify</label> <div ng-class="{\'has-error\': step6Form.otherOrg.$invalid && ($ctrl.submitted || step6Form.otherOrg.$touched)}"> <input trim type=text id=otherOrg name=otherOrg aria-describedby=otherOrgErrMsg class=form-control alpha-space=50 ng-pattern="/^[a-zA-Z ]*$/" onkeypress="0===this.value.length&&32===event.charCode&&event.preventDefault()" ng-maxlength=50 ng-model=$ctrl.model.otherOrg ng-required="$ctrl.model.selectedOrganisation==\'Others\'" aria-invalid="{{step6Form.otherOrg.$invalid && ($ctrl.submitted || step6Form.otherOrg.$touched)}}" ng-disabled=$ctrl.hprDisabledFields> </div> <div id=otherOrgErrMsg ng-class="{\'has-error\': step6Form.otherOrg.$invalid && ($ctrl.submitted || step6Form.otherOrg.$touched)}"> <validation-msg ng-if="step6Form.otherOrg.$error.required && ($ctrl.submitted || step6Form.otherOrg.$touched)"> {{$ctrl.errorMessages.enterSpecificOrganisationNature}} </validation-msg> <validation-msg ng-if="(step6Form.otherOrg.$error.maxlength && !step6Form.otherOrg.$error.pattern) && ($ctrl.submitted || step6Form.otherOrg.$touched)"> {{$ctrl.errorMessages.upperLimitSpecificOrganisationNature}} </validation-msg> <validation-msg ng-if="step6Form.otherOrg.$error.pattern && ($ctrl.submitted || step6Form.otherOrg.$touched)"> {{$ctrl.errorMessages.invalidSpecificOrganisationNature}} </validation-msg> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12" ng-if="$ctrl.model.empType==\'Self-Employed\' && $ctrl.cardTypeAE != \'Supplementary Card\' && ($ctrl.selectedCard.key==\'SVC\' || $ctrl.selectedCard.key ==\'HPR\')"> <div class="form-group line-spacer"> <label id=businessPanNumberLbl for=businessPanNumber>Business PAN Number </label> <div ng-class="{\'has-error\': step6Form.businessPanNumber.$invalid && (step6Form.businessPanNumber.$touched || $ctrl.submitted)}"> <input type=text id=businessPanNumber name=businessPanNumber class=form-control trim auto-caps alpha-num=10 ng-model=$ctrl.model.businessPanNumber aria-describedby=businessPanNumberErrMsg ng-pattern=/^([a-zA-Z]{5})(\\d{4})([a-zA-Z]{1})$/ maxlength=10 placeholder="As per Business ID" aria-invalid="{{step6Form.businessPanNumber.$invalid && ($ctrl.submitted || step6Form.businessPanNumber.$touched)}}"> </div> <div id=businessPanNumberErrMsg ng-class="{\'has-error\': step6Form.businessPanNumber.$invalid && (step6Form.businessPanNumber.$touched || $ctrl.submitted)}" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if="step6Form.businessPanNumber.$error.pattern && step6Form.businessPanNumber.$touched"> {{$ctrl.errorMessages.invalidBusinessPAN}} </validation-msg> </div> </div> </div> </div> <div class=row ng-if="($ctrl.model.empType==\'Employed (salaried)\' && $ctrl.cardTypeAE == \'Supplementary Card\') || ($ctrl.selectedCard.key==\'HPR\' && $ctrl.cardTypeAE == \'Supplementary Card\')"> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label id=orgNatureLbl for=org>Nature of organisation(Optional)</label> <div> <custom-select> <select id=org name=org class=form-control ng-change=$ctrl.resetOtherOrg() ng-model=$ctrl.model.selectedOrganisation ng-options="item for item in $ctrl.org"> <option value="">Please select</option> </select> </custom-select> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12" ng-if="$ctrl.model.selectedOrganisation === \'Others\'"> <div class="form-group line-spacer"> <label for=otherOrg>Please specify</label> <div ng-class="{\'has-error\': step6Form.otherOrg.$invalid && ($ctrl.submitted || step6Form.otherOrg.$touched)}"> <input trim type=text id=otherOrg name=otherOrg aria-describedby=otherOrgErrMsg class=form-control alpha-space=50 ng-pattern="/^[a-zA-Z ]*$/" onkeypress="0===this.value.length&&32===event.charCode&&event.preventDefault()" ng-maxlength=50 ng-model=$ctrl.model.otherOrg ng-required="$ctrl.model.selectedOrganisation==\'Others\'" aria-invalid="{{step6Form.otherOrg.$invalid && ($ctrl.submitted || step6Form.otherOrg.$touched)}}"> </div> <div id=otherOrgErrMsg ng-class="{\'has-error\': step6Form.otherOrg.$invalid && ($ctrl.submitted || step6Form.otherOrg.$touched)}"> <validation-msg ng-if="step6Form.otherOrg.$error.required && ($ctrl.submitted || step6Form.otherOrg.$touched)"> {{$ctrl.errorMessages.enterSpecificOrganisationNature}} </validation-msg> <validation-msg ng-if="(step6Form.otherOrg.$error.maxlength && !step6Form.otherOrg.$error.pattern) && ($ctrl.submitted || step6Form.otherOrg.$touched)"> {{$ctrl.errorMessages.upperLimitSpecificOrganisationNature}} </validation-msg> <validation-msg ng-if="step6Form.otherOrg.$error.pattern && ($ctrl.submitted || step6Form.otherOrg.$touched)"> {{$ctrl.errorMessages.invalidSpecificOrganisationNature}} </validation-msg> </div> </div> </div> </div> <div class=row ng-if="$ctrl.model.empType === \'Self-employed\'"> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label id=firmLbl for=firm>Your firm is </label> <div ng-class="{\'has-error\': step6Form.firm.$invalid && (step6Form.firm.$touched || $ctrl.submitted)}"> <custom-select> <select id=firm name=firm class=form-control ng-model=$ctrl.model.selectedFirm ng-options="item for item in $ctrl.firm" aria-describedby=firmTypeErrMsg aria-invalid="{{step6Form.firm.$invalid && (step6Form.firm.$touched || $ctrl.submitted)}}" required> <option value="">Please select</option> </select> </custom-select> </div> <div id=firmTypeErrMsg ng-class="{\'has-error\': step6Form.firm.$invalid && (step6Form.firm.$touched || $ctrl.submitted)}"> <validation-msg ng-if="step6Form.firm.$error.required && (step6Form.firm.$touched || $ctrl.submitted)"> {{$ctrl.errorMessages.selectFirmType}} </validation-msg> </div> </div> </div> </div> <div class=row ng-if="$ctrl.cardTypeAE != \'Supplementary Card\' && $ctrl.model.empType != \'Self-Employed\'"> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label for=designation>Designation</label> <div ng-class="{\'has-error\': step6Form.designation.$invalid && ($ctrl.submitted || step6Form.designation.$touched)}"> <input trim type=text id=designation name=designation aria-describedby=designationErrMsg class=form-control address-chars=20 onkeypress="0===this.value.length&&32===event.charCode&&event.preventDefault()" ng-maxlength=20 ng-model=$ctrl.model.designation aria-invalid="{{step6Form.designation.$invalid && ($ctrl.submitted || step6Form.designation.$touched)}}" ng-disabled=$ctrl.hprDisabledFields required> </div> <div id=designationErrMsg ng-class="{\'has-error\': (step6Form.designation.$invalid)}"> <validation-msg ng-if="(step6Form.designation.$error.required && step6Form.designation.$touched) ||(step6Form.designation.$error.required && $ctrl.submitted)"> {{$ctrl.errorMessages.enterdesignation}} </validation-msg> <validation-msg ng-if="step6Form.designation.$error.maxlength && !step6Form.designation.$error.pattern"> {{$ctrl.errorMessages.upperLimitdesignation}} </validation-msg> <validation-msg ng-if=step6Form.designation.$error.pattern> {{$ctrl.errorMessages.invaliddesignation}} </validation-msg> </div> </div> </div> </div> <div class=row ng-if="$ctrl.cardTypeAE != \'Supplementary Card\' && $ctrl.model.empType == \'Self-Employed\' && $ctrl.selectedCard.key ==\'SVC\'"> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label for=designation>Designation</label> <div ng-class="{\'has-error\': step6Form.designation.$invalid && ($ctrl.submitted || step6Form.designation.$touched)}"> <input trim type=text id=designation name=designation aria-describedby=designationErrMsg class=form-control address-chars=20 onkeypress="0===this.value.length&&32===event.charCode&&event.preventDefault()" ng-maxlength=20 ng-model=$ctrl.model.designation aria-invalid="{{step6Form.designation.$invalid && ($ctrl.submitted || step6Form.designation.$touched)}}" ng-disabled=$ctrl.hprDisabledFields required> </div> <div id=designationErrMsg ng-class="{\'has-error\': (step6Form.designation.$invalid)}"> <validation-msg ng-if="(step6Form.designation.$error.required && step6Form.designation.$touched) ||(step6Form.designation.$error.required && $ctrl.submitted)"> {{$ctrl.errorMessages.enterdesignation}} </validation-msg> <validation-msg ng-if="step6Form.designation.$error.maxlength && !step6Form.designation.$error.pattern"> {{$ctrl.errorMessages.upperLimitdesignation}} </validation-msg> <validation-msg ng-if=step6Form.designation.$error.pattern> {{$ctrl.errorMessages.invaliddesignation}} </validation-msg> </div> </div> </div> </div> <div class=row ng-if="$ctrl.cardTypeAE == \'Supplementary Card\' || $ctrl.model.empType == \'Self-Employed\' && $ctrl.selectedCard.key !=\'SVC\'"> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label for=designation>Designation(Optional)</label> <div> <input trim type=text id=designation name=designation class=form-control address-chars=20 ng-model=$ctrl.model.designation> </div> </div> </div> </div> <div class=row> <div class="col-md-12 col-sm-12 col-xs-12"> <hr class="line-spacer no-margin-bottom"> </div> </div> <div class=row> <div class="col-md-12 col-sm-12 col-xs-12"> <h2 class=brand-bar>Office address</h2> </div> </div> <div class=row> <div class="col-md-4 col-sm-6 col-xs-12"> <div class=form-group> <label id=officeCountryLbl for=country>Country</label> <div ng-class="{\'has-error\': step6Form.country.$invalid && (step6Form.country.$touched || $ctrl.submitted)}"> <ui-select id=country input-id=country name=country aria-label="country {{$select.selected.countryName}}" aria-describedby=officeCountryErrMsg ng-model=$ctrl.model.selectedCountry theme=bootstrap ng-disabled=true aria-invalid="{{step6Form.country.$invalid && (step6Form.country.$touched || $ctrl.submitted)}}" required> <ui-select-match placeholder="Please select"> <div class="flag {{$select.selected.countryCode.toLocaleLowerCase()}}" style=background-image:url(resources/images/country-flags-sprite.png) ng-if="$select.selected.countryCode != -1"></div> {{$select.selected.countryName}} </ui-select-match> <ui-select-choices repeat="item in $ctrl.countries | filter: $select.search"> <div class="flag {{item.countryCode.toLocaleLowerCase()}}" style=background-image:url(resources/images/country-flags-sprite.png) ng-if="item.countryCode != -1"></div> <span ng-bind-html="item.countryName | highlight: $select.search"></span> </ui-select-choices> <ui-select-no-choice> We couldn\'t find any choices... </ui-select-no-choice> </ui-select> </div> <div id=officeCountryErrMsg ng-class="{\'has-error\': step6Form.country.$invalid && (step6Form.country.$touched || $ctrl.submitted)}"> <validation-msg ng-if="step6Form.country.$error.required && (step6Form.country.$touched || $ctrl.submitted)"> {{$ctrl.errorMessages.selectCountry}} </validation-msg> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12" ng-if="$ctrl.cardTypeAE != \'Supplementary Card\' && $ctrl.model.empType != \'Self-Employed\'"> <div class="form-group line-spacer-xs"> <div> <label id=companyLbl for=companyName>Company name </label> <a ng-if=$ctrl.showChangeCompanyToggle tabindex=0 aria-label="tooltip Please deselect checkbox if you do not want to change the Company Name." uib-popover="Please deselect checkbox if you do not want to change the Company Name." popover-placement=auto popover-trigger="\'mouseenter focus\'" class="icon icon-circle-info"></a> </div> <div ng-class="{\'has-error\': step6Form.companyName.$invalid && (step6Form.companyName.$touched || $ctrl.submitted)}"> <ui-select id=companyName input-id=companyName name=companyName aria-label="company name {{$select.selected}}" aria-describedby=companyNameErrMsg class=companyName ui-select-limit=80 ng-disabled="$ctrl.disableCompany || $ctrl.hprDisabledFields" ng-model=$ctrl.model.companyName theme=bootstrap aria-invalid="{{step6Form.companyName.$invalid && (step6Form.companyName.$touched || $ctrl.submitted)}}" required> <ui-select-match placeholder="Search a company">{{$select.selected}}</ui-select-match> <ui-select-choices refresh=$ctrl.fetch($select) refresh-delay=300 repeat="company in $ctrl.companyNames | filter: $select.search | limitTo: 150"> <div ng-bind=company></div> </ui-select-choices> <ui-select-no-choice> <validation-msg class=has-error ng-if="$select.search && $select.search.length < 3"> Please enter at least 3 characters </validation-msg> <br> </ui-select-no-choice> </ui-select> </div> <div id=companyNameErrMsg ng-class="{\'has-error\': step6Form.companyName.$invalid && (step6Form.companyName.$touched || $ctrl.submitted)}"> <validation-msg ng-if="step6Form.companyName.$error.required && (step6Form.companyName.$touched || $ctrl.submitted)"> {{$ctrl.errorMessages.enterCompanyName}} </validation-msg> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12" ng-if="$ctrl.cardTypeAE != \'Supplementary Card\' && $ctrl.model.empType == \'Self-Employed\' && $ctrl.selectedCard.key ==\'SVC\'"> <div class="form-group line-spacer-xs"> <div> <label id=companyLbl for=companyName>Company name </label> <a ng-if=$ctrl.showChangeCompanyToggle tabindex=0 aria-label="tooltip Please deselect checkbox if you do not want to change the Company Name." uib-popover="Please deselect checkbox if you do not want to change the Company Name." popover-placement=auto popover-trigger="\'mouseenter focus\'" class="icon icon-circle-info"></a> </div> <div ng-class="{\'has-error\': step6Form.companyName.$invalid && (step6Form.companyName.$touched || $ctrl.submitted)}"> <ui-select id=companyName input-id=companyName name=companyName aria-label="company name {{$select.selected}}" aria-describedby=companyNameErrMsg class=companyName ui-select-limit=80 ng-disabled="$ctrl.disableCompany || $ctrl.hprDisabledFields" ng-model=$ctrl.model.companyName theme=bootstrap aria-invalid="{{step6Form.companyName.$invalid && (step6Form.companyName.$touched || $ctrl.submitted)}}" required> <ui-select-match placeholder="Search a company">{{$select.selected}}</ui-select-match> <ui-select-choices refresh=$ctrl.fetch($select) refresh-delay=300 repeat="company in $ctrl.companyNames | filter: $select.search | limitTo: 150"> <div ng-bind=company></div> </ui-select-choices> <ui-select-no-choice> <validation-msg class=has-error ng-if="$select.search && $select.search.length < 3"> Please enter at least 3 characters </validation-msg> <br> </ui-select-no-choice> </ui-select> </div> <div id=companyNameErrMsg ng-class="{\'has-error\': step6Form.companyName.$invalid && (step6Form.companyName.$touched || $ctrl.submitted)}"> <validation-msg ng-if="step6Form.companyName.$error.required && (step6Form.companyName.$touched || $ctrl.submitted)"> {{$ctrl.errorMessages.enterCompanyName}} </validation-msg> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12" ng-if="$ctrl.cardTypeAE == \'Supplementary Card\' || $ctrl.model.empType == \'Self-Employed\' && $ctrl.selectedCard.key !=\'SVC\'"> <div class="form-group line-spacer-xs"> <div> <label id=companyLbl for=companyName>Company name(Optional)</label> <a ng-if=$ctrl.showChangeCompanyToggle tabindex=0 aria-label="tooltip Please deselect checkbox if you do not want to change the Company Name." uib-popover="Please deselect checkbox if you do not want to change the Company Name." popover-placement=auto popover-trigger="\'mouseenter focus\'" class="icon icon-circle-info"></a> </div> <div> <ui-select id=companyName input-id=companyName name=companyName aria-label="company name {{$select.selected}}" class=companyName ui-select-limit=80 ng-disabled=$ctrl.disableCompany ng-model=$ctrl.model.companyName theme=bootstrap> <ui-select-match placeholder="Search a company">{{$select.selected}}</ui-select-match> <ui-select-choices refresh=$ctrl.fetch($select) refresh-delay=300 repeat="company in $ctrl.companyNames | filter: $select.search | limitTo: 150"> <div ng-bind=company></div> </ui-select-choices> <ui-select-no-choice> <validation-msg class=has-error ng-if="$select.search && $select.search.length < 3"> Please enter at least 3 characters </validation-msg> <br> </ui-select-no-choice> </ui-select> </div> </div> </div> </div> <div class=row ng-if=$ctrl.showChangeCompanyToggle> <div class="col-md-12 col-sm-12 col-xs-12"> <div class="form-group line-spacer"> <input type=checkbox id=changeCompanyChk name=changeCompanyChk class=screen-reader-only ng-model=$ctrl.model.changedCompanyName ng-focus="$ctrl.hasChkFocus = true;" ng-blur="$ctrl.hasChkFocus = false;" ng-change=$ctrl.changeCompanyName()> <label for=changeCompanyChk class=checkbox-label ng-class="{\'focus\': $ctrl.hasChkFocus}">I wish to change the prefilled company name above, and will provide proof of income.</label> </div> </div> </div> <div class=row ng-if="$ctrl.cardTypeAE != \'Supplementary Card\' && $ctrl.model.empType != \'Self-Employed\'"> <div class="col-md-8 col-sm-12 col-xs-12"> <div class="form-group line-spacer"> <label for=companyAddress>Company address</label> <div ng-class="{\'has-error\': step6Form.companyAddress.$invalid && ($ctrl.submitted || step6Form.companyAddress.$touched)}"> <input trim type=text id=companyAddress name=companyAddress aria-describedby=compAddressErrMsg address-chars=105 class=form-control onkeypress="0===this.value.length&&32===event.charCode&&event.preventDefault()" ng-pattern=/^([0-9a-zA-Z]{1,}|[\\s]{1}[0-9a-zA-Z]{1,})*$/ ng-maxlength=105 ng-model=$ctrl.model.companyAddress aria-invalid="{{step6Form.companyAddress.$invalid && ($ctrl.submitted || step6Form.companyAddress.$touched)}}" ng-disabled=$ctrl.hprDisabledFields required> </div> <div id=compAddressErrMsg ng-class="{\'has-error\': (step6Form.companyAddress.$invalid)}" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if="step6Form.companyAddress.$error.required &&(step6Form.companyAddress.$touched || $ctrl.submitted)"> </validation-msg> <validation-msg ng-if="step6Form.companyAddress.$error.maxlength && !step6Form.companyAddress.$error.pattern"> {{$ctrl.errorMessages.upperLimitCompanyAddress}} </validation-msg> <validation-msg ng-if="step6Form.companyAddress.$error.pattern && ($ctrl.submitted || step6Form.companyAddress.$touched)"> Please do not enter any special characters. </validation-msg> </div> </div> </div> </div> <div class=row ng-if="$ctrl.cardTypeAE != \'Supplementary Card\' && $ctrl.model.empType == \'Self-Employed\' && $ctrl.selectedCard.key ==\'SVC\'"> <div class="col-md-8 col-sm-12 col-xs-12"> <div class="form-group line-spacer"> <label for=companyAddress>Company address</label> <div ng-class="{\'has-error\': step6Form.companyAddress.$invalid && ($ctrl.submitted || step6Form.companyAddress.$touched)}"> <input trim type=text id=companyAddress name=companyAddress aria-describedby=compAddressErrMsg address-chars=105 class=form-control onkeypress="0===this.value.length&&32===event.charCode&&event.preventDefault()" ng-pattern=/^([0-9a-zA-Z]{1,}|[\\s]{1}[0-9a-zA-Z]{1,})*$/ ng-maxlength=105 ng-model=$ctrl.model.companyAddress aria-invalid="{{step6Form.companyAddress.$invalid && ($ctrl.submitted || step6Form.companyAddress.$touched)}}" ng-disabled=$ctrl.hprDisabledFields required> </div> <div id=compAddressErrMsg ng-class="{\'has-error\': (step6Form.companyAddress.$invalid)}" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if="step6Form.companyAddress.$error.required &&(step6Form.companyAddress.$touched || $ctrl.submitted)"> </validation-msg> <validation-msg ng-if="step6Form.companyAddress.$error.maxlength && !step6Form.companyAddress.$error.pattern"> {{$ctrl.errorMessages.upperLimitCompanyAddress}} </validation-msg> <validation-msg ng-if="step6Form.companyAddress.$error.pattern && ($ctrl.submitted || step6Form.companyAddress.$touched)"> Please do not enter any special characters. </validation-msg> </div> </div> </div> </div> <div class=row ng-if="$ctrl.cardTypeAE == \'Supplementary Card\' || $ctrl.model.empType == \'Self-Employed\' && $ctrl.selectedCard.key !=\'SVC\'"> <div class="col-md-8 col-sm-12 col-xs-12"> <div class="form-group line-spacer"> <label for=companyAddress>Company address(Optional)</label> <div> <input trim type=text id=companyAddress name=companyAddress address-chars=105 class=form-control onkeypress="0===this.value.length&&32===event.charCode&&event.preventDefault()" ng-pattern=/^([0-9a-zA-Z]{1,}|[\\s]{1}[0-9a-zA-Z]{1,})*$/ ng-maxlength=105 ng-model=$ctrl.model.companyAddress> </div> </div> </div> </div> <div class=row ng-if="$ctrl.cardTypeAE != \'Supplementary Card\' && $ctrl.model.empType != \'Self-Employed\'"> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label for=officePostalCode>Pin/Postal code</label> <div ng-class="{\'has-error\': step6Form.postalCode.$invalid && (step6Form.postalCode.$touched || $ctrl.submitted || step6Form.postalCode.$error.invalid)}"> <input type=tel id=officePostalCode name=postalCode aria-describedby=officePostalCodeErrMsg class=form-control ng-model=$ctrl.model.postalCode trim only-number=6 ng-minlength=6 ng-keyup=$ctrl.getAddressByPinCode($event) aria-invalid="{{step6Form.postalCode.$invalid && (step6Form.postalCode.$touched || $ctrl.submitted || step6Form.postalCode.$error.invalid)}}" ng-disabled=$ctrl.hprDisabledFields required> </div> <div id=officePostalCodeErrMsg ng-class="{\'has-error\': step6Form.postalCode.$invalid}" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if="step6Form.postalCode.$error.required && (step6Form.postalCode.$touched || $ctrl.submitted)"> Please enter your PIN code to continue with your application. </validation-msg> <validation-msg ng-if="step6Form.postalCode.$error.minlength && (step6Form.postalCode.$touched || $ctrl.submitted)"> {{$ctrl.errorMessages.lowerLimitPostalCode}} </validation-msg> <validation-msg ng-if="step6Form.postalCode.$error.invalid && !step6Form.postalCode.$error.required && !step6Form.postalCode.$error.minlength && !$ctrl.isStaffJourney"> Please enter a valid pin code to continue with your application. </validation-msg> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label for=officeCity>City/District</label> <div ng-class="{\'has-error\': step6Form.city.$invalid && ($ctrl.submitted || step6Form.city.$touched)}"> <input trim type=text id=officeCity name=city aria-describedby=officeCityErrMsg alpha-space=20 class=form-control onkeypress="0===this.value.length&&32===event.charCode&&event.preventDefault()" ng-model=$ctrl.model.city aria-invalid="{{step6Form.city.$invalid && ($ctrl.submitted || step6Form.city.$touched)}}" ng-disabled="!$ctrl.isStaffJourney || $ctrl.hprDisabledFields" required> </div> <div id=officeCityErrMsg ng-class="{\'has-error\': step6Form.city.$invalid}" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if="step6Form.city.$error.required && ($ctrl.submitted || step6Form.city.$touched)"> Please enter your city/district to continue with your application. </validation-msg> </div> </div> </div> </div> <div class=row ng-if="$ctrl.cardTypeAE != \'Supplementary Card\' && $ctrl.model.empType == \'Self-Employed\' && $ctrl.selectedCard.key ==\'SVC\'"> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label for=officePostalCode>Pin/Postal code</label> <div ng-class="{\'has-error\': step6Form.postalCode.$invalid && (step6Form.postalCode.$touched || $ctrl.submitted || step6Form.postalCode.$error.invalid)}"> <input type=tel id=officePostalCode name=postalCode aria-describedby=officePostalCodeErrMsg class=form-control ng-model=$ctrl.model.postalCode trim only-number=6 ng-minlength=6 ng-keyup=$ctrl.getAddressByPinCode($event) aria-invalid="{{step6Form.postalCode.$invalid && (step6Form.postalCode.$touched || $ctrl.submitted || step6Form.postalCode.$error.invalid)}}" ng-disabled=$ctrl.hprDisabledFields required> </div> <div id=officePostalCodeErrMsg ng-class="{\'has-error\': step6Form.postalCode.$invalid}" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if="step6Form.postalCode.$error.required && (step6Form.postalCode.$touched || $ctrl.submitted)"> Please enter your PIN code to continue with your application. </validation-msg> <validation-msg ng-if="step6Form.postalCode.$error.minlength && (step6Form.postalCode.$touched || $ctrl.submitted)"> {{$ctrl.errorMessages.lowerLimitPostalCode}} </validation-msg> <validation-msg ng-if="step6Form.postalCode.$error.invalid && !step6Form.postalCode.$error.required && !step6Form.postalCode.$error.minlength && !$ctrl.isStaffJourney"> Please enter a valid pin code to continue with your application. </validation-msg> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label for=officeCity>City/District</label> <div ng-class="{\'has-error\': step6Form.city.$invalid && ($ctrl.submitted || step6Form.city.$touched)}"> <input trim type=text id=officeCity name=city aria-describedby=officeCityErrMsg alpha-space=20 class=form-control onkeypress="0===this.value.length&&32===event.charCode&&event.preventDefault()" ng-model=$ctrl.model.city aria-invalid="{{step6Form.city.$invalid && ($ctrl.submitted || step6Form.city.$touched)}}" ng-disabled="!$ctrl.isStaffJourney || $ctrl.hprDisabledFields" required> </div> <div id=officeCityErrMsg ng-class="{\'has-error\': step6Form.city.$invalid}" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if="step6Form.city.$error.required && ($ctrl.submitted || step6Form.city.$touched)"> Please enter your city/district to continue with your application. </validation-msg> </div> </div> </div> </div> <div class=row ng-if="$ctrl.cardTypeAE == \'Supplementary Card\' || $ctrl.model.empType == \'Self-Employed\' && $ctrl.selectedCard.key !=\'SVC\'"> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label for=officePostalCode>Pin/Postal code(Optional) </label> <div> <input type=tel id=officePostalCode name=postalCode class=form-control ng-model=$ctrl.model.postalCode trim only-number=6 ng-minlength=6 ng-keyup=$ctrl.getAddressByPinCode($event)> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label for=officeCity>City/District(Optional)</label> <div> <input trim type=text id=officeCity name=city alpha-space=20 class=form-control onkeypress="0===this.value.length&&32===event.charCode&&event.preventDefault()" ng-model=$ctrl.model.city ng-disabled=!$ctrl.isStaffJourney> </div> </div> </div> </div> <div class=row ng-if="$ctrl.cardTypeAE != \'Supplementary Card\' && ($ctrl.model.empType != \'Self-Employed\' || ($ctrl.model.empType == \'Self-Employed\' && $ctrl.selectedCard.key ==\'SVC\'))"> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label for=officeState>State</label> <div ng-class="{\'has-error\': step6Form.state.$invalid && ($ctrl.submitted || step6Form.state.$touched)}"> <input trim type=text alpha-space=20 id=officeState name=state aria-describedby=officeStateErrMsg class=form-control onkeypress="0===this.value.length&&32===event.charCode&&event.preventDefault()" ng-model=$ctrl.model.state aria-invalid="{{step6Form.state.$invalid && ($ctrl.submitted || step6Form.state.$touched)}}" ng-disabled="!$ctrl.isStaffJourney || $ctrl.hprDisabledFields" required> </div> <div id=officeStateErrMsg ng-class="{\'has-error\': step6Form.state.$invalid}" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if="step6Form.state.$error.required && ($ctrl.submitted || step6Form.state.$touched)"> Please enter your State to continue with your application. </validation-msg> </div> </div> </div> <div class=row ng-if="($ctrl.model.empType != \'Self-Employed\' || ($ctrl.model.empType == \'Self-Employed\' && $ctrl.selectedCard.key ==\'SVC\'))"> <div class="col-md-6 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label for=officeEmailId>Office E-mail address</label> <div ng-class="{\'has-error\': step6Form.officeEmailId.$invalid && (step6Form.officeEmailId.$touched || $ctrl.submitted)}"> <input type=text id=officeEmailId name=officeEmailId class=form-control ng-model=$ctrl.model.officeEmailId trim email-chars=39 ng-maxlength=39 placeholder=sample@abc.com ng-pattern=/^[_a-zA-Z0-9]+((\\.|\\-)[_a-zA-Z0-9]+)*@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*(\\.[a-zA-Z]{2,4})$/ aria-describedby=officeEmailIdErrMsg aria-invalid="{{(step6Form.officeEmailId.$invalid) &&  (step6Form.officeEmailId.$touched || $ctrl.submitted)}}" ng-disabled=$ctrl.hprDisabledFields required> </div> <div id=officeEmailIdErrMsg ng-class="{\'has-error\': (step6Form.officeEmailId.$invalid)}" ng-if="!$ctrl.hprDisabledFields && $ctrl.hprEmailMandate"> <validation-msg ng-if="step6Form.officeEmailId.$error.required && (step6Form.officeEmailId.$touched || $ctrl.submitted)"> Please enter your office e-mail address to continue with your application. </validation-msg> <validation-msg ng-if="step6Form.officeEmailId.$error.pattern && step6Form.officeEmailId.$touched"> Your office e-mail address contains invalid characters. Please make sure you have entered a valid office e-mail address, e.g. johnsmith@email.com. </validation-msg> <validation-msg ng-if="(step6Form.officeEmailId.$error.maxlength && !step6Form.officeEmailId.$error.pattern)"> Please enter a valid 39 character office e-mail address. </validation-msg> </div> </div> </div> </div> <div class=row ng-if="$ctrl.model.empType != \'Self-Employed\' || $ctrl.model.empType == \'Self-Employed\'"> <div ng-class="{\'col-md-5 col-sm-12 col-xs-12\': $ctrl.isStaffJourney, \'col-md-8 col-sm-12 col-xs-12\': !$ctrl.isStaffJourney}"> <div class="form-group line-spacer" role=group aria-labelledby=officePhoneLabel> <div id=officePhoneLabel class=control-label> Office number with extension (Optional) </div> <div class=office-phone-container> <div class=code-container> <label for=officeSTD class=screen-reader-only>Office number STD code</label> <div class=input-group ng-class="{\'has-error\': (step6Form.officeSTD.$invalid || step6Form.mobileNo.$invalid) && (step6Form.officeSTD.$touched && step6Form.mobileNo.$touched || $ctrl.submitted)}"> <span class=input-group-addon id=countryCode aria-hidden=true tabindex=-1> <span class="flag in" style=background-image:url(resources/images/country-flags-sprite.png)></span> +91</span> <input type=tel id=officeSTD name=officeSTD class=form-control ng-model=$ctrl.model.officeSTD onkeypress="if(0==this.value.length&&(48==event.which||32===event.charCode))return!1" ng-keyup=$ctrl.validateOfficeNumber() ng-blur=$ctrl.validateOfficeNumber() trim number-std=3 ng-maxlength=3 placeholder=STD aria-label="office STD code" aria-describedby="countryCode officePhoneErrMsg" aria-invalid="{{(step6Form.officeSTD.$invalid || step6Form.mobileNo.$invalid) && (step6Form.officeSTD.$touched || step6Form.mobileNo.$touched || $ctrl.submitted)}}"> </div> </div> <div class="separator hidden-xs">-</div> <div class=number-container> <div class=number-box ng-class="{\'has-error\': (step6Form.officeSTD.$invalid || step6Form.mobileNo.$invalid) && (step6Form.officeSTD.$touched && step6Form.mobileNo.$touched || $ctrl.submitted)}"> <label for=mobileNo class=screen-reader-only>Office phone number</label> <input trim type=tel id=mobileNo name=mobileNo class="form-control has-block" ng-model=$ctrl.model.mobileNo onkeypress="if(0==this.value.length&&(48==event.which||32===event.charCode))return!1" ng-keyup=$ctrl.validateOfficeNumber() ng-blur=$ctrl.validateOfficeNumber() only-number=8 ng-maxlength=8 placeholder=Phone aria-describedby=officePhoneErrMsg aria-invalid="{{(step6Form.officeSTD.$invalid || step6Form.mobileNo.$invalid) && (step6Form.officeSTD.$touched || step6Form.mobileNo.$touched || $ctrl.submitted)}}"> </div> <div class=separator>-</div> <div class=ext-box> <label for=ext class=screen-reader-only>Office extension number</label> <input trim type=tel id=ext name=ext class=form-control ng-model=$ctrl.model.ext onkeypress="if(0==this.value.length&&(48==event.which||32===event.charCode))return!1" number-std=5 ng-maxlength=5 placeholder=Ext aria-describedby=officePhoneErrMsg> </div> </div> </div> </div> </div> </div> </div> <div class=row ng-if="$ctrl.cardTypeAE == \'Supplementary Card\' || $ctrl.model.empType == \'Self-Employed\' && $ctrl.selectedCard.key !=\'SVC\'"> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label for=officeState>State(Optional)</label> <div> <input trim type=text alpha-space=20 id=officeState name=state class=form-control onkeypress="0===this.value.length&&32===event.charCode&&event.preventDefault()" ng-model=$ctrl.model.state ng-disabled=!$ctrl.isStaffJourney> </div> </div> </div> <div class=row ng-if="$ctrl.cardTypeAE == \'Supplementary Card\'|| $ctrl.model.empType == \'Self-Employed\' && $ctrl.selectedCard.key !=\'SVC\'"> <div class="col-md-6 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label for=officeEmailId>Office E-mail address(Optional)</label> <div> <input type=text id=officeEmailId name=officeEmailId class=form-control ng-model=$ctrl.model.officeEmailId trim email-chars=39 ng-maxlength=39 placeholder=sample@abc.com ng-pattern=/^[_a-zA-Z0-9]+((\\.|\\-)[_a-zA-Z0-9]+)*@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*(\\.[a-zA-Z]{2,4})$/ > </div> </div> </div> </div> <div class=row ng-if="$ctrl.model.empType == \'Self-Employed\'"> <div ng-class="{\'col-md-5 col-sm-12 col-xs-12\': $ctrl.isStaffJourney, \'col-md-8 col-sm-12 col-xs-12\': !$ctrl.isStaffJourney}"> <div class="form-group line-spacer" role=group aria-labelledby=officePhoneLabel> <div id=officePhoneLabel class=control-label> Office number with extension(Optional) </div> <div class=office-phone-container> <div class=code-container> <label for=officeSTD class=screen-reader-only>Office number STD code</label> <div class=input-group> <span class=input-group-addon id=countryCode aria-hidden=true tabindex=-1> <span class="flag in" style=background-image:url(resources/images/country-flags-sprite.png)></span> +91</span> <input type=tel id=officeSTD name=officeSTD class=form-control ng-model=$ctrl.model.officeSTD trim number-std=3 ng-maxlength=3 placeholder=STD aria-label="office STD code"> </div> </div> <div class="separator hidden-xs">-</div> <div class=number-container> <div class=number-box> <label for=mobileNo class=screen-reader-only>Office phone number</label> <input trim type=tel id=mobileNo name=mobileNo class="form-control has-block" ng-model=$ctrl.model.mobileNo only-number=8 ng-maxlength=8 placeholder=Phone> </div> <div class=separator>-</div> <div class=ext-box> <label for=ext class=screen-reader-only>Office extension number</label> <input trim type=tel id=ext name=ext class=form-control ng-model=$ctrl.model.ext number-std=5 ng-maxlength=5 placeholder=Ext> </div> </div> </div> </div> </div> </div> </div>  <step-footer show-back=true back-callback=$ctrl.goback() show-save=true save-callback=$ctrl.save() show-continue=true continue-button-id=continue-btn continue-disabled=false continue-callback=$ctrl.next(step6Form.$valid)> </step-footer> </form>'},"./src/app/components/journey/step6/step6.component.js":/*!*************************************************************!*\
  !*** ./src/app/components/journey/step6/step6.component.js ***!
  \*************************************************************/
function(e,r,t){!function(){"use strict";function r(e,r,t,o,s,a,i,l,n,c,d,m,p){var u,g=this;g.$onInit=function(){n.$broadcast("hide-step-header",{hideHeader:!1}),n.showSelectedCard=!0,n.showARN=!1,n.stepsHeader.currentStep=2,e.myVar="1",e.myMonth="00",e.myYear="00",g.isStaffJourney=c.isStaffJourney(),g.relationWithBank=!1,g.selectedCard=c.getSelectedCard();var t=p.getContactDetails();console.log("contactData",t),g.relationWithBank="Existing to Bank"==t.relationWithBank,console.log("ETB",g.relationWithBank),g.lengthOfStayMonths=a.lengthOfStayMonths,g.lengthOfStayYears=a.lengthOfStayYears,g.yy=["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15"],g.mm=["01","02","03","04","05","06","07","08","09","10","11"],g.isStaffJourney?g.cardTypeAE=t.cardType:g.cardTypeAE="Primary Card",g.allCompanyNames=[],g.companyNames=[];var s=[];s.push(c.getCountries()),s.push(c.getErrorMessages()),s.push(a.getBusinessTypes()),s.push(a.getOrganizationTypes()),s.push(a.getFirmTypes()),r.all(s).then(function(e){g.countries=e[0],g.errorMessages=e[1].step6,g.business=e[2],g.org=e[3],g.firm=e[4],g.model={},g.model=a.getUserDetails(),g.model.companyName=p.getEmployerName(),g.hprDisabledFields=!1,g.hprEmailMandate=!0,"HPR"==g.selectedCard.key&&("Employed (salaried)"==g.model.empType||"Self-Employed"==g.model.empType?g.hprDisabledFields=!1:(g.hprDisabledFields=!0,g.model.grossIncome="1000",g.model.year=g.lengthOfStayYears[0].label,g.model.month=g.lengthOfStayMonths[0].label,g.model.selectedBusiness=g.business[9],g.model.otherBusiness="Others",g.model.selectedOrganisation=g.org[8],g.model.otherOrg="Others",g.model.designation=g.model.empType,g.model.companyName=g.model.empType),g.hprEmailMandate=!1),g.model.perfiosCheck&&(g.disableGrossIncome=m.isEmpty(g.model.isAnnualIncomeDisabled)?null!=g.model.grossIncome:"Y"===g.model.isAnnualIncomeDisabled,u=g.model.perfiosCompanyName,g.disableCompany=!g.model.changedCompanyName&&null!=g.model.companyName,g.showChangeCompanyToggle=null!=u),g.model.selectedCountry=g.model.selectedCountry?o("filter")(g.countries,{countryName:g.model.selectedCountry})[0]:g.countries[0],g.model.natureOfOrgCheck=!1,g.model.countryCheck=!1,g.model.firmCheck=!1}),l(),d.pageList.incomeDetails.internal_reference_id=c.getDataFromStorageContact().adobeId,d.trackPageLoad(d.pageList.incomeDetails)},g.resetOtherBiz=function(){g.model.otherBusiness=null,g.submitted=!1},g.resetOtherOrg=function(){g.model.otherOrg=null,g.submitted=!1},g.getAddressByPinCode=function(r){if(e.step6Form.postalCode.$setValidity("invalid",!0),6===r.target.value.length){var t=g.model.postalCode;c.getAddressByPostalCode(t,".masked-container").then(function(r){g.model.city=r.city,g.model.state=r.state,g.isStaffJourney||(m.isEmpty(r)||m.isEmpty(r.state)||m.isEmpty(r.city))&&e.step6Form.postalCode.$setValidity("invalid",!1)})}else g.model.city=null,g.model.state=null},g.fetch=function(e){if(e.search){var r=e.search;r.length>0&&(e.search=r,r.length>2?(g.loading=!0,g.companyNames=[],r.length>0&&a.getCompanyDetail(r).then(function(e){if(e.length>0){var t=[];t[0]=r;var o=e.indexOf(r);g.companyNames=o<0?t.concat(e):e}else g.companyNames[0]=r}).finally(function(){g.loading=!1})):g.companyNames=[])}},g.next=function(){if(g.errorMsg="","Supplementary Card"!=g.cardTypeAE&&(g.validateEmploymentLength(),g.validateOfficeNumber()),"HPR"===g.selectedCard.key){if(null!=g.model.SI&&null==g.model.accountNumber)return e.step6Form.accountNumber.$setValidity("maxAge",!1),void m.focusOnInvalid("step6Form",!0);if(null!=g.model.accountNumber&&null==g.model.SI)return e.step6Form.SI.$setValidity("maxAge",!1),void m.focusOnInvalid("step6Form",!0)}!m.isEmpty(g.model.postalCode)&&6===g.model.postalCode.length&&m.isEmpty(g.model.city)&&m.isEmpty(g.model.state)?c.getAddressByPostalCode(g.model.postalCode,".masked-container").then(function(r){(m.isEmpty(r)||m.isEmpty(r.state)||m.isEmpty(r.city))&&e.step6Form.postalCode.$setValidity("invalid",!1),v()}):v()};var v=function(){if("Supplementary Card"!=g.cardTypeAE&&g.validateIncome(),e.step6Form.$valid){var r=a.getSelectedCardKey();if(("VPC"===r||"CBC"===r)&&parseInt(g.model.grossIncome)<3e5&&"Supplementary Card"!=g.cardTypeAE){i.open({backdrop:"static",keyboard:!1,modalFade:!0,component:"cardSwapModal",windowClass:"card-detail-modal"}).result.then(function(e){if(e)y(!0);else{var r={robocheck:g.robocheck?g.robocheck:""};a.sendLead(r).then(function(e){t.go("app.negative-company",{cardKey:g.selectedCard.key})})}},function(){})}else y(!1);d.buttonList.buttonClick.event_content="continue",d.trackUserAction(d.buttonList.buttonClick)}else y(!1),d.buttonList.buttonClick.event_content="continue",d.trackUserAction(d.buttonList.buttonClick),s(function(){g.submitted=!0,m.focusOnInvalid("step6Form")},100)},y=function(r){var o={robocheck:g.robocheck?g.robocheck:""},s=h();a.sendEmploymentData(s,o,!1).then(function(o){o.success?"Negative Company"==o.message?(d.buttonList.error.event_content="Negative company error",d.trackUserAction(d.buttonList.error),t.go("app.negative-company",{cardKey:g.selectedCard.key})):(r&&a.swapSelectedCard().then(function(r){r&&e.$emit("card-selected")}),t.go("app.journey.s7-review",{cardKey:g.selectedCard.key})):1302===o.errorCode?(d.buttonList.error.event_content="Office non sourcing city error",d.trackUserAction(d.buttonList.error),t.go("app.office-non-sourcing-city",{cardKey:g.selectedCard.key})):1303===o.errorCode?(d.buttonList.error.event_content="Office city mismatch error",d.trackUserAction(d.buttonList.error),t.go("app.office-city-mismatch",{cardKey:g.selectedCard.key})):10006===o.errorCode?t.go("app.journey.s1-cards"):11e3===o.errorCode?(g.errorMsg="Gross annual income should be at least INR 4,00,000 for all card variants",window.scrollTo(0,0)):11009===o.errorCode?(g.errorMsg="Gross annual income should be at least INR 3,00,000 for all card variants",window.scrollTo(0,0)):11014===o.errorCode?(g.errorMsg="Gross annual income should be at least INR 4,00,000 for Travel one card",window.scrollTo(0,0)):11010===o.errorCode?(g.errorMsg="Gross annual income should be at least INR 40,00,000 for TAJ Card",window.scrollTo(0,0)):11013===o.errorCode?(g.errorMsg="Gross annual income should be at least INR 36,00,000 for Premier Card",window.scrollTo(0,0)):11011===o.errorCode?(g.errorMsg="Please enter the GST Number",window.scrollTo(0,0)):11012===o.errorCode?(g.errorMsg="Please enter the Business PAN Number",window.scrollTo(0,0)):11001===o.errorCode?(g.errorMsg="Please select the Nature of Business",window.scrollTo(0,0)):11002===o.errorCode?(g.errorMsg="Please select the Nature of Organisation",window.scrollTo(0,0)):11003===o.errorCode?(g.errorMsg="Please enter the Designation",window.scrollTo(0,0)):11004===o.errorCode?(g.errorMsg="Please enter the Company Name",window.scrollTo(0,0)):11005===o.errorCode?(g.errorMsg="Please enter the Company Address",window.scrollTo(0,0)):11006===o.errorCode?(g.errorMsg="Please enter the Pin Code",window.scrollTo(0,0)):11007===o.errorCode&&(g.errorMsg="Please enter the Office Email Address",window.scrollTo(0,0))})};g.validateIncome=function(){var r=e.step6Form.grossIncome;r.$setValidity("min",!0);var t=parseInt(g.model.grossIncome);return 0==t?(g.model.grossIncome=null,!1):!(t<parseInt(r.$$attr.min)&&(r.$setValidity("min",!1),1))},g.validateSI=function(e){if(e){e.$setValidity("max",!0),e.$setValidity("min",!0);var r=parseInt(g.model.SI);r<5&&e.$setValidity("min",!1),r>100&&e.$setValidity("max",!1)}},g.changeCompanyName=function(){if(0==g.model.changedCompanyName){i.open({backdrop:"static",keyboard:!1,modalFade:!0,component:"overlayStep6Confirmation",windowClass:"card-detail-modal"}).result.then(function(e){e?(g.model.companyName=u,g.disableCompany=!0):g.model.changedCompanyName=!0},function(){})}else g.disableCompany=!1},g.save=function(){i.open({backdrop:"static",keyboard:!1,modalFade:!0,component:"overlaySaveConfirmation",windowClass:"card-detail-modal"}).result.then(function(e){if(e){var r=h(),o={robocheck:g.robocheck?g.robocheck:""};a.sendEmploymentData(r,o,!0).then(function(e){e.success?t.go("app.save-exit",{saveData:{name:c.getApplicantInfo("fullName")},cardKey:g.selectedCard.key}):3==e.errorCode?t.go("app.journey.s1-cards"):4==e.errorCode?(n.sessionError=!0,t.go("app.app-retrieval")):1302===e.errorCode?(d.buttonList.error.event_content="Office non sourcing city error",d.trackUserAction(d.buttonList.error),t.go("app.office-non-sourcing-city",{cardKey:g.selectedCard.key})):1303===e.errorCode&&(d.buttonList.error.event_content="Office city mismatch error",d.trackUserAction(d.buttonList.error),t.go("app.office-city-mismatch",{cardKey:g.selectedCard.key}))}),d.buttonList.buttonClick.event_content="save for later",d.trackUserAction(d.buttonList.buttonClick)}},function(){})};var h=function(){var e={annualIncome:"Supplementary Card"!=g.cardTypeAE?g.model.grossIncome:"1",employmentYear:"Supplementary Card"!=g.cardTypeAE?m.isEmpty(g.model.year)?null:parseInt(g.model.year):"00",employmentMonth:"Supplementary Card"!=g.cardTypeAE?m.isEmpty(g.model.month)?null:parseInt(g.model.month):"00",SI:null!=g.model.SI?g.model.SI:null,accountNumber:null!=g.model.accountNumber?g.model.accountNumber:null,businessNature:null!=g.model.selectedBusiness?g.model.selectedBusiness:null,otherBusinessNature:null!=g.model.otherBusiness?g.model.otherBusiness:null,organisationNature:null!=g.model.selectedOrganisation?g.model.selectedOrganisation:null,otherOrganisationNature:null!=g.model.otherOrg?g.model.otherOrg:null,firmType:null!=g.model.selectedFirm?g.model.selectedFirm:null,companyName:null!=g.model.companyName?g.model.companyName:null,designation:null!=g.model.designation?g.model.designation:null,changedCompanyName:g.model.changedCompanyName?"Y":"N",companyAddress:{address1:null!=g.model.companyAddress?g.model.companyAddress:null,address2:"",address3:"",city:null!=g.model.city?g.model.city:null,addressType:null,country:null!=g.model.selectedCountry.countryName?g.model.selectedCountry.countryName:null,state:null!=g.model.state?g.model.state:null,pinCode:null!=g.model.postalCode?g.model.postalCode:null,stdCode:null!=g.model.officeSTD?g.model.officeSTD:null,officeExtension:null!=g.model.ext?g.model.ext:null,phone:null!=g.model.mobileNo?g.model.mobileNo:null,dialCode:"91",district:""},officeNumberConsent:g.model.officeNumberConsent?"Y":"N",officeEmailId:null!=g.model.officeEmailId?g.model.officeEmailId:null,SI:null!=g.model.SI?g.model.SI:null,accountNumber:null!=g.model.accountNumber?g.model.accountNumber:null,gstNumber:g.model.gstNumber,businessPanNumber:g.model.businessPanNumber};return console.log("formData--\x3e",e),e};g.goback=function(){var e=h();a.setDataInStorage(e),t.go("app.journey.s5-employmentDetails",{cardKey:g.selectedCard.key}),d.buttonList.buttonClick.event_content="back",d.trackUserAction(d.buttonList.buttonClick)},g.validateEmploymentLength=function(){if(e.step6Form.year.$setValidity("minEmp",!0),e.step6Form.year.$setValidity("maxEmp",!0),e.step6Form.month.$setValidity("minEmp",!0),e.step6Form.month.$setValidity("maxEmp",!0),e.step6Form.month.$setValidity("max",!0),m.isEmpty(g.model.year)||1!==g.model.year.length||(g.model.year="0"+g.model.year),m.isEmpty(g.model.month)||1!==g.model.month.length||(g.model.month="0"+g.model.month),!m.isEmpty(g.model.month)&&!m.isEmpty(g.model.year)){var r=parseInt(g.model.month);if(0===parseInt(g.model.year)&&0===r)return e.step6Form.year.$setValidity("minEmp",!1),void e.step6Form.month.$setValidity("minEmp",!1)}if(!m.isEmpty(g.model.month)){var r=parseInt(g.model.month);if(r>11)return void e.step6Form.month.$setValidity("max",!1)}var t=a.getApplicantAge();if(f(g.model.year,g.model.month)>=t)return e.step6Form.year.$setValidity("maxEmp",!1),void e.step6Form.month.$setValidity("maxEmp",!1)},g.validateOfficeNumber=function(){e.step6Form.mobileNo.$setValidity("minlength",!0),e.step6Form.mobileNo.$setValidity("maxlength",!0),0==parseInt(g.model.mobileNo)&&(g.model.mobileNo="");var r=g.model.officeSTD||"",t=g.model.mobileNo||"";g.model.ext;r.length+t.length>0&&r.length+t.length<10&&e.step6Form.mobileNo.$setValidity("minlength",!1),r.length+t.length>12&&e.step6Form.mobileNo.$setValidity("maxlength",!1)},g.toggleConsent=function(){s(function(){g.validateOfficeNumber()},0)};var f=function(e,r){var t=0;return e&&(t+=parseFloat(e)),r&&(t+=parseFloat(r/12)),t}}var o=t(/*! angular */"./node_modules/angular/index.js");t(/*! ./step6.component.service */"./src/app/components/journey/step6/step6.component.service.js"),t(/*! ./step6.component.scss */"./src/app/components/journey/step6/step6.component.scss"),t(/*! ./step6.modal/overlayStep6Confirmation.modal.component.js */"./src/app/components/journey/step6/step6.modal/overlayStep6Confirmation.modal.component.js"),t(/*! ./card-swap-modal/card-swap.modal.component */"./src/app/components/journey/step6/card-swap-modal/card-swap.modal.component.js");var s=o.module("journey.module").component("step6",{template:t(/*! ./step6.component.html */"./src/app/components/journey/step6/step6.component.html"),controller:["$scope","$q","$state","$filter","$timeout","step6Service","$uibModal","$anchorScroll","$rootScope","journeyService","analyticService","UtilService","appState",r]});e.exports=s.name}()},"./src/app/components/journey/step6/step6.component.scss":/*!***************************************************************!*\
  !*** ./src/app/components/journey/step6/step6.component.scss ***!
  \***************************************************************/
function(e,r){},"./src/app/components/journey/step6/step6.component.service.js":/*!*********************************************************************!*\
  !*** ./src/app/components/journey/step6/step6.component.service.js ***!
  \*********************************************************************/
function(e,r){!function(){"use strict";var r=angular.module("journey.module").service("step6Service",["$rootScope","$http","appState","UtilService","CONFIG",function(e,r,t,o,s){var a=this;a.setDataInStorage=function(e){var r={primaryApplicant:{employmentDetails:e}};t.mergeApplicationData(r)},a.getDataFromStorage=function(){return t.getApplicationData()},a.getSelectedCardKey=function(){return t.getApplicationData().primaryApplicant.card.key},a.getCompanyDetail=function(t){var o;return o=e.integrationsActive?s.apiUrl+"/lookup/fetchcompanynames/"+t+"?hash_id="+Math.random():"resources/data/mock/step6_income-details/companies.json",r({method:"GET",url:o,headers:{"Content-Type":"application/json"}}).then(function(e){if(e&&200===e.status&&e.data)return e.data;e&&e.validationErrors},function(e){})},a.sendEmploymentData=function(o,i,l){var n,c;if(e.integrationsActive){c="POST";var d=t.getApplicationData().primaryApplicant.arn;n=s.apiUrl+"/applicantdetails/employmentdetails/save/"+d+"/"+l+"?hash_id="+Math.random()}else c="GET",n="resources/data/mock/step6_income-details/employment_details_save.json";return r({method:c,url:n,headers:{"Content-Type":"application/json"},data:JSON.stringify(o),params:i}).then(function(e){return 200===e.status&&e.data?(e.data.success&&(e.data.salaryFlag&&"success"==e.data.salaryFlag&&t.setHubSalaryFlag(e.data.salaryFlag),"Negative Company"!==e.data.message&&(o.isAnnualIncomeDisabled=e.data.leadGenerationReason),a.setDataInStorage(o)),e.data):{success:!1,message:"Sorry! there seems to be some technical error."}},function(e){return{success:!1,message:"Sorry! there seems to be some technical error."}})},a.sendLead=function(o){var a,i;if(e.integrationsActive){i="POST";var l=t.getApplicationData().primaryApplicant.arn;a=s.apiUrl+"/iccm/sendNotification/"+l+"?hash_id="+Math.random()}else i="GET",a="resources/data/mock/step6_income-details/send-lead.json";return r({method:i,url:a,headers:{"Content-Type":"application/json"},params:o}).then(function(e){return 200===e.status&&e.data?e.data:{success:!1,message:"Sorry! there seems to be some technical error."}},function(e){return{success:!1,message:"Sorry! there seems to be some technical error."}})},a.swapSelectedCard=function(){return r({method:"GET",url:"resources/data/mock/step1_cards.json"}).then(function(e){if(e&&200===e.status&&e.data){var r=e.data.filter(function(e){return"SVC"===e.key})[0],o={primaryApplicant:{card:r}};return t.mergeApplicationData(o),!0}return!1},function(e){return!1})},a.lengthOfStayYears=[];for(var i=0;i<=65;i++)i<2?this.lengthOfStayYears.push({value:i,label:i+" year"}):this.lengthOfStayYears.push({value:i,label:i+" years"});a.lengthOfStayMonths=[];for(var i=0;i<12;i++)i<2?this.lengthOfStayMonths.push({value:i,label:i+" month"}):this.lengthOfStayMonths.push({value:i,label:i+" months"});a.getUserDetails=function(){var e={},r=t.getApplicationData();return r&&r.primaryApplicant&&(e.empType=r.primaryApplicant.employmentStatus?r.primaryApplicant.employmentStatus:null,e.perfiosCheck=r.primaryApplicant.hasSkippedPerfios?r.primaryApplicant.hasSkippedPerfios:"Y",e.perfiosCheck="Y"!==e.perfiosCheck,r.primaryApplicant.employmentDetails&&(e.year=o.isEmpty(r.primaryApplicant.employmentDetails.employmentYear)?null:o.formatYearMonth(r.primaryApplicant.employmentDetails.employmentYear),e.month=o.isEmpty(r.primaryApplicant.employmentDetails.employmentMonth)?null:o.formatYearMonth(r.primaryApplicant.employmentDetails.employmentMonth),e.grossIncome=o.isEmpty(r.primaryApplicant.employmentDetails.annualIncome)?null:parseInt(r.primaryApplicant.employmentDetails.annualIncome),0===e.grossIncome&&(e.grossIncome=null),e.isAnnualIncomeDisabled=r.primaryApplicant.employmentDetails.isAnnualIncomeDisabled,r.primaryApplicant.employmentDetails.companyAddress&&(e.selectedCountry=r.primaryApplicant.employmentDetails.companyAddress.country?r.primaryApplicant.employmentDetails.companyAddress.country:null,e.companyAddress=r.primaryApplicant.employmentDetails.companyAddress.address1?r.primaryApplicant.employmentDetails.companyAddress.address1:null,e.city=r.primaryApplicant.employmentDetails.companyAddress.city?r.primaryApplicant.employmentDetails.companyAddress.city:null,e.state=r.primaryApplicant.employmentDetails.companyAddress.state?r.primaryApplicant.employmentDetails.companyAddress.state:null,e.postalCode=r.primaryApplicant.employmentDetails.companyAddress.pinCode?r.primaryApplicant.employmentDetails.companyAddress.pinCode:null,e.mobileNo=r.primaryApplicant.employmentDetails.companyAddress.phone?r.primaryApplicant.employmentDetails.companyAddress.phone:null,e.ext=r.primaryApplicant.employmentDetails.companyAddress.officeExtension?r.primaryApplicant.employmentDetails.companyAddress.officeExtension:null,e.officeSTD=r.primaryApplicant.employmentDetails.companyAddress.stdCode?r.primaryApplicant.employmentDetails.companyAddress.stdCode:null),e.designation=r.primaryApplicant.employmentDetails.designation?r.primaryApplicant.employmentDetails.designation:null,e.selectedBusiness=r.primaryApplicant.employmentDetails.businessNature?r.primaryApplicant.employmentDetails.businessNature:null,e.selectedOrganisation=r.primaryApplicant.employmentDetails.organisationNature?r.primaryApplicant.employmentDetails.organisationNature:null,e.otherBusiness=r.primaryApplicant.employmentDetails.otherBusinessNature?r.primaryApplicant.employmentDetails.otherBusinessNature:null,e.otherOrg=r.primaryApplicant.employmentDetails.otherOrganisationNature?r.primaryApplicant.employmentDetails.otherOrganisationNature:null,e.selectedFirm=r.primaryApplicant.employmentDetails.firmType?r.primaryApplicant.employmentDetails.firmType:null,e.companyName=r.primaryApplicant.employmentDetails.companyName?r.primaryApplicant.employmentDetails.companyName:null,e.perfiosCompanyName=r.primaryApplicant.employmentDetails.perfiosCompanyName?r.primaryApplicant.employmentDetails.perfiosCompanyName:null,e.changedCompanyName="Y"===r.primaryApplicant.employmentDetails.changedCompanyName,e.officeNumberConsent="Y"===r.primaryApplicant.employmentDetails.officeNumberConsent,e.accountNumber=r.primaryApplicant.employmentDetails.accountNumber?r.primaryApplicant.employmentDetails.accountNumber:null,e.SI=r.primaryApplicant.employmentDetails.SI?r.primaryApplicant.employmentDetails.SI:null)),e},a.getApplicantAge=function(){var e=a.getDataFromStorage().primaryApplicant,r=e.dateOfBirth;return r=r.split("-"),o.calculateAge(r[0],r[1],r[2])},a.getBusinessTypes=function(){return r.get("resources/data/business-types.json",{cache:!0}).then(function(e){return e.data})},a.getOrganizationTypes=function(){return r.get("resources/data/organization-types.json",{cache:!0}).then(function(e){return e.data})},a.getFirmTypes=function(){return r.get("resources/data/firm-types.json",{cache:!0}).then(function(e){return e.data})}}]);e.exports=r.name}()},"./src/app/components/journey/step6/step6.modal/overlayStep6Confirmation.modal.component.html":/*!****************************************************************************************************!*\
  !*** ./src/app/components/journey/step6/step6.modal/overlayStep6Confirmation.modal.component.html ***!
  \****************************************************************************************************/
function(e,r){e.exports='<div class=modal-header> <div class=heading-container> </div> <div class=close-button-container> <span aria-label=Close title=Close class="icon icon-2x icon-delete-small" ng-click=$ctrl.cancel()></span> </div> </div> <div class=modal-body> <p class=no-margin-b> It seems you have made some changes to the prefilled information. Are you sure you want to cancel the changes </p> </div> <div class=modal-footer> <div class=buttons-container> <button class=button-outline ng-click=$ctrl.Close(false)>No</button> <button class=button-primary ng-click=$ctrl.Close(true)>Yes</button> </div> </div>'},"./src/app/components/journey/step6/step6.modal/overlayStep6Confirmation.modal.component.js":/*!**************************************************************************************************!*\
  !*** ./src/app/components/journey/step6/step6.modal/overlayStep6Confirmation.modal.component.js ***!
  \**************************************************************************************************/
function(e,r,t){!function(){"use strict";var r=t(/*! angular */"./node_modules/angular/index.js");t(/*! ./overlayStep6Confirmation.modal.component.scss */"./src/app/components/journey/step6/step6.modal/overlayStep6Confirmation.modal.component.scss");var o=function(e){var r=this;r.$onInit=function(){},r.Close=function(e){r.close({$value:e})},r.cancel=function(){r.dismiss({$value:"cancel"})}},s=r.module("journey.module").component("overlayStep6Confirmation",{template:t(/*! ./overlayStep6Confirmation.modal.component.html */"./src/app/components/journey/step6/step6.modal/overlayStep6Confirmation.modal.component.html"),bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["$scope",o]});e.exports=s.name}()},"./src/app/components/journey/step6/step6.modal/overlayStep6Confirmation.modal.component.scss":/*!****************************************************************************************************!*\
  !*** ./src/app/components/journey/step6/step6.modal/overlayStep6Confirmation.modal.component.scss ***!
  \****************************************************************************************************/
function(e,r){}});
//# sourceMappingURL=0076a7fafd341d7953281.js.map