{"version":3,"sources":["webpack:///resources/js/0076a7fafd341d7953281.js","webpack:///./src/app/components/journey/step6/card-swap-modal/card-swap.modal.component.html","webpack:///./src/app/components/journey/step6/card-swap-modal/card-swap.modal.component.js","webpack:///./src/app/components/journey/step6/step6.component.html","webpack:///./src/app/components/journey/step6/step6.component.js","webpack:///./src/app/components/journey/step6/step6.component.service.js","webpack:///./src/app/components/journey/step6/step6.modal/overlayStep6Confirmation.modal.component.html","webpack:///./src/app/components/journey/step6/step6.modal/overlayStep6Confirmation.modal.component.js"],"names":["webpackJsonp","./src/app/components/journey/step6/card-swap-modal/card-swap.modal.component.html","module","exports","./src/app/components/journey/step6/card-swap-modal/card-swap.modal.component.js","__webpack_require__","angular","modalController","analyticService","vm","this","$onInit","buttonList","popup","event_content","trackUserAction","closeOverlay","isOk","buttonClick","close","$value","cancel","dismiss","modalComp","component","template","bindings","resolve","controller","name","./src/app/components/journey/step6/card-swap-modal/card-swap.modal.component.scss","./src/app/components/journey/step6/step6.component.html","./src/app/components/journey/step6/step6.component.js","step6Controller","$scope","$q","$state","$filter","$timeout","step6Service","$uibModal","$anchorScroll","$rootScope","journeyService","UtilService","appState","backupCompanyName","$broadcast","hideHeader","showSelectedCard","showARN","stepsHeader","currentStep","myVar","myMonth","myYear","isStaffJourney","relationWithBank","selectedCard","getSelectedCard","contactData","getContactDetails","console","log","lengthOfStayMonths","lengthOfStayYears","yy","mm","cardTypeAE","cardType","allCompanyNames","companyNames","promisses","push","getCountries","getErrorMessages","getBusinessTypes","getOrganizationTypes","getFirmTypes","all","then","responses","countries","errorMessages","step6","business","org","firm","model","getUserDetails","companyName","getEmployerName","hprDisabledFields","hprEmailMandate","key","empType","grossIncome","year","label","month","selectedBusiness","otherBusiness","selectedOrganisation","otherOrg","designation","perfiosCheck","disableGrossIncome","isEmpty","isAnnualIncomeDisabled","perfiosCompanyName","disableCompany","changedCompanyName","showChangeCompanyToggle","selectedCountry","countryName","natureOfOrgCheck","countryCheck","firmCheck","pageList","incomeDetails","internal_reference_id","getDataFromStorageContact","adobeId","trackPageLoad","resetOtherBiz","submitted","resetOtherOrg","getAddressByPinCode","event","step6Form","postalCode","$setValidity","target","value","length","pinCode","getAddressByPostalCode","data","city","state","fetch","$select","search","select","loading","getCompanyDetail","result","temp","a","indexOf","concat","next","errorMsg","validateEmploymentLength","validateOfficeNumber","SI","accountNumber","focusOnInvalid","submitForm","validateIncome","$valid","card","getSelectedCardKey","parseInt","open","backdrop","keyboard","modalFade","windowClass","sendEmploymentData","securityParams","robocheck","sendLead","go","cardKey","swapCard","prepareData","success","message","error","swapSelectedCard","$emit","errorCode","window","scrollTo","incomeElement","income","$$attr","validateSI","amountElem","transAmount","changeCompanyName","isSelected","save","saveData","getApplicantInfo","sessionError","formDetails","annualIncome","employmentYear","employmentMonth","businessNature","otherBusinessNature","organisationNature","otherOrganisationNature","firmType","selectedFirm","companyAddress","address1","address2","address3","addressType","country","stdCode","officeSTD","officeExtension","ext","phone","mobileNo","dialCode","district","officeNumberConsent","officeEmailId","gstNumber","businessPanNumber","goback","setDataInStorage","age","getApplicantAge","convertToYear","std","mobile","toggleConsent","numberOfYears","numberOfMonths","years","parseFloat","step6Comp","./src/app/components/journey/step6/step6.component.scss","./src/app/components/journey/step6/step6.component.service.js","service","$http","CONFIG","self","primaryApplicant","employmentDetails","mergeApplicationData","getDataFromStorage","getApplicationData","val","apiURL","integrationsActive","apiUrl","Math","random","method","url","headers","Content-Type","response","status","validationErrors","empData","isSaveExit","httpMethod","arn","JSON","stringify","params","salaryFlag","setHubSalaryFlag","leadGenerationReason","svcCard","filter","appData","i","userDTO","localState","employmentStatus","hasSkippedPerfios","formatYearMonth","applicant","dob","dateOfBirth","split","calculateAge","get","cache","./src/app/components/journey/step6/step6.modal/overlayStep6Confirmation.modal.component.html","./src/app/components/journey/step6/step6.modal/overlayStep6Confirmation.modal.component.js","Close","./src/app/components/journey/step6/step6.modal/overlayStep6Confirmation.modal.component.scss"],"mappings":"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","file":"resources/js/0076a7fafd341d7953281.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"./src/app/components/journey/step6/card-swap-modal/card-swap.modal.component.html\":\n/* unknown exports provided */\n/* all exports used */\n/*!*****************************************************************************************!*\\\n  !*** ./src/app/components/journey/step6/card-swap-modal/card-swap.modal.component.html ***!\n  \\*****************************************************************************************/\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=modal-header> <div class=heading-container> </div> <div class=close-button-container> <button type=button class=close aria-label=Close ng-click=$ctrl.cancel()> <span aria-hidden=true>Ã—</span> </button> </div> </div> <div class=modal-body> <p> Based on your income details, you are eligible for <strong>Smart Value Card</strong>. Accordingly we will process your application for the Smart Value Card. </p> <h1 class=h5> <strong>HSBC Smart Value Credit Card</strong> </h1> <ul> <li>INR 2000 Cleartrip voucher and INR 250 Amazon gift voucher on first transaction</li> <li>10% cashback up to Rs. 1,000 on minimum spend of Rs. 5,000 within first 60 days of card issuance.</li> <li>Attractive Instalment plans at 10.99% p.a. for EMI products - Applicable for Loan on Phone, Balance Transfer on EMI and Cash on EMI</li> <li> Dynamic Finance Charge interest rates starting from 2.99% p.m., going down to 1.99% p.m. based on credit history & repayment behavior </li> <li>Joining fee : NIL ; Annual fee : Rs 499 annual fee (waived off for annual spends of Rs 50,000 or more)</li> </ul> </div> <div class=modal-footer> <div class=buttons-container> <button class=button-outline ng-click=$ctrl.closeOverlay(false)>Do not proceed</button> <button class=button-primary ng-click=$ctrl.closeOverlay(true)>Proceed</button> </div> </div>\";\n\n/***/ }),\n\n/***/ \"./src/app/components/journey/step6/card-swap-modal/card-swap.modal.component.js\":\n/* unknown exports provided */\n/* all exports used */\n/*!***************************************************************************************!*\\\n  !*** ./src/app/components/journey/step6/card-swap-modal/card-swap.modal.component.js ***!\n  \\***************************************************************************************/\n/***/ (function(module, exports, __webpack_require__) {\n\n(function () {\r\n    'use strict';\r\n    var angular = __webpack_require__(/*! angular */ \"./node_modules/angular/index.js\");\r\n    __webpack_require__(/*! ./card-swap.modal.component.scss */ \"./src/app/components/journey/step6/card-swap-modal/card-swap.modal.component.scss\")\r\n\r\n    var modalController = function (analyticService) {\r\n        var vm = this;\r\n\r\n        vm.$onInit = function () {\r\n            analyticService.buttonList.popup.event_content = \"Swap card selected by customer based on annual income confirmation\";\r\n            analyticService.trackUserAction(analyticService.buttonList.popup);\r\n        };\r\n\r\n        /**\r\n         * This function is triggered when we select or unselect card.\r\n         * We push the selected card in selectedPrimaryCards array and\r\n         *  pop the unselected card.\r\n         */\r\n        vm.closeOverlay = function (isOk) {\r\n            analyticService.buttonList.buttonClick.event_content =  true ? \"Proceed\" : \"I do not wish to proceed\";\r\n            analyticService.trackUserAction(analyticService.buttonList.buttonClick);\r\n            vm.close({\r\n                $value: isOk\r\n            });\r\n        };\r\n\r\n        vm.cancel = function () {\r\n            vm.dismiss({\r\n                $value: 'cancel'\r\n            });\r\n        };\r\n    };\r\n\r\n    var modalComp = angular.module('journey.module').component('cardSwapModal', {\r\n        template: __webpack_require__(/*! ./card-swap.modal.component.html */ \"./src/app/components/journey/step6/card-swap-modal/card-swap.modal.component.html\"),\r\n        bindings: {\r\n            resolve: '<',\r\n            close: '&',\r\n            dismiss: '&'\r\n        },\r\n        controller: ['analyticService', modalController]\r\n    });\r\n    module.exports = modalComp.name;\r\n})();\r\n\n\n/***/ }),\n\n/***/ \"./src/app/components/journey/step6/card-swap-modal/card-swap.modal.component.scss\":\n/* unknown exports provided */\n/* all exports used */\n/*!*****************************************************************************************!*\\\n  !*** ./src/app/components/journey/step6/card-swap-modal/card-swap.modal.component.scss ***!\n  \\*****************************************************************************************/\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"./src/app/components/journey/step6/step6.component.html\":\n/* unknown exports provided */\n/* all exports used */\n/*!***************************************************************!*\\\n  !*** ./src/app/components/journey/step6/step6.component.html ***!\n  \\***************************************************************/\n/***/ (function(module, exports) {\n\nmodule.exports = \"<form name=step6Form autocomplete=off novalidate> <input type=text class=hidden-field ng-model=$ctrl.robocheck tabindex=-1> <h1 class=\\\"brand-bar no-margin-top\\\">Employment details</h1> <alert-msg ng-if=$ctrl.errorMsg type=ERROR> {{$ctrl.errorMsg}} </alert-msg> <div class=row ng-if=\\\"$ctrl.cardTypeAE != 'Supplementary Card'\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"!$ctrl.isStaffJourney && $ctrl.selectedCard.key !='MJY' && $ctrl.selectedCard.key !='SVC' && $ctrl.selectedCard.key !='HPR'\\\"> <div class=form-group> <label for=grossIncome>Gross annual income </label> <div ng-class=\\\"{'has-error': (step6Form.grossIncome.$invalid || $ctrl.model.grossIncome<=0) && ($ctrl.submitted || step6Form.grossIncome.$touched)}\\\"> <input trim only-number=11 type=tel class=form-control id=grossIncome name=grossIncome aria-describedby=annualIncomeErrMsg ng-model=$ctrl.model.grossIncome onkeypress=\\\"if(0==this.value.length&&(48==event.which||32===event.charCode))return!1\\\" ng-blur=$ctrl.validateIncome() ng-keyup=$ctrl.validateIncome() ng-maxlength=11 min=400000 maxlength=11 aria-invalid=\\\"{{step6Form.grossIncome.$invalid && ($ctrl.submitted || step6Form.grossIncome.$touched)}}\\\" ng-disabled=$ctrl.disableGrossIncome ng-required=required> </div> <div id=annualIncomeErrMsg ng-class=\\\"{'has-error': step6Form.grossIncome.$invalid && (step6Form.grossIncome.$touched || $ctrl.submitted)}\\\"> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Please enter your gross annual income to continue with your application. </validation-msg> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.maxlength && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Maximum of 11 digits allowed. </validation-msg> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.min && !step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Gross annual income should be at least INR 4,00,000 for all card variants. </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"$ctrl.isStaffJourney && $ctrl.selectedCard.key !='MJY' && $ctrl.selectedCard.key !='SVC' && $ctrl.selectedCard.key !='HPR'\\\"> <div class=form-group> <label for=grossIncome>Gross annual income</label> <div ng-class=\\\"{'has-error': (step6Form.grossIncome.$invalid || $ctrl.model.grossIncome<=0) && ($ctrl.submitted || step6Form.grossIncome.$touched)}\\\"> <input trim only-number=11 type=tel class=form-control id=grossIncome name=grossIncome aria-describedby=annualIncomeErrMsg ng-model=$ctrl.model.grossIncome onkeypress=\\\"if(0==this.value.length&&(48==event.which||32===event.charCode))return!1\\\" ng-blur=$ctrl.validateIncome() ng-keyup=$ctrl.validateIncome() ng-maxlength=11 min=300000 maxlength=11 aria-invalid=\\\"{{step6Form.grossIncome.$invalid && ($ctrl.submitted || step6Form.grossIncome.$touched)}}\\\" ng-disabled=\\\"$ctrl.disableGrossIncome || $ctrl.hprDisabledFields\\\" ng-required=required> </div> <div id=annualIncomeErrMsg ng-class=\\\"{'has-error': step6Form.grossIncome.$invalid && (step6Form.grossIncome.$touched || $ctrl.submitted)}\\\"> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Please enter your gross annual income to continue with your application. </validation-msg> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.maxlength && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Maximum of 11 digits allowed. </validation-msg> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.min && !step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Gross annual income should be at least INR 3,00,000 for all card variants. </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"$ctrl.selectedCard.key =='MJY' && $ctrl.selectedCard.key !='SVC'\\\"> <div class=form-group> <label for=grossIncome>Gross annual income</label> <div ng-class=\\\"{'has-error': (step6Form.grossIncome.$invalid || $ctrl.model.grossIncome<=0) && ($ctrl.submitted || step6Form.grossIncome.$touched)}\\\"> <input trim only-number=11 type=tel class=form-control id=grossIncome name=grossIncome aria-describedby=annualIncomeErrMsg ng-model=$ctrl.model.grossIncome onkeypress=\\\"if(0==this.value.length&&(48==event.which||32===event.charCode))return!1\\\" ng-blur=$ctrl.validateIncome() ng-keyup=$ctrl.validateIncome() ng-maxlength=11 min=400000 maxlength=11 placeholder=\\\"please enter more than 4,00,000\\\" aria-invalid=\\\"{{step6Form.grossIncome.$invalid && ($ctrl.submitted || step6Form.grossIncome.$touched)}}\\\" ng-disabled=$ctrl.disableGrossIncome ng-required=required> </div> <div id=annualIncomeErrMsg ng-class=\\\"{'has-error': step6Form.grossIncome.$invalid && (step6Form.grossIncome.$touched || $ctrl.submitted)}\\\"> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Please enter your gross annual income to continue with your application. </validation-msg> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.maxlength && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Maximum of 11 digits allowed. </validation-msg> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.min && !step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Gross annual income should be at least INR 4,00,000 for Travel One Card. </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"$ctrl.selectedCard.key =='SVC'\\\"> <div class=form-group> <label for=grossIncome>Gross annual income</label> <div ng-class=\\\"{'has-error': (step6Form.grossIncome.$invalid || $ctrl.model.grossIncome<=0) && ($ctrl.submitted || step6Form.grossIncome.$touched)}\\\"> <input trim only-number=11 type=tel class=form-control id=grossIncome name=grossIncome aria-describedby=annualIncomeErrMsg ng-model=$ctrl.model.grossIncome onkeypress=\\\"if(0==this.value.length&&(48==event.which||32===event.charCode))return!1\\\" ng-blur=$ctrl.validateIncome() ng-keyup=$ctrl.validateIncome() ng-maxlength=11 min=4000000 maxlength=11 placeholder=\\\"please enter more than 40,00,000\\\" aria-invalid=\\\"{{step6Form.grossIncome.$invalid && ($ctrl.submitted || step6Form.grossIncome.$touched)}}\\\" ng-disabled=$ctrl.disableGrossIncome ng-required=required> </div> <div id=annualIncomeErrMsg ng-class=\\\"{'has-error': step6Form.grossIncome.$invalid && (step6Form.grossIncome.$touched || $ctrl.submitted)}\\\"> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Please enter your gross annual income to continue with your application. </validation-msg> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.maxlength && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Maximum of 11 digits allowed. </validation-msg> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.min && !step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Gross annual income should be at least INR 40,00,000 for TAJ card variants. </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"$ctrl.selectedCard.key =='HPR'\\\"> <div class=form-group> <label for=grossIncome>Gross annual income</label> <div ng-class=\\\"{'has-error': (step6Form.grossIncome.$invalid || $ctrl.model.grossIncome<=0) && ($ctrl.submitted || step6Form.grossIncome.$touched)}\\\"> <input trim only-number=11 type=tel class=form-control id=grossIncome name=grossIncome aria-describedby=annualIncomeErrMsg ng-model=$ctrl.model.grossIncome onkeypress=\\\"if(0==this.value.length&&(48==event.which||32===event.charCode))return!1\\\" ng-blur=$ctrl.validateIncome() ng-keyup=$ctrl.validateIncome() ng-maxlength=11 min=3600000 maxlength=11 aria-invalid=\\\"{{step6Form.grossIncome.$invalid && ($ctrl.submitted || step6Form.grossIncome.$touched)}}\\\" ng-disabled=$ctrl.disableGrossIncome ng-required=required> </div> <div id=annualIncomeErrMsg ng-class=\\\"{'has-error': step6Form.grossIncome.$invalid && (step6Form.grossIncome.$touched || $ctrl.submitted)}\\\"> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Please enter your gross annual income to continue with your application. </validation-msg> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.maxlength && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Maximum of 11 digits allowed. </validation-msg> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.min && !step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Gross annual income should be at least INR 36,00,000. </validation-msg> </div> </div> </div> <div class=\\\"col-md-8 col-sm-12 col-xs-12\\\"> <div class=\\\"form-group line-spacer-xs line-spacer-sm\\\"> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <label id=employmentDurationLabel>Total no. of years of employment/business (year/month) </label> </div> <div class=\\\"col-md-6 col-sm-6 col-xs-12\\\"> <div class=\\\"col-md-6 col-sm-6 col-xs-6 remove-padding\\\"> <div ng-class=\\\"{'has-error': step6Form.year.$invalid && ($ctrl.submitted || step6Form.year.$touched)}\\\"> <custom-select> <select trim type=tel name=year aria-label=\\\"Total no. of years of employment/business (YY)\\\" aria-describedby=empLenErrMsg ng-model=$ctrl.model.year ng-options=\\\"item.value as item.label disable when $ctrl.model.lengthOfStayMonth === 0 && item.value === 0 for item in $ctrl.lengthOfStayYears\\\" class=\\\"form-control text-center\\\" ng-blur=$ctrl.validateEmploymentLength() ng-disabled=$ctrl.hprDisabledFields required> <option value=\\\"\\\">Please select</option> </select> </custom-select> </div> </div> <div class=\\\"col-md-6 col-sm-6 col-xs-6 remove-padding\\\"> <div ng-class=\\\"{'has-error': step6Form.month.$invalid && ($ctrl.submitted || step6Form.month.$touched)}\\\"> <custom-select> <select trim type=tel name=month aria-label=\\\"Total no. of years of employment/business (MM)\\\" aria-describedby=empLenErrMsg ng-model=$ctrl.model.month class=\\\"form-control text-center\\\" ng-options=\\\"item.value as item.label disable when $ctrl.model.lengthOfStayYear === 0 && item.value === 0 for item in $ctrl.lengthOfStayMonths\\\" ng-blur=$ctrl.validateEmploymentLength() ng-disabled=$ctrl.hprDisabledFields required> <option value=\\\"\\\">Please select</option> </select> </custom-select> </div> </div> </div> </div> <div class=row> <div id=empLenErrMsg class=\\\"col-md-6 col-sm-6 col-xs-12\\\" ng-class=\\\"{'has-error': step6Form.year.$invalid || step6Form.month.$invalid}\\\" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if=\\\"((step6Form.year.$error.required && step6Form.year.$touched) ||(step6Form.year.$error.required && $ctrl.submitted)) || ((step6Form.month.$error.required && step6Form.month.$touched) ||(step6Form.month.$error.required && $ctrl.submitted))\\\"> {{$ctrl.errorMessages.enterEmploymentPeriod}} </validation-msg> <validation-msg ng-if=\\\"step6Form.year.$error.minEmp && (!step6Form.year.$error.required && !step6Form.month.$error.required)\\\"> {{$ctrl.errorMessages.limitEmplymentPeriod}} </validation-msg> <validation-msg ng-if=\\\"step6Form.month.$error.max && (!step6Form.month.$error.required && step6Form.year.$valid)\\\"> Months of employment/business cannot be greater than 11 months. </validation-msg> <validation-msg ng-if=\\\"(step6Form.year.$error.maxEmp || step6Form.month.$error.maxEmp) && (!step6Form.year.$error.required && !step6Form.month.$error.required)\\\"> Sorry! There seems to be an error in total number of years of employment. Please enter the details once again. </validation-msg> </div> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE == 'Supplementary Card'\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=form-group> <label for=grossIncome>Gross annual income(Optional)</label> <div> <input trim only-number=11 type=tel class=form-control id=grossIncome name=grossIncome value=1 ng-model=$ctrl.model.grossIncome ng-value=myVar> </div> </div> </div> <div class=\\\"col-md-8 col-sm-12 col-xs-12\\\"> <div class=\\\"form-group line-spacer-xs line-spacer-sm\\\"> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <label id=employmentDurationLabel>Total no. of years of employment/business (year/month) (Optional)</label> </div> <div class=\\\"col-md-6 col-sm-6 col-xs-12\\\"> <div class=\\\"col-md-6 col-sm-6 col-xs-6 remove-padding\\\"> <div> <custom-select> <select trim type=tel name=year aria-label=\\\"Total no. of years of employment/business (YY)\\\" aria-describedby=empLenErrMsg ng-model=$ctrl.model.year ng-options=\\\"item.value as item.label disable when $ctrl.model.lengthOfStayMonth === 0 && item.value === 0 for item in $ctrl.lengthOfStayYears\\\" class=\\\"form-control text-center\\\" ng-blur=$ctrl.validateEmploymentLength() required> <option value=\\\"\\\">YY</option> </select> </custom-select> </div> </div> <div class=\\\"col-md-6 col-sm-6 col-xs-6 remove-padding\\\"> <div> <custom-select> <select trim type=tel name=month aria-label=\\\"Total no. of years of employment/business (MM)\\\" aria-describedby=empLenErrMsg ng-model=$ctrl.model.month class=\\\"form-control text-center\\\" ng-options=\\\"item.value as item.label disable when $ctrl.model.lengthOfStayYear === 0 && item.value === 0 for item in $ctrl.lengthOfStayMonths\\\" ng-blur=$ctrl.validateEmploymentLength()> <option value=\\\"\\\">MM</option> </select> </custom-select> </div> </div> </div> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.isStaffJourney && $ctrl.cardTypeAE != 'Supplementary Card'\\\" ng-hide=\\\"$ctrl.selectedCard.key =='MJY'  && !$ctrl.relationWithBank\\\"> <br> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer-xs\\\"> <label for=SI>SI%</label> <div ng-class=\\\"{'has-error': step6Form.SI.$invalid && ($ctrl.submitted || step6Form.SI.$touched)}\\\"> <input type=text id=SI name=SI class=form-control ng-model=$ctrl.model.SI trim only-number=3 aria-describedby=SIErrMsg aria-invalid=\\\"{{step6Form.SI.$invalid && ($ctrl.submitted || step6Form.SI.$touched)}}\\\" required> </div> <div id=SIErrMsg ng-class=\\\"{'has-error': step6Form.SI.$invalid}\\\"> <validation-msg ng-if=\\\"step6Form.SI.$error.required && (step6Form.SI.$touched || $ctrl.submitted)\\\"> Please enter SI% between 5-100%. </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer-xs\\\"> <label for=accountNumber>Account Number</label> <div ng-class=\\\"{'has-error': step6Form.accountNumber.$invalid && ($ctrl.submitted || step6Form.accountNumber.$touched)}\\\"> <input type=text id=accountNumber name=accountNumber class=form-control ng-model=$ctrl.model.accountNumber trim only-number=12 aria-describedby=accountNumberErrMsg aria-invalid=\\\"{{step6Form.accountNumber.$invalid && ($ctrl.submitted || step6Form.accountNumber.$touched)}}\\\" required> </div> <div id=accountNumberErrMsg ng-class=\\\"{'has-error': step6Form.accountNumber.$invalid}\\\"> <validation-msg ng-if=\\\"step6Form.accountNumber.$error.required && (step6Form.accountNumber.$touched || $ctrl.submitted)\\\"> Please enter Account Number. </validation-msg> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE != 'Supplementary Card'\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label id=bizNatureLbl for=business>Nature of business</label> <div ng-class=\\\"{'has-error': step6Form.business.$invalid && (step6Form.business.$touched || $ctrl.submitted)}\\\"> <custom-select> <select id=business name=business class=form-control ng-change=$ctrl.resetOtherBiz() ng-model=$ctrl.model.selectedBusiness ng-options=\\\"item for item in $ctrl.business\\\" aria-describedby=bizNatureErrMsg aria-invalid=\\\"{{step6Form.business.$invalid && (step6Form.business.$touched || $ctrl.submitted)}}\\\" ng-disabled=$ctrl.hprDisabledFields required> <option value=\\\"\\\">Please select</option> </select> </custom-select> </div> <div id=bizNatureErrMsg ng-class=\\\"{'has-error': step6Form.business.$invalid && (step6Form.business.$touched || $ctrl.submitted)}\\\" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if=\\\"step6Form.business.$error.required && (step6Form.business.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.selectBusinessNature}} </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"$ctrl.model.empType=='Self-Employed' && $ctrl.cardTypeAE != 'Supplementary Card' && ($ctrl.selectedCard.key=='SVC' || $ctrl.selectedCard.key =='HPR')\\\"> <div class=\\\"form-group line-spacer\\\"> <label id=gstNumberLbl for=gstNumber>GST Number</label> <div ng-class=\\\"{'has-error': step6Form.gstNumber.$invalid && (step6Form.gstNumber.$touched || $ctrl.submitted)}\\\"> <input type=text id=gstNumber name=gstNumber class=form-control trim auto-caps alpha-num=15 ng-model=$ctrl.model.gstNumber aria-describedby=gstNumberErrMsg ng-pattern=/^(\\\\d{2})([a-zA-Z]{5})(\\\\d{4})([a-zA-Z]{1})(\\\\d{1})([a-zA-Z]{1})([a-zA-Z0-9]{1})$/ maxlength=15 placeholder=\\\"As per Gst Number\\\" required aria-invalid=\\\"{{step6Form.gstNumberErrMsg.$invalid && ($ctrl.submitted || step6Form.gstNumberErrMsg.$touched)}}\\\"> </div> <div id=gstNumberErrMsg ng-class=\\\"{'has-error': step6Form.gstNumber.$invalid && (step6Form.gstNumber.$touched || $ctrl.submitted)}\\\" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if=\\\"step6Form.gstNumber.$error.required && (step6Form.gstNumber.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.enterGSTNumber}} </validation-msg> <validation-msg ng-if=\\\"step6Form.gstNumber.$error.pattern && step6Form.gstNumber.$touched\\\"> {{$ctrl.errorMessages.invalidGSTNumber}} </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"$ctrl.model.selectedBusiness === 'Others'\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=otherBusiness>Please specify </label> <div ng-class=\\\"{'has-error': step6Form.otherBusiness.$invalid && ($ctrl.submitted || step6Form.otherBusiness.$touched)}\\\"> <input trim type=text id=otherBusiness name=otherBusiness aria-describedby=otherBizErrMsg class=form-control alpha-space=50 ng-pattern=\\\"/^[a-zA-Z ]*$/\\\" onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-maxlength=50 ng-model=$ctrl.model.otherBusiness ng-required=\\\"$ctrl.model.selectedBusiness=='Others'\\\" aria-invalid=\\\"{{step6Form.otherBusiness.$invalid && ($ctrl.submitted || step6Form.otherBusiness.$touched)}}\\\" ng-disabled=$ctrl.hprDisabledFields> </div> <div id=otherBizErrMsg ng-class=\\\"{'has-error': step6Form.otherBusiness.$invalid && ($ctrl.submitted || step6Form.otherBusiness.$touched)}\\\"> <validation-msg ng-if=\\\"step6Form.otherBusiness.$error.required && (step6Form.otherBusiness.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.enterSpecificBusinessNature}} </validation-msg> <validation-msg ng-if=\\\"step6Form.otherBusiness.$error.maxlength && (step6Form.otherBusiness.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.upperLimitSpecificBusinessNature}} </validation-msg> <validation-msg ng-if=\\\"step6Form.otherBusiness.$error.pattern && (step6Form.otherBusiness.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.invalidSpecificBusinessNature}} </validation-msg> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE == 'Supplementary Card'\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label id=bizNatureLbl for=business>Nature of business(Optional)</label> <div> <custom-select> <select id=business name=business class=form-control ng-change=$ctrl.resetOtherBiz() ng-model=$ctrl.model.selectedBusiness ng-options=\\\"item for item in $ctrl.business\\\" required> <option value=\\\"\\\">Please select</option> </select> </custom-select> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"$ctrl.model.selectedBusiness === 'Others'\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=otherBusiness>Please specify </label> <div ng-class=\\\"{'has-error': step6Form.otherBusiness.$invalid && ($ctrl.submitted || step6Form.otherBusiness.$touched)}\\\"> <input trim type=text id=otherBusiness name=otherBusiness aria-describedby=otherBizErrMsg class=form-control alpha-space=50 ng-pattern=\\\"/^[a-zA-Z ]*$/\\\" onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-maxlength=50 ng-model=$ctrl.model.otherBusiness ng-required=\\\"$ctrl.model.selectedBusiness=='Others'\\\" aria-invalid=\\\"{{step6Form.otherBusiness.$invalid && ($ctrl.submitted || step6Form.otherBusiness.$touched)}}\\\"> </div> <div id=otherBizErrMsg ng-class=\\\"{'has-error': step6Form.otherBusiness.$invalid && ($ctrl.submitted || step6Form.otherBusiness.$touched)}\\\"> <validation-msg ng-if=\\\"step6Form.otherBusiness.$error.required && (step6Form.otherBusiness.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.enterSpecificBusinessNature}} </validation-msg> <validation-msg ng-if=\\\"step6Form.otherBusiness.$error.maxlength && (step6Form.otherBusiness.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.upperLimitSpecificBusinessNature}} </validation-msg> <validation-msg ng-if=\\\"step6Form.otherBusiness.$error.pattern && (step6Form.otherBusiness.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.invalidSpecificBusinessNature}} </validation-msg> </div> </div> </div> </div> <div class=row ng-if=\\\"($ctrl.model.empType=='Employed (salaried)' && $ctrl.cardTypeAE != 'Supplementary Card') || ($ctrl.selectedCard.key=='HPR' && $ctrl.cardTypeAE != 'Supplementary Card') || ($ctrl.selectedCard.key=='SVC' && $ctrl.cardTypeAE != 'Supplementary Card')\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label id=orgNatureLbl for=org>Nature of organisation</label> <div ng-class=\\\"{'has-error': step6Form.org.$invalid && (step6Form.org.$touched || $ctrl.submitted)}\\\"> <custom-select> <select id=org name=org class=form-control ng-change=$ctrl.resetOtherOrg() ng-model=$ctrl.model.selectedOrganisation ng-options=\\\"item for item in $ctrl.org\\\" aria-describedby=orgNatureErrMsg aria-invalid=\\\"{{step6Form.org.$invalid && (step6Form.org.$touched || $ctrl.submitted)}}\\\" ng-disabled=$ctrl.hprDisabledFields required> <option value=\\\"\\\">Please select</option> </select> </custom-select> </div> <div id=orgNatureErrMsg ng-class=\\\"{'has-error': step6Form.org.$invalid && (step6Form.org.$touched || $ctrl.submitted)}\\\" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if=\\\"step6Form.org.$error.required && (step6Form.org.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.selectOrganisationNature}} </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"$ctrl.model.selectedOrganisation === 'Others'\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=otherOrg>Please specify</label> <div ng-class=\\\"{'has-error': step6Form.otherOrg.$invalid && ($ctrl.submitted || step6Form.otherOrg.$touched)}\\\"> <input trim type=text id=otherOrg name=otherOrg aria-describedby=otherOrgErrMsg class=form-control alpha-space=50 ng-pattern=\\\"/^[a-zA-Z ]*$/\\\" onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-maxlength=50 ng-model=$ctrl.model.otherOrg ng-required=\\\"$ctrl.model.selectedOrganisation=='Others'\\\" aria-invalid=\\\"{{step6Form.otherOrg.$invalid && ($ctrl.submitted || step6Form.otherOrg.$touched)}}\\\" ng-disabled=$ctrl.hprDisabledFields> </div> <div id=otherOrgErrMsg ng-class=\\\"{'has-error': step6Form.otherOrg.$invalid && ($ctrl.submitted || step6Form.otherOrg.$touched)}\\\"> <validation-msg ng-if=\\\"step6Form.otherOrg.$error.required && ($ctrl.submitted || step6Form.otherOrg.$touched)\\\"> {{$ctrl.errorMessages.enterSpecificOrganisationNature}} </validation-msg> <validation-msg ng-if=\\\"(step6Form.otherOrg.$error.maxlength && !step6Form.otherOrg.$error.pattern) && ($ctrl.submitted || step6Form.otherOrg.$touched)\\\"> {{$ctrl.errorMessages.upperLimitSpecificOrganisationNature}} </validation-msg> <validation-msg ng-if=\\\"step6Form.otherOrg.$error.pattern && ($ctrl.submitted || step6Form.otherOrg.$touched)\\\"> {{$ctrl.errorMessages.invalidSpecificOrganisationNature}} </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"$ctrl.model.empType=='Self-Employed' && $ctrl.cardTypeAE != 'Supplementary Card' && ($ctrl.selectedCard.key=='SVC' || $ctrl.selectedCard.key =='HPR')\\\"> <div class=\\\"form-group line-spacer\\\"> <label id=businessPanNumberLbl for=businessPanNumber>Business PAN Number </label> <div ng-class=\\\"{'has-error': step6Form.businessPanNumber.$invalid && (step6Form.businessPanNumber.$touched || $ctrl.submitted)}\\\"> <input type=text id=businessPanNumber name=businessPanNumber class=form-control trim auto-caps alpha-num=10 ng-model=$ctrl.model.businessPanNumber aria-describedby=businessPanNumberErrMsg ng-pattern=/^([a-zA-Z]{5})(\\\\d{4})([a-zA-Z]{1})$/ maxlength=10 placeholder=\\\"As per Business ID\\\" aria-invalid=\\\"{{step6Form.businessPanNumber.$invalid && ($ctrl.submitted || step6Form.businessPanNumber.$touched)}}\\\"> </div> <div id=businessPanNumberErrMsg ng-class=\\\"{'has-error': step6Form.businessPanNumber.$invalid && (step6Form.businessPanNumber.$touched || $ctrl.submitted)}\\\" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if=\\\"step6Form.businessPanNumber.$error.pattern && step6Form.businessPanNumber.$touched\\\"> {{$ctrl.errorMessages.invalidBusinessPAN}} </validation-msg> </div> </div> </div> </div> <div class=row ng-if=\\\"($ctrl.model.empType=='Employed (salaried)' && $ctrl.cardTypeAE == 'Supplementary Card') || ($ctrl.selectedCard.key=='HPR' && $ctrl.cardTypeAE == 'Supplementary Card')\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label id=orgNatureLbl for=org>Nature of organisation(Optional)</label> <div> <custom-select> <select id=org name=org class=form-control ng-change=$ctrl.resetOtherOrg() ng-model=$ctrl.model.selectedOrganisation ng-options=\\\"item for item in $ctrl.org\\\"> <option value=\\\"\\\">Please select</option> </select> </custom-select> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"$ctrl.model.selectedOrganisation === 'Others'\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=otherOrg>Please specify</label> <div ng-class=\\\"{'has-error': step6Form.otherOrg.$invalid && ($ctrl.submitted || step6Form.otherOrg.$touched)}\\\"> <input trim type=text id=otherOrg name=otherOrg aria-describedby=otherOrgErrMsg class=form-control alpha-space=50 ng-pattern=\\\"/^[a-zA-Z ]*$/\\\" onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-maxlength=50 ng-model=$ctrl.model.otherOrg ng-required=\\\"$ctrl.model.selectedOrganisation=='Others'\\\" aria-invalid=\\\"{{step6Form.otherOrg.$invalid && ($ctrl.submitted || step6Form.otherOrg.$touched)}}\\\"> </div> <div id=otherOrgErrMsg ng-class=\\\"{'has-error': step6Form.otherOrg.$invalid && ($ctrl.submitted || step6Form.otherOrg.$touched)}\\\"> <validation-msg ng-if=\\\"step6Form.otherOrg.$error.required && ($ctrl.submitted || step6Form.otherOrg.$touched)\\\"> {{$ctrl.errorMessages.enterSpecificOrganisationNature}} </validation-msg> <validation-msg ng-if=\\\"(step6Form.otherOrg.$error.maxlength && !step6Form.otherOrg.$error.pattern) && ($ctrl.submitted || step6Form.otherOrg.$touched)\\\"> {{$ctrl.errorMessages.upperLimitSpecificOrganisationNature}} </validation-msg> <validation-msg ng-if=\\\"step6Form.otherOrg.$error.pattern && ($ctrl.submitted || step6Form.otherOrg.$touched)\\\"> {{$ctrl.errorMessages.invalidSpecificOrganisationNature}} </validation-msg> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.model.empType === 'Self-employed'\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label id=firmLbl for=firm>Your firm is </label> <div ng-class=\\\"{'has-error': step6Form.firm.$invalid && (step6Form.firm.$touched || $ctrl.submitted)}\\\"> <custom-select> <select id=firm name=firm class=form-control ng-model=$ctrl.model.selectedFirm ng-options=\\\"item for item in $ctrl.firm\\\" aria-describedby=firmTypeErrMsg aria-invalid=\\\"{{step6Form.firm.$invalid && (step6Form.firm.$touched || $ctrl.submitted)}}\\\" required> <option value=\\\"\\\">Please select</option> </select> </custom-select> </div> <div id=firmTypeErrMsg ng-class=\\\"{'has-error': step6Form.firm.$invalid && (step6Form.firm.$touched || $ctrl.submitted)}\\\"> <validation-msg ng-if=\\\"step6Form.firm.$error.required && (step6Form.firm.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.selectFirmType}} </validation-msg> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE != 'Supplementary Card' && $ctrl.model.empType != 'Self-Employed'\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=designation>Designation</label> <div ng-class=\\\"{'has-error': step6Form.designation.$invalid && ($ctrl.submitted || step6Form.designation.$touched)}\\\"> <input trim type=text id=designation name=designation aria-describedby=designationErrMsg class=form-control address-chars=20 onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-maxlength=20 ng-model=$ctrl.model.designation aria-invalid=\\\"{{step6Form.designation.$invalid && ($ctrl.submitted || step6Form.designation.$touched)}}\\\" ng-disabled=$ctrl.hprDisabledFields required> </div> <div id=designationErrMsg ng-class=\\\"{'has-error': (step6Form.designation.$invalid)}\\\"> <validation-msg ng-if=\\\"(step6Form.designation.$error.required && step6Form.designation.$touched) ||(step6Form.designation.$error.required && $ctrl.submitted)\\\"> {{$ctrl.errorMessages.enterdesignation}} </validation-msg> <validation-msg ng-if=\\\"step6Form.designation.$error.maxlength && !step6Form.designation.$error.pattern\\\"> {{$ctrl.errorMessages.upperLimitdesignation}} </validation-msg> <validation-msg ng-if=step6Form.designation.$error.pattern> {{$ctrl.errorMessages.invaliddesignation}} </validation-msg> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE != 'Supplementary Card' && $ctrl.model.empType == 'Self-Employed' && $ctrl.selectedCard.key =='SVC'\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=designation>Designation</label> <div ng-class=\\\"{'has-error': step6Form.designation.$invalid && ($ctrl.submitted || step6Form.designation.$touched)}\\\"> <input trim type=text id=designation name=designation aria-describedby=designationErrMsg class=form-control address-chars=20 onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-maxlength=20 ng-model=$ctrl.model.designation aria-invalid=\\\"{{step6Form.designation.$invalid && ($ctrl.submitted || step6Form.designation.$touched)}}\\\" ng-disabled=$ctrl.hprDisabledFields required> </div> <div id=designationErrMsg ng-class=\\\"{'has-error': (step6Form.designation.$invalid)}\\\"> <validation-msg ng-if=\\\"(step6Form.designation.$error.required && step6Form.designation.$touched) ||(step6Form.designation.$error.required && $ctrl.submitted)\\\"> {{$ctrl.errorMessages.enterdesignation}} </validation-msg> <validation-msg ng-if=\\\"step6Form.designation.$error.maxlength && !step6Form.designation.$error.pattern\\\"> {{$ctrl.errorMessages.upperLimitdesignation}} </validation-msg> <validation-msg ng-if=step6Form.designation.$error.pattern> {{$ctrl.errorMessages.invaliddesignation}} </validation-msg> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE == 'Supplementary Card' || $ctrl.model.empType == 'Self-Employed' && $ctrl.selectedCard.key !='SVC'\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=designation>Designation(Optional)</label> <div> <input trim type=text id=designation name=designation class=form-control address-chars=20 ng-model=$ctrl.model.designation> </div> </div> </div> </div> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <hr class=\\\"line-spacer no-margin-bottom\\\"> </div> </div> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <h2 class=brand-bar>Office address</h2> </div> </div> <div class=row> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=form-group> <label id=officeCountryLbl for=country>Country</label> <div ng-class=\\\"{'has-error': step6Form.country.$invalid && (step6Form.country.$touched || $ctrl.submitted)}\\\"> <ui-select id=country input-id=country name=country aria-label=\\\"country {{$select.selected.countryName}}\\\" aria-describedby=officeCountryErrMsg ng-model=$ctrl.model.selectedCountry theme=bootstrap ng-disabled=true aria-invalid=\\\"{{step6Form.country.$invalid && (step6Form.country.$touched || $ctrl.submitted)}}\\\" required> <ui-select-match placeholder=\\\"Please select\\\"> <div class=\\\"flag {{$select.selected.countryCode.toLocaleLowerCase()}}\\\" style=background-image:url(resources/images/country-flags-sprite.png) ng-if=\\\"$select.selected.countryCode != -1\\\"></div> {{$select.selected.countryName}} </ui-select-match> <ui-select-choices repeat=\\\"item in $ctrl.countries | filter: $select.search\\\"> <div class=\\\"flag {{item.countryCode.toLocaleLowerCase()}}\\\" style=background-image:url(resources/images/country-flags-sprite.png) ng-if=\\\"item.countryCode != -1\\\"></div> <span ng-bind-html=\\\"item.countryName | highlight: $select.search\\\"></span> </ui-select-choices> <ui-select-no-choice> We couldn't find any choices... </ui-select-no-choice> </ui-select> </div> <div id=officeCountryErrMsg ng-class=\\\"{'has-error': step6Form.country.$invalid && (step6Form.country.$touched || $ctrl.submitted)}\\\"> <validation-msg ng-if=\\\"step6Form.country.$error.required && (step6Form.country.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.selectCountry}} </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"$ctrl.cardTypeAE != 'Supplementary Card' && $ctrl.model.empType != 'Self-Employed'\\\"> <div class=\\\"form-group line-spacer-xs\\\"> <div> <label id=companyLbl for=companyName>Company name </label> <a ng-if=$ctrl.showChangeCompanyToggle tabindex=0 aria-label=\\\"tooltip Please deselect checkbox if you do not want to change the Company Name.\\\" uib-popover=\\\"Please deselect checkbox if you do not want to change the Company Name.\\\" popover-placement=auto popover-trigger=\\\"'mouseenter focus'\\\" class=\\\"icon icon-circle-info\\\"></a> </div> <div ng-class=\\\"{'has-error': step6Form.companyName.$invalid && (step6Form.companyName.$touched || $ctrl.submitted)}\\\"> <ui-select id=companyName input-id=companyName name=companyName aria-label=\\\"company name {{$select.selected}}\\\" aria-describedby=companyNameErrMsg class=companyName ui-select-limit=80 ng-disabled=\\\"$ctrl.disableCompany || $ctrl.hprDisabledFields\\\" ng-model=$ctrl.model.companyName theme=bootstrap aria-invalid=\\\"{{step6Form.companyName.$invalid && (step6Form.companyName.$touched || $ctrl.submitted)}}\\\" required> <ui-select-match placeholder=\\\"Search a company\\\">{{$select.selected}}</ui-select-match> <ui-select-choices refresh=$ctrl.fetch($select) refresh-delay=300 repeat=\\\"company in $ctrl.companyNames | filter: $select.search | limitTo: 150\\\"> <div ng-bind=company></div> </ui-select-choices> <ui-select-no-choice> <validation-msg class=has-error ng-if=\\\"$select.search && $select.search.length < 3\\\"> Please enter at least 3 characters </validation-msg> <br> </ui-select-no-choice> </ui-select> </div> <div id=companyNameErrMsg ng-class=\\\"{'has-error': step6Form.companyName.$invalid && (step6Form.companyName.$touched || $ctrl.submitted)}\\\"> <validation-msg ng-if=\\\"step6Form.companyName.$error.required && (step6Form.companyName.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.enterCompanyName}} </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"$ctrl.cardTypeAE != 'Supplementary Card' && $ctrl.model.empType == 'Self-Employed' && $ctrl.selectedCard.key =='SVC'\\\"> <div class=\\\"form-group line-spacer-xs\\\"> <div> <label id=companyLbl for=companyName>Company name </label> <a ng-if=$ctrl.showChangeCompanyToggle tabindex=0 aria-label=\\\"tooltip Please deselect checkbox if you do not want to change the Company Name.\\\" uib-popover=\\\"Please deselect checkbox if you do not want to change the Company Name.\\\" popover-placement=auto popover-trigger=\\\"'mouseenter focus'\\\" class=\\\"icon icon-circle-info\\\"></a> </div> <div ng-class=\\\"{'has-error': step6Form.companyName.$invalid && (step6Form.companyName.$touched || $ctrl.submitted)}\\\"> <ui-select id=companyName input-id=companyName name=companyName aria-label=\\\"company name {{$select.selected}}\\\" aria-describedby=companyNameErrMsg class=companyName ui-select-limit=80 ng-disabled=\\\"$ctrl.disableCompany || $ctrl.hprDisabledFields\\\" ng-model=$ctrl.model.companyName theme=bootstrap aria-invalid=\\\"{{step6Form.companyName.$invalid && (step6Form.companyName.$touched || $ctrl.submitted)}}\\\" required> <ui-select-match placeholder=\\\"Search a company\\\">{{$select.selected}}</ui-select-match> <ui-select-choices refresh=$ctrl.fetch($select) refresh-delay=300 repeat=\\\"company in $ctrl.companyNames | filter: $select.search | limitTo: 150\\\"> <div ng-bind=company></div> </ui-select-choices> <ui-select-no-choice> <validation-msg class=has-error ng-if=\\\"$select.search && $select.search.length < 3\\\"> Please enter at least 3 characters </validation-msg> <br> </ui-select-no-choice> </ui-select> </div> <div id=companyNameErrMsg ng-class=\\\"{'has-error': step6Form.companyName.$invalid && (step6Form.companyName.$touched || $ctrl.submitted)}\\\"> <validation-msg ng-if=\\\"step6Form.companyName.$error.required && (step6Form.companyName.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.enterCompanyName}} </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"$ctrl.cardTypeAE == 'Supplementary Card' || $ctrl.model.empType == 'Self-Employed' && $ctrl.selectedCard.key !='SVC'\\\"> <div class=\\\"form-group line-spacer-xs\\\"> <div> <label id=companyLbl for=companyName>Company name(Optional)</label> <a ng-if=$ctrl.showChangeCompanyToggle tabindex=0 aria-label=\\\"tooltip Please deselect checkbox if you do not want to change the Company Name.\\\" uib-popover=\\\"Please deselect checkbox if you do not want to change the Company Name.\\\" popover-placement=auto popover-trigger=\\\"'mouseenter focus'\\\" class=\\\"icon icon-circle-info\\\"></a> </div> <div> <ui-select id=companyName input-id=companyName name=companyName aria-label=\\\"company name {{$select.selected}}\\\" class=companyName ui-select-limit=80 ng-disabled=$ctrl.disableCompany ng-model=$ctrl.model.companyName theme=bootstrap> <ui-select-match placeholder=\\\"Search a company\\\">{{$select.selected}}</ui-select-match> <ui-select-choices refresh=$ctrl.fetch($select) refresh-delay=300 repeat=\\\"company in $ctrl.companyNames | filter: $select.search | limitTo: 150\\\"> <div ng-bind=company></div> </ui-select-choices> <ui-select-no-choice> <validation-msg class=has-error ng-if=\\\"$select.search && $select.search.length < 3\\\"> Please enter at least 3 characters </validation-msg> <br> </ui-select-no-choice> </ui-select> </div> </div> </div> </div> <div class=row ng-if=$ctrl.showChangeCompanyToggle> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <input type=checkbox id=changeCompanyChk name=changeCompanyChk class=screen-reader-only ng-model=$ctrl.model.changedCompanyName ng-focus=\\\"$ctrl.hasChkFocus = true;\\\" ng-blur=\\\"$ctrl.hasChkFocus = false;\\\" ng-change=$ctrl.changeCompanyName()> <label for=changeCompanyChk class=checkbox-label ng-class=\\\"{'focus': $ctrl.hasChkFocus}\\\">I wish to change the prefilled company name above, and will provide proof of income.</label> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE != 'Supplementary Card' && $ctrl.model.empType != 'Self-Employed'\\\"> <div class=\\\"col-md-8 col-sm-12 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=companyAddress>Company address</label> <div ng-class=\\\"{'has-error': step6Form.companyAddress.$invalid && ($ctrl.submitted || step6Form.companyAddress.$touched)}\\\"> <input trim type=text id=companyAddress name=companyAddress aria-describedby=compAddressErrMsg address-chars=105 class=form-control onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-pattern=/^([0-9a-zA-Z]{1,}|[\\\\s]{1}[0-9a-zA-Z]{1,})*$/ ng-maxlength=105 ng-model=$ctrl.model.companyAddress aria-invalid=\\\"{{step6Form.companyAddress.$invalid && ($ctrl.submitted || step6Form.companyAddress.$touched)}}\\\" ng-disabled=$ctrl.hprDisabledFields required> </div> <div id=compAddressErrMsg ng-class=\\\"{'has-error': (step6Form.companyAddress.$invalid)}\\\" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if=\\\"step6Form.companyAddress.$error.required &&(step6Form.companyAddress.$touched || $ctrl.submitted)\\\"> </validation-msg> <validation-msg ng-if=\\\"step6Form.companyAddress.$error.maxlength && !step6Form.companyAddress.$error.pattern\\\"> {{$ctrl.errorMessages.upperLimitCompanyAddress}} </validation-msg> <validation-msg ng-if=\\\"step6Form.companyAddress.$error.pattern && ($ctrl.submitted || step6Form.companyAddress.$touched)\\\"> Please do not enter any special characters. </validation-msg> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE != 'Supplementary Card' && $ctrl.model.empType == 'Self-Employed' && $ctrl.selectedCard.key =='SVC'\\\"> <div class=\\\"col-md-8 col-sm-12 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=companyAddress>Company address</label> <div ng-class=\\\"{'has-error': step6Form.companyAddress.$invalid && ($ctrl.submitted || step6Form.companyAddress.$touched)}\\\"> <input trim type=text id=companyAddress name=companyAddress aria-describedby=compAddressErrMsg address-chars=105 class=form-control onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-pattern=/^([0-9a-zA-Z]{1,}|[\\\\s]{1}[0-9a-zA-Z]{1,})*$/ ng-maxlength=105 ng-model=$ctrl.model.companyAddress aria-invalid=\\\"{{step6Form.companyAddress.$invalid && ($ctrl.submitted || step6Form.companyAddress.$touched)}}\\\" ng-disabled=$ctrl.hprDisabledFields required> </div> <div id=compAddressErrMsg ng-class=\\\"{'has-error': (step6Form.companyAddress.$invalid)}\\\" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if=\\\"step6Form.companyAddress.$error.required &&(step6Form.companyAddress.$touched || $ctrl.submitted)\\\"> </validation-msg> <validation-msg ng-if=\\\"step6Form.companyAddress.$error.maxlength && !step6Form.companyAddress.$error.pattern\\\"> {{$ctrl.errorMessages.upperLimitCompanyAddress}} </validation-msg> <validation-msg ng-if=\\\"step6Form.companyAddress.$error.pattern && ($ctrl.submitted || step6Form.companyAddress.$touched)\\\"> Please do not enter any special characters. </validation-msg> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE == 'Supplementary Card' || $ctrl.model.empType == 'Self-Employed' && $ctrl.selectedCard.key !='SVC'\\\"> <div class=\\\"col-md-8 col-sm-12 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=companyAddress>Company address(Optional)</label> <div> <input trim type=text id=companyAddress name=companyAddress address-chars=105 class=form-control onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-pattern=/^([0-9a-zA-Z]{1,}|[\\\\s]{1}[0-9a-zA-Z]{1,})*$/ ng-maxlength=105 ng-model=$ctrl.model.companyAddress> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE != 'Supplementary Card' && $ctrl.model.empType != 'Self-Employed'\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=officePostalCode>Pin/Postal code</label> <div ng-class=\\\"{'has-error': step6Form.postalCode.$invalid && (step6Form.postalCode.$touched || $ctrl.submitted || step6Form.postalCode.$error.invalid)}\\\"> <input type=tel id=officePostalCode name=postalCode aria-describedby=officePostalCodeErrMsg class=form-control ng-model=$ctrl.model.postalCode trim only-number=6 ng-minlength=6 ng-keyup=$ctrl.getAddressByPinCode($event) aria-invalid=\\\"{{step6Form.postalCode.$invalid && (step6Form.postalCode.$touched || $ctrl.submitted || step6Form.postalCode.$error.invalid)}}\\\" ng-disabled=$ctrl.hprDisabledFields required> </div> <div id=officePostalCodeErrMsg ng-class=\\\"{'has-error': step6Form.postalCode.$invalid}\\\" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if=\\\"step6Form.postalCode.$error.required && (step6Form.postalCode.$touched || $ctrl.submitted)\\\"> Please enter your PIN code to continue with your application. </validation-msg> <validation-msg ng-if=\\\"step6Form.postalCode.$error.minlength && (step6Form.postalCode.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.lowerLimitPostalCode}} </validation-msg> <validation-msg ng-if=\\\"step6Form.postalCode.$error.invalid && !step6Form.postalCode.$error.required && !step6Form.postalCode.$error.minlength && !$ctrl.isStaffJourney\\\"> Please enter a valid pin code to continue with your application. </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=officeCity>City/District</label> <div ng-class=\\\"{'has-error': step6Form.city.$invalid && ($ctrl.submitted || step6Form.city.$touched)}\\\"> <input trim type=text id=officeCity name=city aria-describedby=officeCityErrMsg alpha-space=20 class=form-control onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-model=$ctrl.model.city aria-invalid=\\\"{{step6Form.city.$invalid && ($ctrl.submitted || step6Form.city.$touched)}}\\\" ng-disabled=\\\"!$ctrl.isStaffJourney || $ctrl.hprDisabledFields\\\" required> </div> <div id=officeCityErrMsg ng-class=\\\"{'has-error': step6Form.city.$invalid}\\\" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if=\\\"step6Form.city.$error.required && ($ctrl.submitted || step6Form.city.$touched)\\\"> Please enter your city/district to continue with your application. </validation-msg> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE != 'Supplementary Card' && $ctrl.model.empType == 'Self-Employed' && $ctrl.selectedCard.key =='SVC'\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=officePostalCode>Pin/Postal code</label> <div ng-class=\\\"{'has-error': step6Form.postalCode.$invalid && (step6Form.postalCode.$touched || $ctrl.submitted || step6Form.postalCode.$error.invalid)}\\\"> <input type=tel id=officePostalCode name=postalCode aria-describedby=officePostalCodeErrMsg class=form-control ng-model=$ctrl.model.postalCode trim only-number=6 ng-minlength=6 ng-keyup=$ctrl.getAddressByPinCode($event) aria-invalid=\\\"{{step6Form.postalCode.$invalid && (step6Form.postalCode.$touched || $ctrl.submitted || step6Form.postalCode.$error.invalid)}}\\\" ng-disabled=$ctrl.hprDisabledFields required> </div> <div id=officePostalCodeErrMsg ng-class=\\\"{'has-error': step6Form.postalCode.$invalid}\\\" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if=\\\"step6Form.postalCode.$error.required && (step6Form.postalCode.$touched || $ctrl.submitted)\\\"> Please enter your PIN code to continue with your application. </validation-msg> <validation-msg ng-if=\\\"step6Form.postalCode.$error.minlength && (step6Form.postalCode.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.lowerLimitPostalCode}} </validation-msg> <validation-msg ng-if=\\\"step6Form.postalCode.$error.invalid && !step6Form.postalCode.$error.required && !step6Form.postalCode.$error.minlength && !$ctrl.isStaffJourney\\\"> Please enter a valid pin code to continue with your application. </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=officeCity>City/District</label> <div ng-class=\\\"{'has-error': step6Form.city.$invalid && ($ctrl.submitted || step6Form.city.$touched)}\\\"> <input trim type=text id=officeCity name=city aria-describedby=officeCityErrMsg alpha-space=20 class=form-control onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-model=$ctrl.model.city aria-invalid=\\\"{{step6Form.city.$invalid && ($ctrl.submitted || step6Form.city.$touched)}}\\\" ng-disabled=\\\"!$ctrl.isStaffJourney || $ctrl.hprDisabledFields\\\" required> </div> <div id=officeCityErrMsg ng-class=\\\"{'has-error': step6Form.city.$invalid}\\\" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if=\\\"step6Form.city.$error.required && ($ctrl.submitted || step6Form.city.$touched)\\\"> Please enter your city/district to continue with your application. </validation-msg> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE == 'Supplementary Card' || $ctrl.model.empType == 'Self-Employed' && $ctrl.selectedCard.key !='SVC'\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=officePostalCode>Pin/Postal code(Optional) </label> <div> <input type=tel id=officePostalCode name=postalCode class=form-control ng-model=$ctrl.model.postalCode trim only-number=6 ng-minlength=6 ng-keyup=$ctrl.getAddressByPinCode($event)> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=officeCity>City/District(Optional)</label> <div> <input trim type=text id=officeCity name=city alpha-space=20 class=form-control onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-model=$ctrl.model.city ng-disabled=!$ctrl.isStaffJourney> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE != 'Supplementary Card' && ($ctrl.model.empType != 'Self-Employed' || ($ctrl.model.empType == 'Self-Employed' && $ctrl.selectedCard.key =='SVC'))\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=officeState>State</label> <div ng-class=\\\"{'has-error': step6Form.state.$invalid && ($ctrl.submitted || step6Form.state.$touched)}\\\"> <input trim type=text alpha-space=20 id=officeState name=state aria-describedby=officeStateErrMsg class=form-control onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-model=$ctrl.model.state aria-invalid=\\\"{{step6Form.state.$invalid && ($ctrl.submitted || step6Form.state.$touched)}}\\\" ng-disabled=\\\"!$ctrl.isStaffJourney || $ctrl.hprDisabledFields\\\" required> </div> <div id=officeStateErrMsg ng-class=\\\"{'has-error': step6Form.state.$invalid}\\\" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if=\\\"step6Form.state.$error.required && ($ctrl.submitted || step6Form.state.$touched)\\\"> Please enter your State to continue with your application. </validation-msg> </div> </div> </div> <div class=row ng-if=\\\"($ctrl.model.empType != 'Self-Employed' || ($ctrl.model.empType == 'Self-Employed' && $ctrl.selectedCard.key =='SVC'))\\\"> <div class=\\\"col-md-6 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=officeEmailId>Office E-mail address</label> <div ng-class=\\\"{'has-error': step6Form.officeEmailId.$invalid && (step6Form.officeEmailId.$touched || $ctrl.submitted)}\\\"> <input type=text id=officeEmailId name=officeEmailId class=form-control ng-model=$ctrl.model.officeEmailId trim email-chars=39 ng-maxlength=39 placeholder=sample@abc.com ng-pattern=/^[_a-zA-Z0-9]+((\\\\.|\\\\-)[_a-zA-Z0-9]+)*@[a-zA-Z0-9-]+(\\\\.[a-zA-Z0-9-]+)*(\\\\.[a-zA-Z]{2,4})$/ aria-describedby=officeEmailIdErrMsg aria-invalid=\\\"{{(step6Form.officeEmailId.$invalid) &&  (step6Form.officeEmailId.$touched || $ctrl.submitted)}}\\\" ng-disabled=$ctrl.hprDisabledFields required> </div> <div id=officeEmailIdErrMsg ng-class=\\\"{'has-error': (step6Form.officeEmailId.$invalid)}\\\" ng-if=\\\"!$ctrl.hprDisabledFields && $ctrl.hprEmailMandate\\\"> <validation-msg ng-if=\\\"step6Form.officeEmailId.$error.required && (step6Form.officeEmailId.$touched || $ctrl.submitted)\\\"> Please enter your office e-mail address to continue with your application. </validation-msg> <validation-msg ng-if=\\\"step6Form.officeEmailId.$error.pattern && step6Form.officeEmailId.$touched\\\"> Your office e-mail address contains invalid characters. Please make sure you have entered a valid office e-mail address, e.g. johnsmith@email.com. </validation-msg> <validation-msg ng-if=\\\"(step6Form.officeEmailId.$error.maxlength && !step6Form.officeEmailId.$error.pattern)\\\"> Please enter a valid 39 character office e-mail address. </validation-msg> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.model.empType != 'Self-Employed' || $ctrl.model.empType == 'Self-Employed'\\\"> <div ng-class=\\\"{'col-md-5 col-sm-12 col-xs-12': $ctrl.isStaffJourney, 'col-md-8 col-sm-12 col-xs-12': !$ctrl.isStaffJourney}\\\"> <div class=\\\"form-group line-spacer\\\" role=group aria-labelledby=officePhoneLabel> <div id=officePhoneLabel class=control-label> Office number with extension (Optional) </div> <div class=office-phone-container> <div class=code-container> <label for=officeSTD class=screen-reader-only>Office number STD code</label> <div class=input-group ng-class=\\\"{'has-error': (step6Form.officeSTD.$invalid || step6Form.mobileNo.$invalid) && (step6Form.officeSTD.$touched && step6Form.mobileNo.$touched || $ctrl.submitted)}\\\"> <span class=input-group-addon id=countryCode aria-hidden=true tabindex=-1> <span class=\\\"flag in\\\" style=background-image:url(resources/images/country-flags-sprite.png)></span> +91</span> <input type=tel id=officeSTD name=officeSTD class=form-control ng-model=$ctrl.model.officeSTD onkeypress=\\\"if(0==this.value.length&&(48==event.which||32===event.charCode))return!1\\\" ng-keyup=$ctrl.validateOfficeNumber() ng-blur=$ctrl.validateOfficeNumber() trim number-std=3 ng-maxlength=3 placeholder=STD aria-label=\\\"office STD code\\\" aria-describedby=\\\"countryCode officePhoneErrMsg\\\" aria-invalid=\\\"{{(step6Form.officeSTD.$invalid || step6Form.mobileNo.$invalid) && (step6Form.officeSTD.$touched || step6Form.mobileNo.$touched || $ctrl.submitted)}}\\\"> </div> </div> <div class=\\\"separator hidden-xs\\\">-</div> <div class=number-container> <div class=number-box ng-class=\\\"{'has-error': (step6Form.officeSTD.$invalid || step6Form.mobileNo.$invalid) && (step6Form.officeSTD.$touched && step6Form.mobileNo.$touched || $ctrl.submitted)}\\\"> <label for=mobileNo class=screen-reader-only>Office phone number</label> <input trim type=tel id=mobileNo name=mobileNo class=\\\"form-control has-block\\\" ng-model=$ctrl.model.mobileNo onkeypress=\\\"if(0==this.value.length&&(48==event.which||32===event.charCode))return!1\\\" ng-keyup=$ctrl.validateOfficeNumber() ng-blur=$ctrl.validateOfficeNumber() only-number=8 ng-maxlength=8 placeholder=Phone aria-describedby=officePhoneErrMsg aria-invalid=\\\"{{(step6Form.officeSTD.$invalid || step6Form.mobileNo.$invalid) && (step6Form.officeSTD.$touched || step6Form.mobileNo.$touched || $ctrl.submitted)}}\\\"> </div> <div class=separator>-</div> <div class=ext-box> <label for=ext class=screen-reader-only>Office extension number</label> <input trim type=tel id=ext name=ext class=form-control ng-model=$ctrl.model.ext onkeypress=\\\"if(0==this.value.length&&(48==event.which||32===event.charCode))return!1\\\" number-std=5 ng-maxlength=5 placeholder=Ext aria-describedby=officePhoneErrMsg> </div> </div> </div> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE == 'Supplementary Card' || $ctrl.model.empType == 'Self-Employed' && $ctrl.selectedCard.key !='SVC'\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=officeState>State(Optional)</label> <div> <input trim type=text alpha-space=20 id=officeState name=state class=form-control onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-model=$ctrl.model.state ng-disabled=!$ctrl.isStaffJourney> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE == 'Supplementary Card'|| $ctrl.model.empType == 'Self-Employed' && $ctrl.selectedCard.key !='SVC'\\\"> <div class=\\\"col-md-6 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=officeEmailId>Office E-mail address(Optional)</label> <div> <input type=text id=officeEmailId name=officeEmailId class=form-control ng-model=$ctrl.model.officeEmailId trim email-chars=39 ng-maxlength=39 placeholder=sample@abc.com ng-pattern=/^[_a-zA-Z0-9]+((\\\\.|\\\\-)[_a-zA-Z0-9]+)*@[a-zA-Z0-9-]+(\\\\.[a-zA-Z0-9-]+)*(\\\\.[a-zA-Z]{2,4})$/ > </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.model.empType == 'Self-Employed'\\\"> <div ng-class=\\\"{'col-md-5 col-sm-12 col-xs-12': $ctrl.isStaffJourney, 'col-md-8 col-sm-12 col-xs-12': !$ctrl.isStaffJourney}\\\"> <div class=\\\"form-group line-spacer\\\" role=group aria-labelledby=officePhoneLabel> <div id=officePhoneLabel class=control-label> Office number with extension(Optional) </div> <div class=office-phone-container> <div class=code-container> <label for=officeSTD class=screen-reader-only>Office number STD code</label> <div class=input-group> <span class=input-group-addon id=countryCode aria-hidden=true tabindex=-1> <span class=\\\"flag in\\\" style=background-image:url(resources/images/country-flags-sprite.png)></span> +91</span> <input type=tel id=officeSTD name=officeSTD class=form-control ng-model=$ctrl.model.officeSTD trim number-std=3 ng-maxlength=3 placeholder=STD aria-label=\\\"office STD code\\\"> </div> </div> <div class=\\\"separator hidden-xs\\\">-</div> <div class=number-container> <div class=number-box> <label for=mobileNo class=screen-reader-only>Office phone number</label> <input trim type=tel id=mobileNo name=mobileNo class=\\\"form-control has-block\\\" ng-model=$ctrl.model.mobileNo only-number=8 ng-maxlength=8 placeholder=Phone> </div> <div class=separator>-</div> <div class=ext-box> <label for=ext class=screen-reader-only>Office extension number</label> <input trim type=tel id=ext name=ext class=form-control ng-model=$ctrl.model.ext number-std=5 ng-maxlength=5 placeholder=Ext> </div> </div> </div> </div> </div> </div> </div>  <step-footer show-back=true back-callback=$ctrl.goback() show-save=true save-callback=$ctrl.save() show-continue=true continue-button-id=continue-btn continue-disabled=false continue-callback=$ctrl.next(step6Form.$valid)> </step-footer> </form>\";\n\n/***/ }),\n\n/***/ \"./src/app/components/journey/step6/step6.component.js\":\n/* unknown exports provided */\n/* all exports used */\n/*!*************************************************************!*\\\n  !*** ./src/app/components/journey/step6/step6.component.js ***!\n  \\*************************************************************/\n/***/ (function(module, exports, __webpack_require__) {\n\n(function () {\r\n    'use strict';\r\n    var angular = __webpack_require__(/*! angular */ \"./node_modules/angular/index.js\");\r\n    __webpack_require__(/*! ./step6.component.service */ \"./src/app/components/journey/step6/step6.component.service.js\");\r\n    __webpack_require__(/*! ./step6.component.scss */ \"./src/app/components/journey/step6/step6.component.scss\");\r\n    // require('../save-exit.modal/overlayConfirmation.modal.component.js');\r\n    __webpack_require__(/*! ./step6.modal/overlayStep6Confirmation.modal.component.js */ \"./src/app/components/journey/step6/step6.modal/overlayStep6Confirmation.modal.component.js\");\r\n    __webpack_require__(/*! ./card-swap-modal/card-swap.modal.component */ \"./src/app/components/journey/step6/card-swap-modal/card-swap.modal.component.js\");\r\n\r\n    function step6Controller($scope, $q, $state, $filter, $timeout, step6Service, $uibModal, $anchorScroll, $rootScope, journeyService, analyticService, UtilService, appState) {\r\n        var vm = this, backupCompanyName;\r\n\r\n        vm.$onInit = function () {\r\n            $rootScope.$broadcast('hide-step-header', {\r\n                hideHeader: false\r\n            });\r\n            $rootScope.showSelectedCard = true;\r\n            $rootScope.showARN = false;\r\n            $rootScope.stepsHeader.currentStep = 2;\r\n            $scope.myVar = \"1\";\r\n            $scope.myMonth = \"00\";\r\n            $scope.myYear = \"00\";\r\n            vm.isStaffJourney = journeyService.isStaffJourney();\r\n            vm.relationWithBank = false;\r\n            vm.selectedCard = journeyService.getSelectedCard();\r\n            var contactData = appState.getContactDetails();\r\n            console.log(\"contactData\",contactData);\r\n            vm.relationWithBank = contactData.relationWithBank == \"Existing to Bank\";\r\n            console.log(\"ETB\", vm.relationWithBank);\r\n            vm.lengthOfStayMonths = step6Service.lengthOfStayMonths;\r\n            vm.lengthOfStayYears = step6Service.lengthOfStayYears;\r\n            vm.yy = ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15'];\r\n            vm.mm = ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11']\r\n            //vm.cardTypeAE=contactData.cardType;\r\n            // document.getElementById(\"grossIncome\").setAttribute('value', '10');\r\n            //update by yogesh\r\n            if (!vm.isStaffJourney) {\r\n                vm.cardTypeAE = \"Primary Card\";\r\n            } else {\r\n                vm.cardTypeAE = contactData.cardType;\r\n            }\r\n            //end by yogesh\r\n\r\n            vm.allCompanyNames = [];\r\n            vm.companyNames = [];\r\n            var promisses = [];\r\n            // promisses.push(journeyService.getBanks());\r\n            promisses.push(journeyService.getCountries());\r\n            promisses.push(journeyService.getErrorMessages());\r\n            promisses.push(step6Service.getBusinessTypes());\r\n            promisses.push(step6Service.getOrganizationTypes());\r\n            promisses.push(step6Service.getFirmTypes());\r\n            $q.all(promisses).then(function (responses) {\r\n                // vm.bankList = responses[0];\r\n                vm.countries = responses[0];\r\n                vm.errorMessages = responses[1].step6;\r\n                vm.business = responses[2];\r\n                vm.org = responses[3];\r\n                vm.firm = responses[4];\r\n\r\n                vm.model = {};\r\n                vm.model = step6Service.getUserDetails();\r\n                vm.model.companyName = appState.getEmployerName();\r\n                // console.log(\"vm.selectedCard --->\", vm.selectedCard.key);\r\n                vm.hprDisabledFields = false;\r\n                vm.hprEmailMandate = true;\r\n                if (vm.selectedCard.key == \"HPR\") {\r\n                    if (vm.model.empType == 'Employed (salaried)' || vm.model.empType == 'Self-Employed') {\r\n                        vm.hprDisabledFields = false;\r\n                       // vm.hprEmailMandate = false;\r\n                    } else {\r\n                        vm.hprDisabledFields = true;\r\n                       // vm.hprEmailMandate = false;\r\n                        vm.model.grossIncome = '1000';\r\n                        vm.model.year = vm.lengthOfStayYears[0].label;\r\n                        vm.model.month = vm.lengthOfStayMonths[0].label;\r\n                        vm.model.selectedBusiness = vm.business[9];\r\n                        vm.model.otherBusiness = 'Others';\r\n                        vm.model.selectedOrganisation = vm.org[8];\r\n                        vm.model.otherOrg = 'Others';\r\n                        vm.model.designation = vm.model.empType;\r\n                        vm.model.companyName = vm.model.empType;\r\n                    }\r\n                    vm.hprEmailMandate = false;\r\n                }\r\n                //console.log(\"hprDisabledFields --->\", vm.hprDisabledFields);\r\n                if (vm.model.perfiosCheck) {\r\n                    vm.disableGrossIncome = UtilService.isEmpty(vm.model.isAnnualIncomeDisabled) ? vm.model.grossIncome != null : vm.model.isAnnualIncomeDisabled === 'Y';\r\n                    backupCompanyName = vm.model.perfiosCompanyName;\r\n                    vm.disableCompany = vm.model.changedCompanyName ? false : vm.model.companyName != null;\r\n                    vm.showChangeCompanyToggle = backupCompanyName != null;//vm.model.changedCompanyName ? false : backupCompanyName != null;\r\n                    // vm.disableBank = vm.model.selectedBank != null;\r\n                    // vm.disableAccountNumber = vm.model.accountNumber != null;\r\n                }\r\n\r\n                vm.model.selectedCountry = vm.model.selectedCountry ? $filter('filter')(vm.countries, {\r\n                    \"countryName\": vm.model.selectedCountry\r\n                })[0] : vm.countries[0];\r\n\r\n                vm.model.natureOfOrgCheck = false;\r\n                vm.model.countryCheck = false;\r\n                vm.model.firmCheck = false;\r\n            });\r\n            $anchorScroll();\r\n            analyticService.pageList.incomeDetails.internal_reference_id = journeyService.getDataFromStorageContact().adobeId;\r\n            analyticService.trackPageLoad(analyticService.pageList.incomeDetails);\r\n        };\r\n\r\n        vm.resetOtherBiz = function () {\r\n            vm.model.otherBusiness = null;\r\n            vm.submitted = false;\r\n        };\r\n\r\n        vm.resetOtherOrg = function () {\r\n            vm.model.otherOrg = null;\r\n            vm.submitted = false;\r\n        };\r\n\r\n        vm.getAddressByPinCode = function (event) {\r\n            $scope.step6Form.postalCode.$setValidity('invalid', true);\r\n            if (event.target.value.length === 6) {\r\n                var pinCode = vm.model.postalCode;\r\n                journeyService.getAddressByPostalCode(pinCode, '.masked-container').then(function (data) {\r\n                    vm.model.city = data.city;\r\n                    vm.model.state = data.state;\r\n                    if (!vm.isStaffJourney) { //added too bypass pincode for staff\r\n                        if (UtilService.isEmpty(data) || UtilService.isEmpty(data.state) || UtilService.isEmpty(data.city)) {\r\n                            $scope.step6Form.postalCode.$setValidity('invalid', false);\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                vm.model.city = null;\r\n                vm.model.state = null;\r\n            }\r\n        };\r\n\r\n        vm.fetch = function ($select) {\r\n            // no event means first load!\r\n            if ($select.search) {\r\n                var select = $select.search;\r\n                if (select.length > 0) {\r\n                    // select = select.replace(/[^0-9a-zA-Z ]/g, \"\");\r\n                    $select.search = select;\r\n                    if (select.length > 2) {\r\n                        vm.loading = true;\r\n                        vm.companyNames = [];\r\n                        if (select.length > 0) {\r\n                            step6Service.getCompanyDetail(select).then(function (result) {\r\n                                // if (result.success) {\r\n                                if (result.length > 0) {\r\n                                    var temp = [];\r\n                                    temp[0] = select;\r\n                                    var a = result.indexOf(select);\r\n                                    if (a < 0)\r\n                                        vm.companyNames = temp.concat(result);\r\n                                    else\r\n                                        vm.companyNames = result;\r\n\r\n                                } else {\r\n                                    vm.companyNames[0] = select;\r\n                                }\r\n                            })['finally'](function () {\r\n                                vm.loading = false;\r\n                            });\r\n                        }\r\n                    } else {\r\n                        // $select.search = '';\r\n                        vm.companyNames = [];\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        vm.next = function () {\r\n\r\n            vm.errorMsg = '';\r\n            if (vm.cardTypeAE != 'Supplementary Card') {\r\n                vm.validateEmploymentLength();\r\n\r\n                vm.validateOfficeNumber();\r\n            }\r\n            if (vm.selectedCard.key === 'HPR') {\r\n                // //console.log(\"IN HPR \")\r\n                if (vm.model.SI != null) {\r\n                    //console.log(\"Si not null\")\r\n                        if(vm.model.accountNumber == null) {\r\n                        $scope.step6Form.accountNumber.$setValidity('maxAge', false);\r\n                        UtilService.focusOnInvalid(\"step6Form\", true);\r\n                        return;\r\n                    }\r\n                }\r\n                if (vm.model.accountNumber != null) {\r\n                    //console.log(\"accountNumber not null\");\r\n                    if(vm.model.SI == null) {\r\n                        $scope.step6Form.SI.$setValidity('maxAge', false);\r\n                        UtilService.focusOnInvalid(\"step6Form\", true);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!UtilService.isEmpty(vm.model.postalCode) && vm.model.postalCode.length === 6 && UtilService.isEmpty(vm.model.city) && UtilService.isEmpty(vm.model.state)) {\r\n                journeyService.getAddressByPostalCode(vm.model.postalCode, '.masked-container').then(function (data) {\r\n                    if (UtilService.isEmpty(data) || UtilService.isEmpty(data.state) || UtilService.isEmpty(data.city)) {\r\n                        $scope.step6Form.postalCode.$setValidity('invalid', false);\r\n\r\n                    }\r\n\r\n                    // $timeout(function () {\r\n                        submitForm();\r\n                    // }, 5000);\r\n\r\n                });\r\n            } else {\r\n\r\n                // $timeout(function () {\r\n                    submitForm();\r\n                // }, 5000);\r\n            }\r\n        };\r\n\r\n        var submitForm = function () {\r\n            if (vm.cardTypeAE != 'Supplementary Card') {\r\n                vm.validateIncome();\r\n            }\r\n\r\n            if ($scope.step6Form.$valid) {\r\n\r\n                var card = step6Service.getSelectedCardKey();\r\n\r\n                if ((card === 'VPC' || card === 'CBC') && parseInt(vm.model.grossIncome) < 300000 && vm.cardTypeAE != 'Supplementary Card') {\r\n\r\n                    var modalInstance = $uibModal.open({\r\n                        backdrop: 'static',\r\n                        keyboard: false,\r\n                        modalFade: true,\r\n                        component: \"cardSwapModal\",\r\n                        windowClass: 'card-detail-modal'\r\n                    });\r\n                    modalInstance.result.then(function (isOk) {\r\n                        if (isOk) {\r\n                            sendEmploymentData(true);\r\n                        } else {\r\n                            var securityParams = {\r\n                                robocheck: vm.robocheck ? vm.robocheck : ''\r\n                            };\r\n                            step6Service.sendLead(securityParams).then(function (result) {\r\n                                $state.go('app.negative-company', { 'cardKey': vm.selectedCard.key });\r\n                            });\r\n                        }\r\n                    }, function () { });\r\n                } else {\r\n\r\n                    sendEmploymentData(false);\r\n                }\r\n                analyticService.buttonList.buttonClick.event_content = \"continue\";\r\n                analyticService.trackUserAction(analyticService.buttonList.buttonClick);\r\n            } else {\r\n                sendEmploymentData(false);//incase of addon \r\n                analyticService.buttonList.buttonClick.event_content = \"continue\";\r\n                analyticService.trackUserAction(analyticService.buttonList.buttonClick);\r\n                $timeout(function () {\r\n                    vm.submitted = true;\r\n                    UtilService.focusOnInvalid(\"step6Form\");\r\n                }, 100);\r\n            }\r\n        };\r\n\r\n        var sendEmploymentData = function (swapCard) {\r\n            var securityParams = {\r\n                robocheck: vm.robocheck ? vm.robocheck : ''\r\n            };\r\n            var data = prepareData();\r\n            // $timeout(function () {\r\n           \r\n            step6Service.sendEmploymentData(data, securityParams, false).then(function (result) {\r\n                if (result.success) {\r\n                    if (result.message == 'Negative Company') {\r\n                        analyticService.buttonList.error.event_content = \"Negative company error\";\r\n                        analyticService.trackUserAction(analyticService.buttonList.error);\r\n                        $state.go('app.negative-company', { 'cardKey': vm.selectedCard.key });\r\n                    } else {\r\n                        if (swapCard) {\r\n                            step6Service.swapSelectedCard().then(function (result) {\r\n                                if (result) {\r\n                                    $scope.$emit('card-selected');\r\n                                }\r\n                            });\r\n                        }\r\n                        $state.go('app.journey.s7-review', { 'cardKey': vm.selectedCard.key });\r\n                    }\r\n                } else {\r\n                    if (result.errorCode === 1302) {\r\n                        //Office city is non-sourcing city\r\n                        analyticService.buttonList.error.event_content = \"Office non sourcing city error\";\r\n                        analyticService.trackUserAction(analyticService.buttonList.error);\r\n                        $state.go('app.office-non-sourcing-city', { 'cardKey': vm.selectedCard.key });\r\n                    } else if (result.errorCode === 1303) {\r\n                        //Office city is not aligned with Residence city\r\n                        analyticService.buttonList.error.event_content = \"Office city mismatch error\";\r\n                        analyticService.trackUserAction(analyticService.buttonList.error);\r\n                        $state.go('app.office-city-mismatch', { 'cardKey': vm.selectedCard.key });\r\n                    }\r\n                    else if (result.errorCode === 10006) {\r\n                        //arun else if condition\r\n                        //vm.errMsg = \"Sorry! there seems to be some technical error. Please try again\";\r\n                        $state.go('app.journey.s1-cards');\r\n                    }\r\n\r\n                    // Code by KP\r\n                    else if (result.errorCode === 11000) {\r\n                        vm.errorMsg = \"Gross annual income should be at least INR 4,00,000 for all card variants\";\r\n                        window.scrollTo(0, 0);\r\n                    }\r\n                    else if (result.errorCode === 11009) {\r\n                        vm.errorMsg = \"Gross annual income should be at least INR 3,00,000 for all card variants\";\r\n                        //evtContent = \"Invalid OTP error\";\r\n                        window.scrollTo(0, 0);\r\n                    } else if (result.errorCode === 11014) {\r\n                        vm.errorMsg = \"Gross annual income should be at least INR 4,00,000 for Travel one card\";\r\n                        //evtContent = \"Invalid OTP error\";\r\n                        window.scrollTo(0, 0);\r\n                    }\r\n\r\n                    else if (result.errorCode === 11010) {\r\n                        vm.errorMsg = \"Gross annual income should be at least INR 40,00,000 for TAJ Card\";\r\n                        //evtContent = \"Invalid OTP error\";\r\n                        window.scrollTo(0, 0);\r\n                    }\r\n                    else if (result.errorCode === 11013) {\r\n                        vm.errorMsg = \"Gross annual income should be at least INR 36,00,000 for Premier Card\";\r\n                        //evtContent = \"Invalid OTP error\";\r\n                        window.scrollTo(0, 0);\r\n                    }\r\n                    //added by ankit 23112024 for taj card\r\n                    else if (result.errorCode === 11011) {\r\n                        vm.errorMsg = \"Please enter the GST Number\";\r\n                        //evtContent = \"Invalid OTP error\";\r\n                        window.scrollTo(0, 0);\r\n\r\n                    }\r\n\r\n                    else if (result.errorCode === 11012) {\r\n                        vm.errorMsg = \"Please enter the Business PAN Number\";\r\n                        //evtContent = \"Invalid OTP error\";\r\n                        window.scrollTo(0, 0);\r\n\r\n                    }\r\n\r\n                    else if (result.errorCode === 11001) {\r\n                        vm.errorMsg = \"Please select the Nature of Business\";\r\n                        //evtContent = \"Invalid OTP error\";\r\n                        window.scrollTo(0, 0);\r\n\r\n                    }\r\n                    else if (result.errorCode === 11002) {\r\n                        vm.errorMsg = \"Please select the Nature of Organisation\";\r\n                        //evtContent = \"Invalid OTP error\";\r\n                        window.scrollTo(0, 0);\r\n\r\n                    }\r\n                    else if (result.errorCode === 11003) {\r\n                        vm.errorMsg = \"Please enter the Designation\";\r\n                        //evtContent = \"Invalid OTP error\";\r\n                        window.scrollTo(0, 0);\r\n\r\n                    }\r\n                    else if (result.errorCode === 11004) {\r\n                        vm.errorMsg = \"Please enter the Company Name\";\r\n                        //evtContent = \"Invalid OTP error\";\r\n                        window.scrollTo(0, 0);\r\n\r\n                    }\r\n                    else if (result.errorCode === 11005) {\r\n                        vm.errorMsg = \"Please enter the Company Address\";\r\n                        //evtContent = \"Invalid OTP error\";\r\n                        window.scrollTo(0, 0);\r\n\r\n                    }\r\n                    else if (result.errorCode === 11006) {\r\n                        vm.errorMsg = \"Please enter the Pin Code\";\r\n                        //evtContent = \"Invalid OTP error\";\r\n                        window.scrollTo(0, 0);\r\n\r\n                    }\r\n                    else if (result.errorCode === 11007) {\r\n                        vm.errorMsg = \"Please enter the Office Email Address\";\r\n                        //evtContent = \"Invalid OTP error\";\r\n                        window.scrollTo(0, 0);\r\n\r\n                    }\r\n                    // else if (result.errorCode === 11008) {\r\n                    //     vm.errorMsg = \"Please enter the Office Phone Number\";\r\n                    //     //evtContent = \"Invalid OTP error\";\r\n                    // }                    \r\n                }\r\n            });\r\n        // }, 5000);\r\n        };\r\n\r\n        vm.validateIncome = function () {\r\n            var incomeElement = $scope.step6Form.grossIncome;\r\n            incomeElement.$setValidity(\"min\", true);\r\n            var income = parseInt(vm.model.grossIncome);\r\n            if (income == 0) {\r\n                vm.model.grossIncome = null;\r\n                return false;\r\n            }\r\n            var minIncome = parseInt(incomeElement.$$attr['min']);\r\n            if (income < minIncome) {\r\n                incomeElement.$setValidity(\"min\", false);\r\n                return false;\r\n            }\r\n            return true;\r\n        };\r\n\r\n        vm.validateSI = function (amountElem) {\r\n            if (amountElem) {\r\n                amountElem.$setValidity(\"max\", true);\r\n                amountElem.$setValidity(\"min\", true);\r\n                var transAmount = parseInt(vm.model.SI);\r\n                if (transAmount < 5) {\r\n                    amountElem.$setValidity(\"min\", false);\r\n                }\r\n                if (transAmount > 100) {\r\n                    amountElem.$setValidity(\"max\", false);\r\n                }\r\n            }\r\n        };\r\n\r\n        vm.changeCompanyName = function () {\r\n            // vm.model.changedCompanyName = !vm.model.changedCompanyName;\r\n            if (vm.model.changedCompanyName == false) {\r\n                var modalInstance = $uibModal.open({\r\n                    backdrop: 'static',\r\n                    keyboard: false,\r\n                    modalFade: true,\r\n                    component: \"overlayStep6Confirmation\",\r\n                    windowClass: 'card-detail-modal'\r\n                });\r\n                modalInstance.result.then(function (isSelected) {\r\n                    if (isSelected) {\r\n                        vm.model.companyName = backupCompanyName;\r\n                        vm.disableCompany = true;\r\n                    } else {\r\n                        vm.model.changedCompanyName = true;\r\n                    }\r\n                }, function () { });\r\n            } else {\r\n                vm.disableCompany = false;\r\n            }\r\n        };\r\n\r\n        vm.save = function () {\r\n            var modalInstance = $uibModal.open({\r\n                backdrop: 'static',\r\n                keyboard: false,\r\n                modalFade: true,\r\n                component: \"overlaySaveConfirmation\",\r\n                windowClass: 'card-detail-modal'\r\n            });\r\n            modalInstance.result.then(function (isSelected) {\r\n                if (isSelected) {\r\n                    var data = prepareData();\r\n                    var securityParams = {\r\n                        robocheck: vm.robocheck ? vm.robocheck : ''\r\n                    };\r\n                    step6Service.sendEmploymentData(data, securityParams, true).then(function (result) {\r\n                        if (result.success) {\r\n                            $state.go('app.save-exit', {\r\n                                saveData: {\r\n                                    name: journeyService.getApplicantInfo(\"fullName\")\r\n                                }, cardKey: vm.selectedCard.key\r\n                            });\r\n                        } else {\r\n                            if (result.errorCode == 3) {\r\n                                $state.go('app.journey.s1-cards');\r\n                            } else if (result.errorCode == 4) {\r\n                                $rootScope.sessionError = true;\r\n                                $state.go('app.app-retrieval');\r\n                            } else if (result.errorCode === 1302) {\r\n                                //Office city is non-sourcing city\r\n                                analyticService.buttonList.error.event_content = \"Office non sourcing city error\";\r\n                                analyticService.trackUserAction(analyticService.buttonList.error);\r\n                                $state.go('app.office-non-sourcing-city', { 'cardKey': vm.selectedCard.key });\r\n                            } else if (result.errorCode === 1303) {\r\n                                //Office city is not aligned with Residence city\r\n                                analyticService.buttonList.error.event_content = \"Office city mismatch error\";\r\n                                analyticService.trackUserAction(analyticService.buttonList.error);\r\n                                $state.go('app.office-city-mismatch', { 'cardKey': vm.selectedCard.key });\r\n                            }\r\n                        }\r\n                    });\r\n                    analyticService.buttonList.buttonClick.event_content = \"save for later\";\r\n                    analyticService.trackUserAction(analyticService.buttonList.buttonClick);\r\n                }\r\n            }, function () { });\r\n        };\r\n\r\n        var prepareData = function () {\r\n\r\n            var formDetails = {\r\n                \"annualIncome\": vm.cardTypeAE != 'Supplementary Card' ? vm.model.grossIncome : \"1\",\r\n\r\n                \"employmentYear\": vm.cardTypeAE != 'Supplementary Card' ? (!UtilService.isEmpty(vm.model.year) ? parseInt(vm.model.year) : null) : \"00\",\r\n                \"employmentMonth\": vm.cardTypeAE != 'Supplementary Card' ? (!UtilService.isEmpty(vm.model.month) ? parseInt(vm.model.month) : null) : \"00\",\r\n                \"SI\": vm.model.SI != null ? vm.model.SI : null,\r\n                \"accountNumber\": vm.model.accountNumber != null ? vm.model.accountNumber : null,\r\n                \"businessNature\": vm.model.selectedBusiness != null ? vm.model.selectedBusiness : null,\r\n                \"otherBusinessNature\": vm.model.otherBusiness != null ? vm.model.otherBusiness : null,\r\n                \"organisationNature\": vm.model.selectedOrganisation != null ? vm.model.selectedOrganisation : null,\r\n                \"otherOrganisationNature\": vm.model.otherOrg != null ? vm.model.otherOrg : null,\r\n                \"firmType\": vm.model.selectedFirm != null ? vm.model.selectedFirm : null,\r\n                \"companyName\": vm.model.companyName != null ? vm.model.companyName : null,\r\n                \"designation\": vm.model.designation != null ? vm.model.designation : null,\r\n                \"changedCompanyName\": vm.model.changedCompanyName ? \"Y\" : \"N\",\r\n                \"companyAddress\": {\r\n                    \"address1\": vm.model.companyAddress != null ? vm.model.companyAddress : null,\r\n                    \"address2\": \"\",\r\n                    \"address3\": \"\",\r\n                    \"city\": vm.model.city != null ? vm.model.city : null,\r\n                    \"addressType\": null,\r\n                    \"country\": vm.model.selectedCountry.countryName != null ? vm.model.selectedCountry.countryName : null,\r\n                    \"state\": vm.model.state != null ? vm.model.state : null,\r\n                    \"pinCode\": vm.model.postalCode != null ? vm.model.postalCode : null,\r\n                    \"stdCode\": vm.model.officeSTD != null ? vm.model.officeSTD : null,\r\n                    \"officeExtension\": vm.model.ext != null ? vm.model.ext : null,\r\n                    \"phone\": vm.model.mobileNo != null ? vm.model.mobileNo : null,\r\n                    \"dialCode\": \"91\",\r\n                    \"district\": \"\"\r\n                },\r\n                \"officeNumberConsent\": vm.model.officeNumberConsent ? \"Y\" : \"N\",\r\n                \"officeEmailId\": vm.model.officeEmailId != null ? vm.model.officeEmailId : null,\r\n                \"SI\": vm.model.SI != null ? vm.model.SI : null,\r\n                \"accountNumber\": vm.model.accountNumber != null ? vm.model.accountNumber : null,\r\n                \"gstNumber\": vm.model.gstNumber,\r\n                \"businessPanNumber\": vm.model.businessPanNumber\r\n                // \"primaryBank\": vm.model.selectedBank,\r\n                // \"branchLocation\": vm.model.branch,\r\n                // \"accountNumber\": vm.model.accountNumber\r\n            };\r\n            console.log(\"formData-->\", formDetails)\r\n            return formDetails;\r\n        };\r\n\r\n        vm.goback = function () {\r\n            var data = prepareData();\r\n            step6Service.setDataInStorage(data);\r\n            $state.go('app.journey.s5-employmentDetails', { 'cardKey': vm.selectedCard.key });\r\n            analyticService.buttonList.buttonClick.event_content = \"back\";\r\n            analyticService.trackUserAction(analyticService.buttonList.buttonClick);\r\n        };\r\n\r\n        vm.validateEmploymentLength = function () {\r\n            $scope.step6Form.year.$setValidity(\"minEmp\", true);\r\n            $scope.step6Form.year.$setValidity(\"maxEmp\", true);\r\n            $scope.step6Form.month.$setValidity(\"minEmp\", true);\r\n            $scope.step6Form.month.$setValidity(\"maxEmp\", true);\r\n            $scope.step6Form.month.$setValidity(\"max\", true);\r\n            if (!UtilService.isEmpty(vm.model.year) && vm.model.year.length === 1) {\r\n                vm.model.year = \"0\" + vm.model.year;\r\n            }\r\n            if (!UtilService.isEmpty(vm.model.month) && vm.model.month.length === 1) {\r\n                vm.model.month = \"0\" + vm.model.month;\r\n            }\r\n            if (!UtilService.isEmpty(vm.model.month) && !UtilService.isEmpty(vm.model.year)) {\r\n                var month = parseInt(vm.model.month);\r\n                var year = parseInt(vm.model.year);\r\n                if (year === 0 && month === 0) {\r\n                    $scope.step6Form.year.$setValidity(\"minEmp\", false);\r\n                    $scope.step6Form.month.$setValidity(\"minEmp\", false);\r\n                    return;\r\n                }\r\n            }\r\n            if (!UtilService.isEmpty(vm.model.month)) {\r\n                var month = parseInt(vm.model.month);\r\n                if (month > 11) {\r\n                    $scope.step6Form.month.$setValidity(\"max\", false);\r\n                    return;\r\n                }\r\n            }\r\n            var age = step6Service.getApplicantAge();\r\n            var empLength = convertToYear(vm.model.year, vm.model.month);\r\n            if (empLength >= age) {\r\n                $scope.step6Form.year.$setValidity(\"maxEmp\", false);\r\n                $scope.step6Form.month.$setValidity(\"maxEmp\", false);\r\n                return;\r\n            }\r\n        };\r\n\r\n        vm.validateOfficeNumber = function () {\r\n            $scope.step6Form.mobileNo.$setValidity('minlength', true);\r\n            $scope.step6Form.mobileNo.$setValidity('maxlength', true);\r\n            if (parseInt(vm.model.mobileNo) == 0) {\r\n                vm.model.mobileNo = '';\r\n            }\r\n            var std = vm.model.officeSTD || '',\r\n                mobile = vm.model.mobileNo || '',\r\n                ext = vm.model.ext || '';\r\n            if ((std.length + mobile.length > 0) && (std.length + mobile.length < 10)) {\r\n                $scope.step6Form.mobileNo.$setValidity('minlength', false);\r\n            }\r\n            if (std.length + mobile.length > 12) {\r\n                $scope.step6Form.mobileNo.$setValidity('maxlength', false);\r\n            }\r\n        };\r\n\r\n        vm.toggleConsent = function () {\r\n            $timeout(function () {\r\n                vm.validateOfficeNumber();\r\n            }, 0);\r\n        };\r\n\r\n        var convertToYear = function (numberOfYears, numberOfMonths) {\r\n            var years = 0;\r\n            if (numberOfYears) {\r\n                years += parseFloat(numberOfYears);\r\n            }\r\n            if (numberOfMonths) {\r\n                years += parseFloat(numberOfMonths / 12);\r\n            }\r\n            return years;\r\n        };\r\n    }\r\n\r\n    var step6Comp = angular.module('journey.module').component('step6', {\r\n        template: __webpack_require__(/*! ./step6.component.html */ \"./src/app/components/journey/step6/step6.component.html\"),\r\n        controller: ['$scope', '$q', '$state', '$filter', '$timeout', 'step6Service', '$uibModal', '$anchorScroll', '$rootScope', 'journeyService', 'analyticService', 'UtilService', 'appState', step6Controller]\r\n    });\r\n    module.exports = step6Comp.name;\r\n})();\n\n/***/ }),\n\n/***/ \"./src/app/components/journey/step6/step6.component.scss\":\n/* unknown exports provided */\n/* all exports used */\n/*!***************************************************************!*\\\n  !*** ./src/app/components/journey/step6/step6.component.scss ***!\n  \\***************************************************************/\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"./src/app/components/journey/step6/step6.component.service.js\":\n/* unknown exports provided */\n/* all exports used */\n/*!*********************************************************************!*\\\n  !*** ./src/app/components/journey/step6/step6.component.service.js ***!\n  \\*********************************************************************/\n/***/ (function(module, exports) {\n\n(function () {\r\n    'use strict';\r\n\r\n    var step6Service = angular.module('journey.module').service('step6Service', ['$rootScope', '$http', 'appState', 'UtilService', 'CONFIG', function ($rootScope, $http, appState, UtilService, CONFIG) {\r\n        var self = this;\r\n\r\n        self.setDataInStorage = function (formDetails) {\r\n            var data = {\r\n                \"primaryApplicant\": {\r\n                    \"employmentDetails\": formDetails\r\n                }\r\n            };\r\n            appState.mergeApplicationData(data);\r\n        };\r\n\r\n        self.getDataFromStorage = function () {\r\n            return appState.getApplicationData();\r\n        };\r\n\r\n        self.getSelectedCardKey = function () {\r\n            var appData = appState.getApplicationData();\r\n            return appData.primaryApplicant.card.key;\r\n        };\r\n\r\n        self.getCompanyDetail = function (val) {\r\n            var apiURL;\r\n            if ($rootScope.integrationsActive) {\r\n                apiURL = CONFIG.apiUrl + '/lookup/fetchcompanynames/' + val + '?hash_id=' + Math.random();\r\n            } else {\r\n                apiURL = 'resources/data/mock/step6_income-details/companies.json';\r\n            }\r\n\r\n            return $http({\r\n                method: 'GET',\r\n                url: apiURL,\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            }).then(function (response) {\r\n                if (response && response.status === 200 && response.data) {\r\n                    return response.data;\r\n                } else if (response && response.validationErrors) { } else { }\r\n                return;\r\n            }, function (response) {\r\n                return;\r\n            });\r\n        };\r\n\r\n\r\n        self.sendEmploymentData = function (empData, securityParams, isSaveExit) {\r\n            var apiURL, httpMethod;\r\n            if ($rootScope.integrationsActive) {\r\n                httpMethod = \"POST\";\r\n                var arn = appState.getApplicationData().primaryApplicant.arn;\r\n                apiURL = CONFIG.apiUrl + '/applicantdetails/employmentdetails/save/' + arn + '/' + isSaveExit + '?hash_id=' + Math.random();\r\n            } else {\r\n                httpMethod = \"GET\";\r\n                apiURL = 'resources/data/mock/step6_income-details/employment_details_save.json';\r\n            }\r\n            return $http({\r\n                method: httpMethod,\r\n                url: apiURL,\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                data: JSON.stringify(empData),\r\n                params: securityParams\r\n            }).then(function (response) {\r\n                if (response.status === 200 && response.data) {\r\n                    if (response.data.success) {\r\n\r\n                        if(response.data.salaryFlag){\r\n                            // console.log(\"akshayCCS1 changes\",response.data.salaryFlag);\r\n                            // alert(response.data.salaryFlag);\r\n                            (response.data.salaryFlag == \"success\")?\r\n                            appState.setHubSalaryFlag(response.data.salaryFlag) : '';\r\n                        }\r\n                        \r\n                        if (response.data.message !== 'Negative Company') {\r\n                            empData.isAnnualIncomeDisabled = response.data.leadGenerationReason;\r\n                        }\r\n                        self.setDataInStorage(empData);\r\n                    }\r\n                    return response.data;\r\n                }\r\n                return {\r\n                    success: false,\r\n                    message: \"Sorry! there seems to be some technical error.\"\r\n                };\r\n            }, function (error) {\r\n                return {\r\n                    success: false,\r\n                    message: \"Sorry! there seems to be some technical error.\"\r\n                };\r\n            });\r\n        };\r\n\r\n        self.sendLead = function (securityParams) {\r\n            var apiURL, httpMethod;\r\n            if ($rootScope.integrationsActive) {\r\n                httpMethod = \"POST\";\r\n                var arn = appState.getApplicationData().primaryApplicant.arn;\r\n                apiURL = CONFIG.apiUrl + '/iccm/sendNotification/' + arn + '?hash_id=' + Math.random();\r\n            } else {\r\n                httpMethod = \"GET\";\r\n                apiURL = 'resources/data/mock/step6_income-details/send-lead.json';\r\n            }\r\n            return $http({\r\n                method: httpMethod,\r\n                url: apiURL,\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                // data: JSON.stringify(empData),\r\n                params: securityParams\r\n            }).then(function (response) {\r\n                if (response.status === 200 && response.data) {\r\n                    return response.data;\r\n                }\r\n                return {\r\n                    success: false,\r\n                    message: \"Sorry! there seems to be some technical error.\"\r\n                };\r\n            }, function (error) {\r\n                return {\r\n                    success: false,\r\n                    message: \"Sorry! there seems to be some technical error.\"\r\n                };\r\n            });\r\n        };\r\n\r\n        self.swapSelectedCard = function () {\r\n            return $http({\r\n                method: \"GET\",\r\n                url: \"resources/data/mock/step1_cards.json\"\r\n            }).then(function (response) {\r\n                if (response && response.status === 200 && response.data) {\r\n                    var svcCard = response.data.filter(function (card) { return card.key === 'SVC' })[0];\r\n                    var appData = {\r\n                        \"primaryApplicant\": {\r\n                            \"card\": svcCard\r\n                        }\r\n                    };\r\n                    appState.mergeApplicationData(appData);\r\n                    return true;\r\n                }\r\n                return false;\r\n            }, function (error) {\r\n                return false;\r\n            });\r\n        };\r\n\r\n        self.lengthOfStayYears = [];\r\n        for (var i = 0; i <= 65; i++) {\r\n            if (i < 2) {\r\n                this.lengthOfStayYears.push({ value: i, label: i + \" year\" });\r\n            }\r\n            else {\r\n                this.lengthOfStayYears.push({ value: i, label: i + \" years\" });\r\n            }\r\n        }\r\n\r\n        self.lengthOfStayMonths = [];\r\n        for (var i = 0; i < 12; i++) {\r\n            if (i < 2) {\r\n                this.lengthOfStayMonths.push({ value: i, label: i + \" month\" });\r\n            }\r\n            else {\r\n                this.lengthOfStayMonths.push({ value: i, label: i + \" months\" });\r\n            }\r\n        }\r\n\r\n        self.getUserDetails = function () {\r\n            var userDTO = {},\r\n                localState = appState.getApplicationData();\r\n            if (localState) {\r\n                if (localState.primaryApplicant) {\r\n                    userDTO.empType = localState.primaryApplicant.employmentStatus ? localState.primaryApplicant.employmentStatus : null;\r\n                    userDTO.perfiosCheck = localState.primaryApplicant.hasSkippedPerfios ? localState.primaryApplicant.hasSkippedPerfios : 'Y';\r\n                    userDTO.perfiosCheck = userDTO.perfiosCheck === 'Y' ? false : true;\r\n                    if (localState.primaryApplicant.employmentDetails) {\r\n                        userDTO.year = !UtilService.isEmpty(localState.primaryApplicant.employmentDetails.employmentYear) ? UtilService.formatYearMonth(localState.primaryApplicant.employmentDetails.employmentYear) : null;\r\n                        userDTO.month = !UtilService.isEmpty(localState.primaryApplicant.employmentDetails.employmentMonth) ? UtilService.formatYearMonth(localState.primaryApplicant.employmentDetails.employmentMonth) : null;\r\n                        userDTO.grossIncome = !UtilService.isEmpty(localState.primaryApplicant.employmentDetails.annualIncome) ? parseInt(localState.primaryApplicant.employmentDetails.annualIncome) : null;\r\n                        if (userDTO.grossIncome === 0) {\r\n                            userDTO.grossIncome = null;\r\n                        }\r\n                        userDTO.isAnnualIncomeDisabled = localState.primaryApplicant.employmentDetails.isAnnualIncomeDisabled;\r\n                        if (localState.primaryApplicant.employmentDetails.companyAddress) {\r\n                            userDTO.selectedCountry = localState.primaryApplicant.employmentDetails.companyAddress.country ? localState.primaryApplicant.employmentDetails.companyAddress.country : null;\r\n                            userDTO.companyAddress = localState.primaryApplicant.employmentDetails.companyAddress.address1 ? localState.primaryApplicant.employmentDetails.companyAddress.address1 : null;\r\n                            userDTO.city = localState.primaryApplicant.employmentDetails.companyAddress.city ? localState.primaryApplicant.employmentDetails.companyAddress.city : null;\r\n                            userDTO.state = localState.primaryApplicant.employmentDetails.companyAddress.state ? localState.primaryApplicant.employmentDetails.companyAddress.state : null;\r\n                            userDTO.postalCode = localState.primaryApplicant.employmentDetails.companyAddress.pinCode ? localState.primaryApplicant.employmentDetails.companyAddress.pinCode : null;\r\n                            userDTO.mobileNo = localState.primaryApplicant.employmentDetails.companyAddress.phone ? localState.primaryApplicant.employmentDetails.companyAddress.phone : null;\r\n                            userDTO.ext = localState.primaryApplicant.employmentDetails.companyAddress.officeExtension ? localState.primaryApplicant.employmentDetails.companyAddress.officeExtension : null;\r\n                            userDTO.officeSTD = localState.primaryApplicant.employmentDetails.companyAddress.stdCode ? localState.primaryApplicant.employmentDetails.companyAddress.stdCode : null;\r\n                        }\r\n                        userDTO.designation = localState.primaryApplicant.employmentDetails.designation ? localState.primaryApplicant.employmentDetails.designation : null;\r\n                        userDTO.selectedBusiness = localState.primaryApplicant.employmentDetails.businessNature ? localState.primaryApplicant.employmentDetails.businessNature : null;\r\n                        userDTO.selectedOrganisation = localState.primaryApplicant.employmentDetails.organisationNature ? localState.primaryApplicant.employmentDetails.organisationNature : null;\r\n                        userDTO.otherBusiness = localState.primaryApplicant.employmentDetails.otherBusinessNature ? localState.primaryApplicant.employmentDetails.otherBusinessNature : null;\r\n                        userDTO.otherOrg = localState.primaryApplicant.employmentDetails.otherOrganisationNature ? localState.primaryApplicant.employmentDetails.otherOrganisationNature : null;\r\n                        userDTO.selectedFirm = localState.primaryApplicant.employmentDetails.firmType ? localState.primaryApplicant.employmentDetails.firmType : null;\r\n                        userDTO.companyName = localState.primaryApplicant.employmentDetails.companyName ? localState.primaryApplicant.employmentDetails.companyName : null;\r\n                        userDTO.perfiosCompanyName = localState.primaryApplicant.employmentDetails.perfiosCompanyName ? localState.primaryApplicant.employmentDetails.perfiosCompanyName : null;\r\n                        userDTO.changedCompanyName = localState.primaryApplicant.employmentDetails.changedCompanyName === 'Y';\r\n                        userDTO.officeNumberConsent = localState.primaryApplicant.employmentDetails.officeNumberConsent === 'Y';\r\n\r\n                        userDTO.accountNumber = localState.primaryApplicant.employmentDetails.accountNumber ? localState.primaryApplicant.employmentDetails.accountNumber : null;\r\n                        userDTO.SI = localState.primaryApplicant.employmentDetails.SI ? localState.primaryApplicant.employmentDetails.SI : null;\r\n                    \r\n                        // userDTO.selectedBank = localState.primaryApplicant.employmentDetails.primaryBank ? localState.primaryApplicant.employmentDetails.primaryBank : null;\r\n                        // userDTO.branch = localState.primaryApplicant.employmentDetails.branchLocation ? localState.primaryApplicant.employmentDetails.branchLocation : null;\r\n                        // userDTO.accountNumber = localState.primaryApplicant.employmentDetails.accountNumber ? localState.primaryApplicant.employmentDetails.accountNumber : null;\r\n                    }\r\n                }\r\n            }\r\n            return userDTO;\r\n        };\r\n\r\n        self.getApplicantAge = function () {\r\n            var applicant = self.getDataFromStorage().primaryApplicant;\r\n            var dob = applicant.dateOfBirth;\r\n            dob = dob.split('-');\r\n            var age = UtilService.calculateAge(dob[0], dob[1], dob[2]);\r\n            return age;\r\n        };\r\n\r\n        self.getBusinessTypes = function () {\r\n            return $http.get('resources/data/business-types.json', {\r\n                cache: true\r\n            }).then(function (response) {\r\n                return response.data;\r\n            });\r\n        };\r\n\r\n        self.getOrganizationTypes = function () {\r\n            return $http.get('resources/data/organization-types.json', {\r\n                cache: true\r\n            }).then(function (response) {\r\n                return response.data;\r\n            });\r\n        };\r\n\r\n        self.getFirmTypes = function () {\r\n            return $http.get('resources/data/firm-types.json', {\r\n                cache: true\r\n            }).then(function (response) {\r\n                return response.data;\r\n            });\r\n        };\r\n    }]);\r\n\r\n    module.exports = step6Service.name;\r\n})();\r\n\n\n/***/ }),\n\n/***/ \"./src/app/components/journey/step6/step6.modal/overlayStep6Confirmation.modal.component.html\":\n/* unknown exports provided */\n/* all exports used */\n/*!****************************************************************************************************!*\\\n  !*** ./src/app/components/journey/step6/step6.modal/overlayStep6Confirmation.modal.component.html ***!\n  \\****************************************************************************************************/\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=modal-header> <div class=heading-container> </div> <div class=close-button-container> <span aria-label=Close title=Close class=\\\"icon icon-2x icon-delete-small\\\" ng-click=$ctrl.cancel()></span> </div> </div> <div class=modal-body> <p class=no-margin-b> It seems you have made some changes to the prefilled information. Are you sure you want to cancel the changes </p> </div> <div class=modal-footer> <div class=buttons-container> <button class=button-outline ng-click=$ctrl.Close(false)>No</button> <button class=button-primary ng-click=$ctrl.Close(true)>Yes</button> </div> </div>\";\n\n/***/ }),\n\n/***/ \"./src/app/components/journey/step6/step6.modal/overlayStep6Confirmation.modal.component.js\":\n/* unknown exports provided */\n/* all exports used */\n/*!**************************************************************************************************!*\\\n  !*** ./src/app/components/journey/step6/step6.modal/overlayStep6Confirmation.modal.component.js ***!\n  \\**************************************************************************************************/\n/***/ (function(module, exports, __webpack_require__) {\n\n(function () {\r\n    'use strict';\r\n    var angular = __webpack_require__(/*! angular */ \"./node_modules/angular/index.js\");\r\n    __webpack_require__(/*! ./overlayStep6Confirmation.modal.component.scss */ \"./src/app/components/journey/step6/step6.modal/overlayStep6Confirmation.modal.component.scss\")\r\n\r\n    var modalController = function ($scope) {\r\n        var vm = this;\r\n\r\n        vm.$onInit = function () {\r\n\r\n        };\r\n\r\n        /**\r\n         * This function is triggered when we select or unselect card.\r\n         * We push the selected card in selectedPrimaryCards array and\r\n         *  pop the unselected card.\r\n         */\r\n        vm.Close = function (isSelected) {\r\n            vm.close({\r\n                $value: isSelected\r\n            });\r\n        };\r\n\r\n        vm.cancel = function () {\r\n            vm.dismiss({\r\n                $value: 'cancel'\r\n            });\r\n        };\r\n    };\r\n\r\n    var modalComp = angular.module('journey.module').component('overlayStep6Confirmation', {\r\n        template: __webpack_require__(/*! ./overlayStep6Confirmation.modal.component.html */ \"./src/app/components/journey/step6/step6.modal/overlayStep6Confirmation.modal.component.html\"),\r\n        bindings: {\r\n            resolve: '<',\r\n            close: '&',\r\n            dismiss: '&'\r\n        },\r\n        controller: ['$scope', modalController]\r\n    });\r\n    module.exports = modalComp.name;\r\n})();\r\n\n\n/***/ }),\n\n/***/ \"./src/app/components/journey/step6/step6.modal/overlayStep6Confirmation.modal.component.scss\":\n/* unknown exports provided */\n/* all exports used */\n/*!****************************************************************************************************!*\\\n  !*** ./src/app/components/journey/step6/step6.modal/overlayStep6Confirmation.modal.component.scss ***!\n  \\****************************************************************************************************/\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// resources/js/0076a7fafd341d7953281.js","module.exports = \"<div class=modal-header> <div class=heading-container> </div> <div class=close-button-container> <button type=button class=close aria-label=Close ng-click=$ctrl.cancel()> <span aria-hidden=true>Ã—</span> </button> </div> </div> <div class=modal-body> <p> Based on your income details, you are eligible for <strong>Smart Value Card</strong>. Accordingly we will process your application for the Smart Value Card. </p> <h1 class=h5> <strong>HSBC Smart Value Credit Card</strong> </h1> <ul> <li>INR 2000 Cleartrip voucher and INR 250 Amazon gift voucher on first transaction</li> <li>10% cashback up to Rs. 1,000 on minimum spend of Rs. 5,000 within first 60 days of card issuance.</li> <li>Attractive Instalment plans at 10.99% p.a. for EMI products - Applicable for Loan on Phone, Balance Transfer on EMI and Cash on EMI</li> <li> Dynamic Finance Charge interest rates starting from 2.99% p.m., going down to 1.99% p.m. based on credit history & repayment behavior </li> <li>Joining fee : NIL ; Annual fee : Rs 499 annual fee (waived off for annual spends of Rs 50,000 or more)</li> </ul> </div> <div class=modal-footer> <div class=buttons-container> <button class=button-outline ng-click=$ctrl.closeOverlay(false)>Do not proceed</button> <button class=button-primary ng-click=$ctrl.closeOverlay(true)>Proceed</button> </div> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/journey/step6/card-swap-modal/card-swap.modal.component.html\n// module id = ./src/app/components/journey/step6/card-swap-modal/card-swap.modal.component.html\n// module chunks = 1","(function () {\r\n    'use strict';\r\n    var angular = require('angular');\r\n    require('./card-swap.modal.component.scss')\r\n\r\n    var modalController = function (analyticService) {\r\n        var vm = this;\r\n\r\n        vm.$onInit = function () {\r\n            analyticService.buttonList.popup.event_content = \"Swap card selected by customer based on annual income confirmation\";\r\n            analyticService.trackUserAction(analyticService.buttonList.popup);\r\n        };\r\n\r\n        /**\r\n         * This function is triggered when we select or unselect card.\r\n         * We push the selected card in selectedPrimaryCards array and\r\n         *  pop the unselected card.\r\n         */\r\n        vm.closeOverlay = function (isOk) {\r\n            analyticService.buttonList.buttonClick.event_content = \"Swap card selected by customer based on annual income confirmation: \" + isOk ? \"Proceed\" : \"I do not wish to proceed\";\r\n            analyticService.trackUserAction(analyticService.buttonList.buttonClick);\r\n            vm.close({\r\n                $value: isOk\r\n            });\r\n        };\r\n\r\n        vm.cancel = function () {\r\n            vm.dismiss({\r\n                $value: 'cancel'\r\n            });\r\n        };\r\n    };\r\n\r\n    var modalComp = angular.module('journey.module').component('cardSwapModal', {\r\n        template: require('./card-swap.modal.component.html'),\r\n        bindings: {\r\n            resolve: '<',\r\n            close: '&',\r\n            dismiss: '&'\r\n        },\r\n        controller: ['analyticService', modalController]\r\n    });\r\n    module.exports = modalComp.name;\r\n})();\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/journey/step6/card-swap-modal/card-swap.modal.component.js\n// module id = ./src/app/components/journey/step6/card-swap-modal/card-swap.modal.component.js\n// module chunks = 1","module.exports = \"<form name=step6Form autocomplete=off novalidate> <input type=text class=hidden-field ng-model=$ctrl.robocheck tabindex=-1> <h1 class=\\\"brand-bar no-margin-top\\\">Employment details</h1> <alert-msg ng-if=$ctrl.errorMsg type=ERROR> {{$ctrl.errorMsg}} </alert-msg> <div class=row ng-if=\\\"$ctrl.cardTypeAE != 'Supplementary Card'\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"!$ctrl.isStaffJourney && $ctrl.selectedCard.key !='MJY' && $ctrl.selectedCard.key !='SVC' && $ctrl.selectedCard.key !='HPR'\\\"> <div class=form-group> <label for=grossIncome>Gross annual income </label> <div ng-class=\\\"{'has-error': (step6Form.grossIncome.$invalid || $ctrl.model.grossIncome<=0) && ($ctrl.submitted || step6Form.grossIncome.$touched)}\\\"> <input trim only-number=11 type=tel class=form-control id=grossIncome name=grossIncome aria-describedby=annualIncomeErrMsg ng-model=$ctrl.model.grossIncome onkeypress=\\\"if(0==this.value.length&&(48==event.which||32===event.charCode))return!1\\\" ng-blur=$ctrl.validateIncome() ng-keyup=$ctrl.validateIncome() ng-maxlength=11 min=400000 maxlength=11 aria-invalid=\\\"{{step6Form.grossIncome.$invalid && ($ctrl.submitted || step6Form.grossIncome.$touched)}}\\\" ng-disabled=$ctrl.disableGrossIncome ng-required=required> </div> <div id=annualIncomeErrMsg ng-class=\\\"{'has-error': step6Form.grossIncome.$invalid && (step6Form.grossIncome.$touched || $ctrl.submitted)}\\\"> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Please enter your gross annual income to continue with your application. </validation-msg> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.maxlength && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Maximum of 11 digits allowed. </validation-msg> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.min && !step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Gross annual income should be at least INR 4,00,000 for all card variants. </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"$ctrl.isStaffJourney && $ctrl.selectedCard.key !='MJY' && $ctrl.selectedCard.key !='SVC' && $ctrl.selectedCard.key !='HPR'\\\"> <div class=form-group> <label for=grossIncome>Gross annual income</label> <div ng-class=\\\"{'has-error': (step6Form.grossIncome.$invalid || $ctrl.model.grossIncome<=0) && ($ctrl.submitted || step6Form.grossIncome.$touched)}\\\"> <input trim only-number=11 type=tel class=form-control id=grossIncome name=grossIncome aria-describedby=annualIncomeErrMsg ng-model=$ctrl.model.grossIncome onkeypress=\\\"if(0==this.value.length&&(48==event.which||32===event.charCode))return!1\\\" ng-blur=$ctrl.validateIncome() ng-keyup=$ctrl.validateIncome() ng-maxlength=11 min=300000 maxlength=11 aria-invalid=\\\"{{step6Form.grossIncome.$invalid && ($ctrl.submitted || step6Form.grossIncome.$touched)}}\\\" ng-disabled=\\\"$ctrl.disableGrossIncome || $ctrl.hprDisabledFields\\\" ng-required=required> </div> <div id=annualIncomeErrMsg ng-class=\\\"{'has-error': step6Form.grossIncome.$invalid && (step6Form.grossIncome.$touched || $ctrl.submitted)}\\\"> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Please enter your gross annual income to continue with your application. </validation-msg> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.maxlength && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Maximum of 11 digits allowed. </validation-msg> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.min && !step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Gross annual income should be at least INR 3,00,000 for all card variants. </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"$ctrl.selectedCard.key =='MJY' && $ctrl.selectedCard.key !='SVC'\\\"> <div class=form-group> <label for=grossIncome>Gross annual income</label> <div ng-class=\\\"{'has-error': (step6Form.grossIncome.$invalid || $ctrl.model.grossIncome<=0) && ($ctrl.submitted || step6Form.grossIncome.$touched)}\\\"> <input trim only-number=11 type=tel class=form-control id=grossIncome name=grossIncome aria-describedby=annualIncomeErrMsg ng-model=$ctrl.model.grossIncome onkeypress=\\\"if(0==this.value.length&&(48==event.which||32===event.charCode))return!1\\\" ng-blur=$ctrl.validateIncome() ng-keyup=$ctrl.validateIncome() ng-maxlength=11 min=400000 maxlength=11 placeholder=\\\"please enter more than 4,00,000\\\" aria-invalid=\\\"{{step6Form.grossIncome.$invalid && ($ctrl.submitted || step6Form.grossIncome.$touched)}}\\\" ng-disabled=$ctrl.disableGrossIncome ng-required=required> </div> <div id=annualIncomeErrMsg ng-class=\\\"{'has-error': step6Form.grossIncome.$invalid && (step6Form.grossIncome.$touched || $ctrl.submitted)}\\\"> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Please enter your gross annual income to continue with your application. </validation-msg> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.maxlength && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Maximum of 11 digits allowed. </validation-msg> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.min && !step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Gross annual income should be at least INR 4,00,000 for Travel One Card. </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"$ctrl.selectedCard.key =='SVC'\\\"> <div class=form-group> <label for=grossIncome>Gross annual income</label> <div ng-class=\\\"{'has-error': (step6Form.grossIncome.$invalid || $ctrl.model.grossIncome<=0) && ($ctrl.submitted || step6Form.grossIncome.$touched)}\\\"> <input trim only-number=11 type=tel class=form-control id=grossIncome name=grossIncome aria-describedby=annualIncomeErrMsg ng-model=$ctrl.model.grossIncome onkeypress=\\\"if(0==this.value.length&&(48==event.which||32===event.charCode))return!1\\\" ng-blur=$ctrl.validateIncome() ng-keyup=$ctrl.validateIncome() ng-maxlength=11 min=4000000 maxlength=11 placeholder=\\\"please enter more than 40,00,000\\\" aria-invalid=\\\"{{step6Form.grossIncome.$invalid && ($ctrl.submitted || step6Form.grossIncome.$touched)}}\\\" ng-disabled=$ctrl.disableGrossIncome ng-required=required> </div> <div id=annualIncomeErrMsg ng-class=\\\"{'has-error': step6Form.grossIncome.$invalid && (step6Form.grossIncome.$touched || $ctrl.submitted)}\\\"> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Please enter your gross annual income to continue with your application. </validation-msg> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.maxlength && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Maximum of 11 digits allowed. </validation-msg> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.min && !step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Gross annual income should be at least INR 40,00,000 for TAJ card variants. </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"$ctrl.selectedCard.key =='HPR'\\\"> <div class=form-group> <label for=grossIncome>Gross annual income</label> <div ng-class=\\\"{'has-error': (step6Form.grossIncome.$invalid || $ctrl.model.grossIncome<=0) && ($ctrl.submitted || step6Form.grossIncome.$touched)}\\\"> <input trim only-number=11 type=tel class=form-control id=grossIncome name=grossIncome aria-describedby=annualIncomeErrMsg ng-model=$ctrl.model.grossIncome onkeypress=\\\"if(0==this.value.length&&(48==event.which||32===event.charCode))return!1\\\" ng-blur=$ctrl.validateIncome() ng-keyup=$ctrl.validateIncome() ng-maxlength=11 min=3600000 maxlength=11 aria-invalid=\\\"{{step6Form.grossIncome.$invalid && ($ctrl.submitted || step6Form.grossIncome.$touched)}}\\\" ng-disabled=$ctrl.disableGrossIncome ng-required=required> </div> <div id=annualIncomeErrMsg ng-class=\\\"{'has-error': step6Form.grossIncome.$invalid && (step6Form.grossIncome.$touched || $ctrl.submitted)}\\\"> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Please enter your gross annual income to continue with your application. </validation-msg> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.maxlength && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Maximum of 11 digits allowed. </validation-msg> <validation-msg ng-if=\\\"step6Form.grossIncome.$error.min && !step6Form.grossIncome.$error.required && (step6Form.grossIncome.$touched || $ctrl.submitted)\\\"> Gross annual income should be at least INR 36,00,000. </validation-msg> </div> </div> </div> <div class=\\\"col-md-8 col-sm-12 col-xs-12\\\"> <div class=\\\"form-group line-spacer-xs line-spacer-sm\\\"> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <label id=employmentDurationLabel>Total no. of years of employment/business (year/month) </label> </div> <div class=\\\"col-md-6 col-sm-6 col-xs-12\\\"> <div class=\\\"col-md-6 col-sm-6 col-xs-6 remove-padding\\\"> <div ng-class=\\\"{'has-error': step6Form.year.$invalid && ($ctrl.submitted || step6Form.year.$touched)}\\\"> <custom-select> <select trim type=tel name=year aria-label=\\\"Total no. of years of employment/business (YY)\\\" aria-describedby=empLenErrMsg ng-model=$ctrl.model.year ng-options=\\\"item.value as item.label disable when $ctrl.model.lengthOfStayMonth === 0 && item.value === 0 for item in $ctrl.lengthOfStayYears\\\" class=\\\"form-control text-center\\\" ng-blur=$ctrl.validateEmploymentLength() ng-disabled=$ctrl.hprDisabledFields required> <option value=\\\"\\\">Please select</option> </select> </custom-select> </div> </div> <div class=\\\"col-md-6 col-sm-6 col-xs-6 remove-padding\\\"> <div ng-class=\\\"{'has-error': step6Form.month.$invalid && ($ctrl.submitted || step6Form.month.$touched)}\\\"> <custom-select> <select trim type=tel name=month aria-label=\\\"Total no. of years of employment/business (MM)\\\" aria-describedby=empLenErrMsg ng-model=$ctrl.model.month class=\\\"form-control text-center\\\" ng-options=\\\"item.value as item.label disable when $ctrl.model.lengthOfStayYear === 0 && item.value === 0 for item in $ctrl.lengthOfStayMonths\\\" ng-blur=$ctrl.validateEmploymentLength() ng-disabled=$ctrl.hprDisabledFields required> <option value=\\\"\\\">Please select</option> </select> </custom-select> </div> </div> </div> </div> <div class=row> <div id=empLenErrMsg class=\\\"col-md-6 col-sm-6 col-xs-12\\\" ng-class=\\\"{'has-error': step6Form.year.$invalid || step6Form.month.$invalid}\\\" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if=\\\"((step6Form.year.$error.required && step6Form.year.$touched) ||(step6Form.year.$error.required && $ctrl.submitted)) || ((step6Form.month.$error.required && step6Form.month.$touched) ||(step6Form.month.$error.required && $ctrl.submitted))\\\"> {{$ctrl.errorMessages.enterEmploymentPeriod}} </validation-msg> <validation-msg ng-if=\\\"step6Form.year.$error.minEmp && (!step6Form.year.$error.required && !step6Form.month.$error.required)\\\"> {{$ctrl.errorMessages.limitEmplymentPeriod}} </validation-msg> <validation-msg ng-if=\\\"step6Form.month.$error.max && (!step6Form.month.$error.required && step6Form.year.$valid)\\\"> Months of employment/business cannot be greater than 11 months. </validation-msg> <validation-msg ng-if=\\\"(step6Form.year.$error.maxEmp || step6Form.month.$error.maxEmp) && (!step6Form.year.$error.required && !step6Form.month.$error.required)\\\"> Sorry! There seems to be an error in total number of years of employment. Please enter the details once again. </validation-msg> </div> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE == 'Supplementary Card'\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=form-group> <label for=grossIncome>Gross annual income(Optional)</label> <div> <input trim only-number=11 type=tel class=form-control id=grossIncome name=grossIncome value=1 ng-model=$ctrl.model.grossIncome ng-value=myVar> </div> </div> </div> <div class=\\\"col-md-8 col-sm-12 col-xs-12\\\"> <div class=\\\"form-group line-spacer-xs line-spacer-sm\\\"> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <label id=employmentDurationLabel>Total no. of years of employment/business (year/month) (Optional)</label> </div> <div class=\\\"col-md-6 col-sm-6 col-xs-12\\\"> <div class=\\\"col-md-6 col-sm-6 col-xs-6 remove-padding\\\"> <div> <custom-select> <select trim type=tel name=year aria-label=\\\"Total no. of years of employment/business (YY)\\\" aria-describedby=empLenErrMsg ng-model=$ctrl.model.year ng-options=\\\"item.value as item.label disable when $ctrl.model.lengthOfStayMonth === 0 && item.value === 0 for item in $ctrl.lengthOfStayYears\\\" class=\\\"form-control text-center\\\" ng-blur=$ctrl.validateEmploymentLength() required> <option value=\\\"\\\">YY</option> </select> </custom-select> </div> </div> <div class=\\\"col-md-6 col-sm-6 col-xs-6 remove-padding\\\"> <div> <custom-select> <select trim type=tel name=month aria-label=\\\"Total no. of years of employment/business (MM)\\\" aria-describedby=empLenErrMsg ng-model=$ctrl.model.month class=\\\"form-control text-center\\\" ng-options=\\\"item.value as item.label disable when $ctrl.model.lengthOfStayYear === 0 && item.value === 0 for item in $ctrl.lengthOfStayMonths\\\" ng-blur=$ctrl.validateEmploymentLength()> <option value=\\\"\\\">MM</option> </select> </custom-select> </div> </div> </div> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.isStaffJourney && $ctrl.cardTypeAE != 'Supplementary Card'\\\" ng-hide=\\\"$ctrl.selectedCard.key =='MJY'  && !$ctrl.relationWithBank\\\"> <br> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer-xs\\\"> <label for=SI>SI%</label> <div ng-class=\\\"{'has-error': step6Form.SI.$invalid && ($ctrl.submitted || step6Form.SI.$touched)}\\\"> <input type=text id=SI name=SI class=form-control ng-model=$ctrl.model.SI trim only-number=3 aria-describedby=SIErrMsg aria-invalid=\\\"{{step6Form.SI.$invalid && ($ctrl.submitted || step6Form.SI.$touched)}}\\\" required> </div> <div id=SIErrMsg ng-class=\\\"{'has-error': step6Form.SI.$invalid}\\\"> <validation-msg ng-if=\\\"step6Form.SI.$error.required && (step6Form.SI.$touched || $ctrl.submitted)\\\"> Please enter SI% between 5-100%. </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer-xs\\\"> <label for=accountNumber>Account Number</label> <div ng-class=\\\"{'has-error': step6Form.accountNumber.$invalid && ($ctrl.submitted || step6Form.accountNumber.$touched)}\\\"> <input type=text id=accountNumber name=accountNumber class=form-control ng-model=$ctrl.model.accountNumber trim only-number=12 aria-describedby=accountNumberErrMsg aria-invalid=\\\"{{step6Form.accountNumber.$invalid && ($ctrl.submitted || step6Form.accountNumber.$touched)}}\\\" required> </div> <div id=accountNumberErrMsg ng-class=\\\"{'has-error': step6Form.accountNumber.$invalid}\\\"> <validation-msg ng-if=\\\"step6Form.accountNumber.$error.required && (step6Form.accountNumber.$touched || $ctrl.submitted)\\\"> Please enter Account Number. </validation-msg> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE != 'Supplementary Card'\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label id=bizNatureLbl for=business>Nature of business</label> <div ng-class=\\\"{'has-error': step6Form.business.$invalid && (step6Form.business.$touched || $ctrl.submitted)}\\\"> <custom-select> <select id=business name=business class=form-control ng-change=$ctrl.resetOtherBiz() ng-model=$ctrl.model.selectedBusiness ng-options=\\\"item for item in $ctrl.business\\\" aria-describedby=bizNatureErrMsg aria-invalid=\\\"{{step6Form.business.$invalid && (step6Form.business.$touched || $ctrl.submitted)}}\\\" ng-disabled=$ctrl.hprDisabledFields required> <option value=\\\"\\\">Please select</option> </select> </custom-select> </div> <div id=bizNatureErrMsg ng-class=\\\"{'has-error': step6Form.business.$invalid && (step6Form.business.$touched || $ctrl.submitted)}\\\" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if=\\\"step6Form.business.$error.required && (step6Form.business.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.selectBusinessNature}} </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"$ctrl.model.empType=='Self-Employed' && $ctrl.cardTypeAE != 'Supplementary Card' && ($ctrl.selectedCard.key=='SVC' || $ctrl.selectedCard.key =='HPR')\\\"> <div class=\\\"form-group line-spacer\\\"> <label id=gstNumberLbl for=gstNumber>GST Number</label> <div ng-class=\\\"{'has-error': step6Form.gstNumber.$invalid && (step6Form.gstNumber.$touched || $ctrl.submitted)}\\\"> <input type=text id=gstNumber name=gstNumber class=form-control trim auto-caps alpha-num=15 ng-model=$ctrl.model.gstNumber aria-describedby=gstNumberErrMsg ng-pattern=/^(\\\\d{2})([a-zA-Z]{5})(\\\\d{4})([a-zA-Z]{1})(\\\\d{1})([a-zA-Z]{1})([a-zA-Z0-9]{1})$/ maxlength=15 placeholder=\\\"As per Gst Number\\\" required aria-invalid=\\\"{{step6Form.gstNumberErrMsg.$invalid && ($ctrl.submitted || step6Form.gstNumberErrMsg.$touched)}}\\\"> </div> <div id=gstNumberErrMsg ng-class=\\\"{'has-error': step6Form.gstNumber.$invalid && (step6Form.gstNumber.$touched || $ctrl.submitted)}\\\" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if=\\\"step6Form.gstNumber.$error.required && (step6Form.gstNumber.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.enterGSTNumber}} </validation-msg> <validation-msg ng-if=\\\"step6Form.gstNumber.$error.pattern && step6Form.gstNumber.$touched\\\"> {{$ctrl.errorMessages.invalidGSTNumber}} </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"$ctrl.model.selectedBusiness === 'Others'\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=otherBusiness>Please specify </label> <div ng-class=\\\"{'has-error': step6Form.otherBusiness.$invalid && ($ctrl.submitted || step6Form.otherBusiness.$touched)}\\\"> <input trim type=text id=otherBusiness name=otherBusiness aria-describedby=otherBizErrMsg class=form-control alpha-space=50 ng-pattern=\\\"/^[a-zA-Z ]*$/\\\" onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-maxlength=50 ng-model=$ctrl.model.otherBusiness ng-required=\\\"$ctrl.model.selectedBusiness=='Others'\\\" aria-invalid=\\\"{{step6Form.otherBusiness.$invalid && ($ctrl.submitted || step6Form.otherBusiness.$touched)}}\\\" ng-disabled=$ctrl.hprDisabledFields> </div> <div id=otherBizErrMsg ng-class=\\\"{'has-error': step6Form.otherBusiness.$invalid && ($ctrl.submitted || step6Form.otherBusiness.$touched)}\\\"> <validation-msg ng-if=\\\"step6Form.otherBusiness.$error.required && (step6Form.otherBusiness.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.enterSpecificBusinessNature}} </validation-msg> <validation-msg ng-if=\\\"step6Form.otherBusiness.$error.maxlength && (step6Form.otherBusiness.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.upperLimitSpecificBusinessNature}} </validation-msg> <validation-msg ng-if=\\\"step6Form.otherBusiness.$error.pattern && (step6Form.otherBusiness.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.invalidSpecificBusinessNature}} </validation-msg> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE == 'Supplementary Card'\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label id=bizNatureLbl for=business>Nature of business(Optional)</label> <div> <custom-select> <select id=business name=business class=form-control ng-change=$ctrl.resetOtherBiz() ng-model=$ctrl.model.selectedBusiness ng-options=\\\"item for item in $ctrl.business\\\" required> <option value=\\\"\\\">Please select</option> </select> </custom-select> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"$ctrl.model.selectedBusiness === 'Others'\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=otherBusiness>Please specify </label> <div ng-class=\\\"{'has-error': step6Form.otherBusiness.$invalid && ($ctrl.submitted || step6Form.otherBusiness.$touched)}\\\"> <input trim type=text id=otherBusiness name=otherBusiness aria-describedby=otherBizErrMsg class=form-control alpha-space=50 ng-pattern=\\\"/^[a-zA-Z ]*$/\\\" onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-maxlength=50 ng-model=$ctrl.model.otherBusiness ng-required=\\\"$ctrl.model.selectedBusiness=='Others'\\\" aria-invalid=\\\"{{step6Form.otherBusiness.$invalid && ($ctrl.submitted || step6Form.otherBusiness.$touched)}}\\\"> </div> <div id=otherBizErrMsg ng-class=\\\"{'has-error': step6Form.otherBusiness.$invalid && ($ctrl.submitted || step6Form.otherBusiness.$touched)}\\\"> <validation-msg ng-if=\\\"step6Form.otherBusiness.$error.required && (step6Form.otherBusiness.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.enterSpecificBusinessNature}} </validation-msg> <validation-msg ng-if=\\\"step6Form.otherBusiness.$error.maxlength && (step6Form.otherBusiness.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.upperLimitSpecificBusinessNature}} </validation-msg> <validation-msg ng-if=\\\"step6Form.otherBusiness.$error.pattern && (step6Form.otherBusiness.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.invalidSpecificBusinessNature}} </validation-msg> </div> </div> </div> </div> <div class=row ng-if=\\\"($ctrl.model.empType=='Employed (salaried)' && $ctrl.cardTypeAE != 'Supplementary Card') || ($ctrl.selectedCard.key=='HPR' && $ctrl.cardTypeAE != 'Supplementary Card') || ($ctrl.selectedCard.key=='SVC' && $ctrl.cardTypeAE != 'Supplementary Card')\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label id=orgNatureLbl for=org>Nature of organisation</label> <div ng-class=\\\"{'has-error': step6Form.org.$invalid && (step6Form.org.$touched || $ctrl.submitted)}\\\"> <custom-select> <select id=org name=org class=form-control ng-change=$ctrl.resetOtherOrg() ng-model=$ctrl.model.selectedOrganisation ng-options=\\\"item for item in $ctrl.org\\\" aria-describedby=orgNatureErrMsg aria-invalid=\\\"{{step6Form.org.$invalid && (step6Form.org.$touched || $ctrl.submitted)}}\\\" ng-disabled=$ctrl.hprDisabledFields required> <option value=\\\"\\\">Please select</option> </select> </custom-select> </div> <div id=orgNatureErrMsg ng-class=\\\"{'has-error': step6Form.org.$invalid && (step6Form.org.$touched || $ctrl.submitted)}\\\" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if=\\\"step6Form.org.$error.required && (step6Form.org.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.selectOrganisationNature}} </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"$ctrl.model.selectedOrganisation === 'Others'\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=otherOrg>Please specify</label> <div ng-class=\\\"{'has-error': step6Form.otherOrg.$invalid && ($ctrl.submitted || step6Form.otherOrg.$touched)}\\\"> <input trim type=text id=otherOrg name=otherOrg aria-describedby=otherOrgErrMsg class=form-control alpha-space=50 ng-pattern=\\\"/^[a-zA-Z ]*$/\\\" onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-maxlength=50 ng-model=$ctrl.model.otherOrg ng-required=\\\"$ctrl.model.selectedOrganisation=='Others'\\\" aria-invalid=\\\"{{step6Form.otherOrg.$invalid && ($ctrl.submitted || step6Form.otherOrg.$touched)}}\\\" ng-disabled=$ctrl.hprDisabledFields> </div> <div id=otherOrgErrMsg ng-class=\\\"{'has-error': step6Form.otherOrg.$invalid && ($ctrl.submitted || step6Form.otherOrg.$touched)}\\\"> <validation-msg ng-if=\\\"step6Form.otherOrg.$error.required && ($ctrl.submitted || step6Form.otherOrg.$touched)\\\"> {{$ctrl.errorMessages.enterSpecificOrganisationNature}} </validation-msg> <validation-msg ng-if=\\\"(step6Form.otherOrg.$error.maxlength && !step6Form.otherOrg.$error.pattern) && ($ctrl.submitted || step6Form.otherOrg.$touched)\\\"> {{$ctrl.errorMessages.upperLimitSpecificOrganisationNature}} </validation-msg> <validation-msg ng-if=\\\"step6Form.otherOrg.$error.pattern && ($ctrl.submitted || step6Form.otherOrg.$touched)\\\"> {{$ctrl.errorMessages.invalidSpecificOrganisationNature}} </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"$ctrl.model.empType=='Self-Employed' && $ctrl.cardTypeAE != 'Supplementary Card' && ($ctrl.selectedCard.key=='SVC' || $ctrl.selectedCard.key =='HPR')\\\"> <div class=\\\"form-group line-spacer\\\"> <label id=businessPanNumberLbl for=businessPanNumber>Business PAN Number </label> <div ng-class=\\\"{'has-error': step6Form.businessPanNumber.$invalid && (step6Form.businessPanNumber.$touched || $ctrl.submitted)}\\\"> <input type=text id=businessPanNumber name=businessPanNumber class=form-control trim auto-caps alpha-num=10 ng-model=$ctrl.model.businessPanNumber aria-describedby=businessPanNumberErrMsg ng-pattern=/^([a-zA-Z]{5})(\\\\d{4})([a-zA-Z]{1})$/ maxlength=10 placeholder=\\\"As per Business ID\\\" aria-invalid=\\\"{{step6Form.businessPanNumber.$invalid && ($ctrl.submitted || step6Form.businessPanNumber.$touched)}}\\\"> </div> <div id=businessPanNumberErrMsg ng-class=\\\"{'has-error': step6Form.businessPanNumber.$invalid && (step6Form.businessPanNumber.$touched || $ctrl.submitted)}\\\" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if=\\\"step6Form.businessPanNumber.$error.pattern && step6Form.businessPanNumber.$touched\\\"> {{$ctrl.errorMessages.invalidBusinessPAN}} </validation-msg> </div> </div> </div> </div> <div class=row ng-if=\\\"($ctrl.model.empType=='Employed (salaried)' && $ctrl.cardTypeAE == 'Supplementary Card') || ($ctrl.selectedCard.key=='HPR' && $ctrl.cardTypeAE == 'Supplementary Card')\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label id=orgNatureLbl for=org>Nature of organisation(Optional)</label> <div> <custom-select> <select id=org name=org class=form-control ng-change=$ctrl.resetOtherOrg() ng-model=$ctrl.model.selectedOrganisation ng-options=\\\"item for item in $ctrl.org\\\"> <option value=\\\"\\\">Please select</option> </select> </custom-select> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"$ctrl.model.selectedOrganisation === 'Others'\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=otherOrg>Please specify</label> <div ng-class=\\\"{'has-error': step6Form.otherOrg.$invalid && ($ctrl.submitted || step6Form.otherOrg.$touched)}\\\"> <input trim type=text id=otherOrg name=otherOrg aria-describedby=otherOrgErrMsg class=form-control alpha-space=50 ng-pattern=\\\"/^[a-zA-Z ]*$/\\\" onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-maxlength=50 ng-model=$ctrl.model.otherOrg ng-required=\\\"$ctrl.model.selectedOrganisation=='Others'\\\" aria-invalid=\\\"{{step6Form.otherOrg.$invalid && ($ctrl.submitted || step6Form.otherOrg.$touched)}}\\\"> </div> <div id=otherOrgErrMsg ng-class=\\\"{'has-error': step6Form.otherOrg.$invalid && ($ctrl.submitted || step6Form.otherOrg.$touched)}\\\"> <validation-msg ng-if=\\\"step6Form.otherOrg.$error.required && ($ctrl.submitted || step6Form.otherOrg.$touched)\\\"> {{$ctrl.errorMessages.enterSpecificOrganisationNature}} </validation-msg> <validation-msg ng-if=\\\"(step6Form.otherOrg.$error.maxlength && !step6Form.otherOrg.$error.pattern) && ($ctrl.submitted || step6Form.otherOrg.$touched)\\\"> {{$ctrl.errorMessages.upperLimitSpecificOrganisationNature}} </validation-msg> <validation-msg ng-if=\\\"step6Form.otherOrg.$error.pattern && ($ctrl.submitted || step6Form.otherOrg.$touched)\\\"> {{$ctrl.errorMessages.invalidSpecificOrganisationNature}} </validation-msg> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.model.empType === 'Self-employed'\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label id=firmLbl for=firm>Your firm is </label> <div ng-class=\\\"{'has-error': step6Form.firm.$invalid && (step6Form.firm.$touched || $ctrl.submitted)}\\\"> <custom-select> <select id=firm name=firm class=form-control ng-model=$ctrl.model.selectedFirm ng-options=\\\"item for item in $ctrl.firm\\\" aria-describedby=firmTypeErrMsg aria-invalid=\\\"{{step6Form.firm.$invalid && (step6Form.firm.$touched || $ctrl.submitted)}}\\\" required> <option value=\\\"\\\">Please select</option> </select> </custom-select> </div> <div id=firmTypeErrMsg ng-class=\\\"{'has-error': step6Form.firm.$invalid && (step6Form.firm.$touched || $ctrl.submitted)}\\\"> <validation-msg ng-if=\\\"step6Form.firm.$error.required && (step6Form.firm.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.selectFirmType}} </validation-msg> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE != 'Supplementary Card' && $ctrl.model.empType != 'Self-Employed'\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=designation>Designation</label> <div ng-class=\\\"{'has-error': step6Form.designation.$invalid && ($ctrl.submitted || step6Form.designation.$touched)}\\\"> <input trim type=text id=designation name=designation aria-describedby=designationErrMsg class=form-control address-chars=20 onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-maxlength=20 ng-model=$ctrl.model.designation aria-invalid=\\\"{{step6Form.designation.$invalid && ($ctrl.submitted || step6Form.designation.$touched)}}\\\" ng-disabled=$ctrl.hprDisabledFields required> </div> <div id=designationErrMsg ng-class=\\\"{'has-error': (step6Form.designation.$invalid)}\\\"> <validation-msg ng-if=\\\"(step6Form.designation.$error.required && step6Form.designation.$touched) ||(step6Form.designation.$error.required && $ctrl.submitted)\\\"> {{$ctrl.errorMessages.enterdesignation}} </validation-msg> <validation-msg ng-if=\\\"step6Form.designation.$error.maxlength && !step6Form.designation.$error.pattern\\\"> {{$ctrl.errorMessages.upperLimitdesignation}} </validation-msg> <validation-msg ng-if=step6Form.designation.$error.pattern> {{$ctrl.errorMessages.invaliddesignation}} </validation-msg> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE != 'Supplementary Card' && $ctrl.model.empType == 'Self-Employed' && $ctrl.selectedCard.key =='SVC'\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=designation>Designation</label> <div ng-class=\\\"{'has-error': step6Form.designation.$invalid && ($ctrl.submitted || step6Form.designation.$touched)}\\\"> <input trim type=text id=designation name=designation aria-describedby=designationErrMsg class=form-control address-chars=20 onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-maxlength=20 ng-model=$ctrl.model.designation aria-invalid=\\\"{{step6Form.designation.$invalid && ($ctrl.submitted || step6Form.designation.$touched)}}\\\" ng-disabled=$ctrl.hprDisabledFields required> </div> <div id=designationErrMsg ng-class=\\\"{'has-error': (step6Form.designation.$invalid)}\\\"> <validation-msg ng-if=\\\"(step6Form.designation.$error.required && step6Form.designation.$touched) ||(step6Form.designation.$error.required && $ctrl.submitted)\\\"> {{$ctrl.errorMessages.enterdesignation}} </validation-msg> <validation-msg ng-if=\\\"step6Form.designation.$error.maxlength && !step6Form.designation.$error.pattern\\\"> {{$ctrl.errorMessages.upperLimitdesignation}} </validation-msg> <validation-msg ng-if=step6Form.designation.$error.pattern> {{$ctrl.errorMessages.invaliddesignation}} </validation-msg> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE == 'Supplementary Card' || $ctrl.model.empType == 'Self-Employed' && $ctrl.selectedCard.key !='SVC'\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=designation>Designation(Optional)</label> <div> <input trim type=text id=designation name=designation class=form-control address-chars=20 ng-model=$ctrl.model.designation> </div> </div> </div> </div> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <hr class=\\\"line-spacer no-margin-bottom\\\"> </div> </div> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <h2 class=brand-bar>Office address</h2> </div> </div> <div class=row> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=form-group> <label id=officeCountryLbl for=country>Country</label> <div ng-class=\\\"{'has-error': step6Form.country.$invalid && (step6Form.country.$touched || $ctrl.submitted)}\\\"> <ui-select id=country input-id=country name=country aria-label=\\\"country {{$select.selected.countryName}}\\\" aria-describedby=officeCountryErrMsg ng-model=$ctrl.model.selectedCountry theme=bootstrap ng-disabled=true aria-invalid=\\\"{{step6Form.country.$invalid && (step6Form.country.$touched || $ctrl.submitted)}}\\\" required> <ui-select-match placeholder=\\\"Please select\\\"> <div class=\\\"flag {{$select.selected.countryCode.toLocaleLowerCase()}}\\\" style=background-image:url(resources/images/country-flags-sprite.png) ng-if=\\\"$select.selected.countryCode != -1\\\"></div> {{$select.selected.countryName}} </ui-select-match> <ui-select-choices repeat=\\\"item in $ctrl.countries | filter: $select.search\\\"> <div class=\\\"flag {{item.countryCode.toLocaleLowerCase()}}\\\" style=background-image:url(resources/images/country-flags-sprite.png) ng-if=\\\"item.countryCode != -1\\\"></div> <span ng-bind-html=\\\"item.countryName | highlight: $select.search\\\"></span> </ui-select-choices> <ui-select-no-choice> We couldn't find any choices... </ui-select-no-choice> </ui-select> </div> <div id=officeCountryErrMsg ng-class=\\\"{'has-error': step6Form.country.$invalid && (step6Form.country.$touched || $ctrl.submitted)}\\\"> <validation-msg ng-if=\\\"step6Form.country.$error.required && (step6Form.country.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.selectCountry}} </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"$ctrl.cardTypeAE != 'Supplementary Card' && $ctrl.model.empType != 'Self-Employed'\\\"> <div class=\\\"form-group line-spacer-xs\\\"> <div> <label id=companyLbl for=companyName>Company name </label> <a ng-if=$ctrl.showChangeCompanyToggle tabindex=0 aria-label=\\\"tooltip Please deselect checkbox if you do not want to change the Company Name.\\\" uib-popover=\\\"Please deselect checkbox if you do not want to change the Company Name.\\\" popover-placement=auto popover-trigger=\\\"'mouseenter focus'\\\" class=\\\"icon icon-circle-info\\\"></a> </div> <div ng-class=\\\"{'has-error': step6Form.companyName.$invalid && (step6Form.companyName.$touched || $ctrl.submitted)}\\\"> <ui-select id=companyName input-id=companyName name=companyName aria-label=\\\"company name {{$select.selected}}\\\" aria-describedby=companyNameErrMsg class=companyName ui-select-limit=80 ng-disabled=\\\"$ctrl.disableCompany || $ctrl.hprDisabledFields\\\" ng-model=$ctrl.model.companyName theme=bootstrap aria-invalid=\\\"{{step6Form.companyName.$invalid && (step6Form.companyName.$touched || $ctrl.submitted)}}\\\" required> <ui-select-match placeholder=\\\"Search a company\\\">{{$select.selected}}</ui-select-match> <ui-select-choices refresh=$ctrl.fetch($select) refresh-delay=300 repeat=\\\"company in $ctrl.companyNames | filter: $select.search | limitTo: 150\\\"> <div ng-bind=company></div> </ui-select-choices> <ui-select-no-choice> <validation-msg class=has-error ng-if=\\\"$select.search && $select.search.length < 3\\\"> Please enter at least 3 characters </validation-msg> <br> </ui-select-no-choice> </ui-select> </div> <div id=companyNameErrMsg ng-class=\\\"{'has-error': step6Form.companyName.$invalid && (step6Form.companyName.$touched || $ctrl.submitted)}\\\"> <validation-msg ng-if=\\\"step6Form.companyName.$error.required && (step6Form.companyName.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.enterCompanyName}} </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"$ctrl.cardTypeAE != 'Supplementary Card' && $ctrl.model.empType == 'Self-Employed' && $ctrl.selectedCard.key =='SVC'\\\"> <div class=\\\"form-group line-spacer-xs\\\"> <div> <label id=companyLbl for=companyName>Company name </label> <a ng-if=$ctrl.showChangeCompanyToggle tabindex=0 aria-label=\\\"tooltip Please deselect checkbox if you do not want to change the Company Name.\\\" uib-popover=\\\"Please deselect checkbox if you do not want to change the Company Name.\\\" popover-placement=auto popover-trigger=\\\"'mouseenter focus'\\\" class=\\\"icon icon-circle-info\\\"></a> </div> <div ng-class=\\\"{'has-error': step6Form.companyName.$invalid && (step6Form.companyName.$touched || $ctrl.submitted)}\\\"> <ui-select id=companyName input-id=companyName name=companyName aria-label=\\\"company name {{$select.selected}}\\\" aria-describedby=companyNameErrMsg class=companyName ui-select-limit=80 ng-disabled=\\\"$ctrl.disableCompany || $ctrl.hprDisabledFields\\\" ng-model=$ctrl.model.companyName theme=bootstrap aria-invalid=\\\"{{step6Form.companyName.$invalid && (step6Form.companyName.$touched || $ctrl.submitted)}}\\\" required> <ui-select-match placeholder=\\\"Search a company\\\">{{$select.selected}}</ui-select-match> <ui-select-choices refresh=$ctrl.fetch($select) refresh-delay=300 repeat=\\\"company in $ctrl.companyNames | filter: $select.search | limitTo: 150\\\"> <div ng-bind=company></div> </ui-select-choices> <ui-select-no-choice> <validation-msg class=has-error ng-if=\\\"$select.search && $select.search.length < 3\\\"> Please enter at least 3 characters </validation-msg> <br> </ui-select-no-choice> </ui-select> </div> <div id=companyNameErrMsg ng-class=\\\"{'has-error': step6Form.companyName.$invalid && (step6Form.companyName.$touched || $ctrl.submitted)}\\\"> <validation-msg ng-if=\\\"step6Form.companyName.$error.required && (step6Form.companyName.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.enterCompanyName}} </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=\\\"$ctrl.cardTypeAE == 'Supplementary Card' || $ctrl.model.empType == 'Self-Employed' && $ctrl.selectedCard.key !='SVC'\\\"> <div class=\\\"form-group line-spacer-xs\\\"> <div> <label id=companyLbl for=companyName>Company name(Optional)</label> <a ng-if=$ctrl.showChangeCompanyToggle tabindex=0 aria-label=\\\"tooltip Please deselect checkbox if you do not want to change the Company Name.\\\" uib-popover=\\\"Please deselect checkbox if you do not want to change the Company Name.\\\" popover-placement=auto popover-trigger=\\\"'mouseenter focus'\\\" class=\\\"icon icon-circle-info\\\"></a> </div> <div> <ui-select id=companyName input-id=companyName name=companyName aria-label=\\\"company name {{$select.selected}}\\\" class=companyName ui-select-limit=80 ng-disabled=$ctrl.disableCompany ng-model=$ctrl.model.companyName theme=bootstrap> <ui-select-match placeholder=\\\"Search a company\\\">{{$select.selected}}</ui-select-match> <ui-select-choices refresh=$ctrl.fetch($select) refresh-delay=300 repeat=\\\"company in $ctrl.companyNames | filter: $select.search | limitTo: 150\\\"> <div ng-bind=company></div> </ui-select-choices> <ui-select-no-choice> <validation-msg class=has-error ng-if=\\\"$select.search && $select.search.length < 3\\\"> Please enter at least 3 characters </validation-msg> <br> </ui-select-no-choice> </ui-select> </div> </div> </div> </div> <div class=row ng-if=$ctrl.showChangeCompanyToggle> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <input type=checkbox id=changeCompanyChk name=changeCompanyChk class=screen-reader-only ng-model=$ctrl.model.changedCompanyName ng-focus=\\\"$ctrl.hasChkFocus = true;\\\" ng-blur=\\\"$ctrl.hasChkFocus = false;\\\" ng-change=$ctrl.changeCompanyName()> <label for=changeCompanyChk class=checkbox-label ng-class=\\\"{'focus': $ctrl.hasChkFocus}\\\">I wish to change the prefilled company name above, and will provide proof of income.</label> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE != 'Supplementary Card' && $ctrl.model.empType != 'Self-Employed'\\\"> <div class=\\\"col-md-8 col-sm-12 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=companyAddress>Company address</label> <div ng-class=\\\"{'has-error': step6Form.companyAddress.$invalid && ($ctrl.submitted || step6Form.companyAddress.$touched)}\\\"> <input trim type=text id=companyAddress name=companyAddress aria-describedby=compAddressErrMsg address-chars=105 class=form-control onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-pattern=/^([0-9a-zA-Z]{1,}|[\\\\s]{1}[0-9a-zA-Z]{1,})*$/ ng-maxlength=105 ng-model=$ctrl.model.companyAddress aria-invalid=\\\"{{step6Form.companyAddress.$invalid && ($ctrl.submitted || step6Form.companyAddress.$touched)}}\\\" ng-disabled=$ctrl.hprDisabledFields required> </div> <div id=compAddressErrMsg ng-class=\\\"{'has-error': (step6Form.companyAddress.$invalid)}\\\" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if=\\\"step6Form.companyAddress.$error.required &&(step6Form.companyAddress.$touched || $ctrl.submitted)\\\"> </validation-msg> <validation-msg ng-if=\\\"step6Form.companyAddress.$error.maxlength && !step6Form.companyAddress.$error.pattern\\\"> {{$ctrl.errorMessages.upperLimitCompanyAddress}} </validation-msg> <validation-msg ng-if=\\\"step6Form.companyAddress.$error.pattern && ($ctrl.submitted || step6Form.companyAddress.$touched)\\\"> Please do not enter any special characters. </validation-msg> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE != 'Supplementary Card' && $ctrl.model.empType == 'Self-Employed' && $ctrl.selectedCard.key =='SVC'\\\"> <div class=\\\"col-md-8 col-sm-12 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=companyAddress>Company address</label> <div ng-class=\\\"{'has-error': step6Form.companyAddress.$invalid && ($ctrl.submitted || step6Form.companyAddress.$touched)}\\\"> <input trim type=text id=companyAddress name=companyAddress aria-describedby=compAddressErrMsg address-chars=105 class=form-control onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-pattern=/^([0-9a-zA-Z]{1,}|[\\\\s]{1}[0-9a-zA-Z]{1,})*$/ ng-maxlength=105 ng-model=$ctrl.model.companyAddress aria-invalid=\\\"{{step6Form.companyAddress.$invalid && ($ctrl.submitted || step6Form.companyAddress.$touched)}}\\\" ng-disabled=$ctrl.hprDisabledFields required> </div> <div id=compAddressErrMsg ng-class=\\\"{'has-error': (step6Form.companyAddress.$invalid)}\\\" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if=\\\"step6Form.companyAddress.$error.required &&(step6Form.companyAddress.$touched || $ctrl.submitted)\\\"> </validation-msg> <validation-msg ng-if=\\\"step6Form.companyAddress.$error.maxlength && !step6Form.companyAddress.$error.pattern\\\"> {{$ctrl.errorMessages.upperLimitCompanyAddress}} </validation-msg> <validation-msg ng-if=\\\"step6Form.companyAddress.$error.pattern && ($ctrl.submitted || step6Form.companyAddress.$touched)\\\"> Please do not enter any special characters. </validation-msg> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE == 'Supplementary Card' || $ctrl.model.empType == 'Self-Employed' && $ctrl.selectedCard.key !='SVC'\\\"> <div class=\\\"col-md-8 col-sm-12 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=companyAddress>Company address(Optional)</label> <div> <input trim type=text id=companyAddress name=companyAddress address-chars=105 class=form-control onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-pattern=/^([0-9a-zA-Z]{1,}|[\\\\s]{1}[0-9a-zA-Z]{1,})*$/ ng-maxlength=105 ng-model=$ctrl.model.companyAddress> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE != 'Supplementary Card' && $ctrl.model.empType != 'Self-Employed'\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=officePostalCode>Pin/Postal code</label> <div ng-class=\\\"{'has-error': step6Form.postalCode.$invalid && (step6Form.postalCode.$touched || $ctrl.submitted || step6Form.postalCode.$error.invalid)}\\\"> <input type=tel id=officePostalCode name=postalCode aria-describedby=officePostalCodeErrMsg class=form-control ng-model=$ctrl.model.postalCode trim only-number=6 ng-minlength=6 ng-keyup=$ctrl.getAddressByPinCode($event) aria-invalid=\\\"{{step6Form.postalCode.$invalid && (step6Form.postalCode.$touched || $ctrl.submitted || step6Form.postalCode.$error.invalid)}}\\\" ng-disabled=$ctrl.hprDisabledFields required> </div> <div id=officePostalCodeErrMsg ng-class=\\\"{'has-error': step6Form.postalCode.$invalid}\\\" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if=\\\"step6Form.postalCode.$error.required && (step6Form.postalCode.$touched || $ctrl.submitted)\\\"> Please enter your PIN code to continue with your application. </validation-msg> <validation-msg ng-if=\\\"step6Form.postalCode.$error.minlength && (step6Form.postalCode.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.lowerLimitPostalCode}} </validation-msg> <validation-msg ng-if=\\\"step6Form.postalCode.$error.invalid && !step6Form.postalCode.$error.required && !step6Form.postalCode.$error.minlength && !$ctrl.isStaffJourney\\\"> Please enter a valid pin code to continue with your application. </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=officeCity>City/District</label> <div ng-class=\\\"{'has-error': step6Form.city.$invalid && ($ctrl.submitted || step6Form.city.$touched)}\\\"> <input trim type=text id=officeCity name=city aria-describedby=officeCityErrMsg alpha-space=20 class=form-control onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-model=$ctrl.model.city aria-invalid=\\\"{{step6Form.city.$invalid && ($ctrl.submitted || step6Form.city.$touched)}}\\\" ng-disabled=\\\"!$ctrl.isStaffJourney || $ctrl.hprDisabledFields\\\" required> </div> <div id=officeCityErrMsg ng-class=\\\"{'has-error': step6Form.city.$invalid}\\\" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if=\\\"step6Form.city.$error.required && ($ctrl.submitted || step6Form.city.$touched)\\\"> Please enter your city/district to continue with your application. </validation-msg> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE != 'Supplementary Card' && $ctrl.model.empType == 'Self-Employed' && $ctrl.selectedCard.key =='SVC'\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=officePostalCode>Pin/Postal code</label> <div ng-class=\\\"{'has-error': step6Form.postalCode.$invalid && (step6Form.postalCode.$touched || $ctrl.submitted || step6Form.postalCode.$error.invalid)}\\\"> <input type=tel id=officePostalCode name=postalCode aria-describedby=officePostalCodeErrMsg class=form-control ng-model=$ctrl.model.postalCode trim only-number=6 ng-minlength=6 ng-keyup=$ctrl.getAddressByPinCode($event) aria-invalid=\\\"{{step6Form.postalCode.$invalid && (step6Form.postalCode.$touched || $ctrl.submitted || step6Form.postalCode.$error.invalid)}}\\\" ng-disabled=$ctrl.hprDisabledFields required> </div> <div id=officePostalCodeErrMsg ng-class=\\\"{'has-error': step6Form.postalCode.$invalid}\\\" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if=\\\"step6Form.postalCode.$error.required && (step6Form.postalCode.$touched || $ctrl.submitted)\\\"> Please enter your PIN code to continue with your application. </validation-msg> <validation-msg ng-if=\\\"step6Form.postalCode.$error.minlength && (step6Form.postalCode.$touched || $ctrl.submitted)\\\"> {{$ctrl.errorMessages.lowerLimitPostalCode}} </validation-msg> <validation-msg ng-if=\\\"step6Form.postalCode.$error.invalid && !step6Form.postalCode.$error.required && !step6Form.postalCode.$error.minlength && !$ctrl.isStaffJourney\\\"> Please enter a valid pin code to continue with your application. </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=officeCity>City/District</label> <div ng-class=\\\"{'has-error': step6Form.city.$invalid && ($ctrl.submitted || step6Form.city.$touched)}\\\"> <input trim type=text id=officeCity name=city aria-describedby=officeCityErrMsg alpha-space=20 class=form-control onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-model=$ctrl.model.city aria-invalid=\\\"{{step6Form.city.$invalid && ($ctrl.submitted || step6Form.city.$touched)}}\\\" ng-disabled=\\\"!$ctrl.isStaffJourney || $ctrl.hprDisabledFields\\\" required> </div> <div id=officeCityErrMsg ng-class=\\\"{'has-error': step6Form.city.$invalid}\\\" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if=\\\"step6Form.city.$error.required && ($ctrl.submitted || step6Form.city.$touched)\\\"> Please enter your city/district to continue with your application. </validation-msg> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE == 'Supplementary Card' || $ctrl.model.empType == 'Self-Employed' && $ctrl.selectedCard.key !='SVC'\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=officePostalCode>Pin/Postal code(Optional) </label> <div> <input type=tel id=officePostalCode name=postalCode class=form-control ng-model=$ctrl.model.postalCode trim only-number=6 ng-minlength=6 ng-keyup=$ctrl.getAddressByPinCode($event)> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=officeCity>City/District(Optional)</label> <div> <input trim type=text id=officeCity name=city alpha-space=20 class=form-control onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-model=$ctrl.model.city ng-disabled=!$ctrl.isStaffJourney> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE != 'Supplementary Card' && ($ctrl.model.empType != 'Self-Employed' || ($ctrl.model.empType == 'Self-Employed' && $ctrl.selectedCard.key =='SVC'))\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=officeState>State</label> <div ng-class=\\\"{'has-error': step6Form.state.$invalid && ($ctrl.submitted || step6Form.state.$touched)}\\\"> <input trim type=text alpha-space=20 id=officeState name=state aria-describedby=officeStateErrMsg class=form-control onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-model=$ctrl.model.state aria-invalid=\\\"{{step6Form.state.$invalid && ($ctrl.submitted || step6Form.state.$touched)}}\\\" ng-disabled=\\\"!$ctrl.isStaffJourney || $ctrl.hprDisabledFields\\\" required> </div> <div id=officeStateErrMsg ng-class=\\\"{'has-error': step6Form.state.$invalid}\\\" ng-if=!$ctrl.hprDisabledFields> <validation-msg ng-if=\\\"step6Form.state.$error.required && ($ctrl.submitted || step6Form.state.$touched)\\\"> Please enter your State to continue with your application. </validation-msg> </div> </div> </div> <div class=row ng-if=\\\"($ctrl.model.empType != 'Self-Employed' || ($ctrl.model.empType == 'Self-Employed' && $ctrl.selectedCard.key =='SVC'))\\\"> <div class=\\\"col-md-6 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=officeEmailId>Office E-mail address</label> <div ng-class=\\\"{'has-error': step6Form.officeEmailId.$invalid && (step6Form.officeEmailId.$touched || $ctrl.submitted)}\\\"> <input type=text id=officeEmailId name=officeEmailId class=form-control ng-model=$ctrl.model.officeEmailId trim email-chars=39 ng-maxlength=39 placeholder=sample@abc.com ng-pattern=/^[_a-zA-Z0-9]+((\\\\.|\\\\-)[_a-zA-Z0-9]+)*@[a-zA-Z0-9-]+(\\\\.[a-zA-Z0-9-]+)*(\\\\.[a-zA-Z]{2,4})$/ aria-describedby=officeEmailIdErrMsg aria-invalid=\\\"{{(step6Form.officeEmailId.$invalid) &&  (step6Form.officeEmailId.$touched || $ctrl.submitted)}}\\\" ng-disabled=$ctrl.hprDisabledFields required> </div> <div id=officeEmailIdErrMsg ng-class=\\\"{'has-error': (step6Form.officeEmailId.$invalid)}\\\" ng-if=\\\"!$ctrl.hprDisabledFields && $ctrl.hprEmailMandate\\\"> <validation-msg ng-if=\\\"step6Form.officeEmailId.$error.required && (step6Form.officeEmailId.$touched || $ctrl.submitted)\\\"> Please enter your office e-mail address to continue with your application. </validation-msg> <validation-msg ng-if=\\\"step6Form.officeEmailId.$error.pattern && step6Form.officeEmailId.$touched\\\"> Your office e-mail address contains invalid characters. Please make sure you have entered a valid office e-mail address, e.g. johnsmith@email.com. </validation-msg> <validation-msg ng-if=\\\"(step6Form.officeEmailId.$error.maxlength && !step6Form.officeEmailId.$error.pattern)\\\"> Please enter a valid 39 character office e-mail address. </validation-msg> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.model.empType != 'Self-Employed' || $ctrl.model.empType == 'Self-Employed'\\\"> <div ng-class=\\\"{'col-md-5 col-sm-12 col-xs-12': $ctrl.isStaffJourney, 'col-md-8 col-sm-12 col-xs-12': !$ctrl.isStaffJourney}\\\"> <div class=\\\"form-group line-spacer\\\" role=group aria-labelledby=officePhoneLabel> <div id=officePhoneLabel class=control-label> Office number with extension (Optional) </div> <div class=office-phone-container> <div class=code-container> <label for=officeSTD class=screen-reader-only>Office number STD code</label> <div class=input-group ng-class=\\\"{'has-error': (step6Form.officeSTD.$invalid || step6Form.mobileNo.$invalid) && (step6Form.officeSTD.$touched && step6Form.mobileNo.$touched || $ctrl.submitted)}\\\"> <span class=input-group-addon id=countryCode aria-hidden=true tabindex=-1> <span class=\\\"flag in\\\" style=background-image:url(resources/images/country-flags-sprite.png)></span> +91</span> <input type=tel id=officeSTD name=officeSTD class=form-control ng-model=$ctrl.model.officeSTD onkeypress=\\\"if(0==this.value.length&&(48==event.which||32===event.charCode))return!1\\\" ng-keyup=$ctrl.validateOfficeNumber() ng-blur=$ctrl.validateOfficeNumber() trim number-std=3 ng-maxlength=3 placeholder=STD aria-label=\\\"office STD code\\\" aria-describedby=\\\"countryCode officePhoneErrMsg\\\" aria-invalid=\\\"{{(step6Form.officeSTD.$invalid || step6Form.mobileNo.$invalid) && (step6Form.officeSTD.$touched || step6Form.mobileNo.$touched || $ctrl.submitted)}}\\\"> </div> </div> <div class=\\\"separator hidden-xs\\\">-</div> <div class=number-container> <div class=number-box ng-class=\\\"{'has-error': (step6Form.officeSTD.$invalid || step6Form.mobileNo.$invalid) && (step6Form.officeSTD.$touched && step6Form.mobileNo.$touched || $ctrl.submitted)}\\\"> <label for=mobileNo class=screen-reader-only>Office phone number</label> <input trim type=tel id=mobileNo name=mobileNo class=\\\"form-control has-block\\\" ng-model=$ctrl.model.mobileNo onkeypress=\\\"if(0==this.value.length&&(48==event.which||32===event.charCode))return!1\\\" ng-keyup=$ctrl.validateOfficeNumber() ng-blur=$ctrl.validateOfficeNumber() only-number=8 ng-maxlength=8 placeholder=Phone aria-describedby=officePhoneErrMsg aria-invalid=\\\"{{(step6Form.officeSTD.$invalid || step6Form.mobileNo.$invalid) && (step6Form.officeSTD.$touched || step6Form.mobileNo.$touched || $ctrl.submitted)}}\\\"> </div> <div class=separator>-</div> <div class=ext-box> <label for=ext class=screen-reader-only>Office extension number</label> <input trim type=tel id=ext name=ext class=form-control ng-model=$ctrl.model.ext onkeypress=\\\"if(0==this.value.length&&(48==event.which||32===event.charCode))return!1\\\" number-std=5 ng-maxlength=5 placeholder=Ext aria-describedby=officePhoneErrMsg> </div> </div> </div> </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE == 'Supplementary Card' || $ctrl.model.empType == 'Self-Employed' && $ctrl.selectedCard.key !='SVC'\\\"> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=officeState>State(Optional)</label> <div> <input trim type=text alpha-space=20 id=officeState name=state class=form-control onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-model=$ctrl.model.state ng-disabled=!$ctrl.isStaffJourney> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.cardTypeAE == 'Supplementary Card'|| $ctrl.model.empType == 'Self-Employed' && $ctrl.selectedCard.key !='SVC'\\\"> <div class=\\\"col-md-6 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=officeEmailId>Office E-mail address(Optional)</label> <div> <input type=text id=officeEmailId name=officeEmailId class=form-control ng-model=$ctrl.model.officeEmailId trim email-chars=39 ng-maxlength=39 placeholder=sample@abc.com ng-pattern=/^[_a-zA-Z0-9]+((\\\\.|\\\\-)[_a-zA-Z0-9]+)*@[a-zA-Z0-9-]+(\\\\.[a-zA-Z0-9-]+)*(\\\\.[a-zA-Z]{2,4})$/ > </div> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.model.empType == 'Self-Employed'\\\"> <div ng-class=\\\"{'col-md-5 col-sm-12 col-xs-12': $ctrl.isStaffJourney, 'col-md-8 col-sm-12 col-xs-12': !$ctrl.isStaffJourney}\\\"> <div class=\\\"form-group line-spacer\\\" role=group aria-labelledby=officePhoneLabel> <div id=officePhoneLabel class=control-label> Office number with extension(Optional) </div> <div class=office-phone-container> <div class=code-container> <label for=officeSTD class=screen-reader-only>Office number STD code</label> <div class=input-group> <span class=input-group-addon id=countryCode aria-hidden=true tabindex=-1> <span class=\\\"flag in\\\" style=background-image:url(resources/images/country-flags-sprite.png)></span> +91</span> <input type=tel id=officeSTD name=officeSTD class=form-control ng-model=$ctrl.model.officeSTD trim number-std=3 ng-maxlength=3 placeholder=STD aria-label=\\\"office STD code\\\"> </div> </div> <div class=\\\"separator hidden-xs\\\">-</div> <div class=number-container> <div class=number-box> <label for=mobileNo class=screen-reader-only>Office phone number</label> <input trim type=tel id=mobileNo name=mobileNo class=\\\"form-control has-block\\\" ng-model=$ctrl.model.mobileNo only-number=8 ng-maxlength=8 placeholder=Phone> </div> <div class=separator>-</div> <div class=ext-box> <label for=ext class=screen-reader-only>Office extension number</label> <input trim type=tel id=ext name=ext class=form-control ng-model=$ctrl.model.ext number-std=5 ng-maxlength=5 placeholder=Ext> </div> </div> </div> </div> </div> </div> </div>  <step-footer show-back=true back-callback=$ctrl.goback() show-save=true save-callback=$ctrl.save() show-continue=true continue-button-id=continue-btn continue-disabled=false continue-callback=$ctrl.next(step6Form.$valid)> </step-footer> </form>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/journey/step6/step6.component.html\n// module id = ./src/app/components/journey/step6/step6.component.html\n// module chunks = 1","(function () {\r\n    'use strict';\r\n    var angular = require('angular');\r\n    require('./step6.component.service');\r\n    require('./step6.component.scss');\r\n    // require('../save-exit.modal/overlayConfirmation.modal.component.js');\r\n    require('./step6.modal/overlayStep6Confirmation.modal.component.js');\r\n    require('./card-swap-modal/card-swap.modal.component');\r\n\r\n    function step6Controller($scope, $q, $state, $filter, $timeout, step6Service, $uibModal, $anchorScroll, $rootScope, journeyService, analyticService, UtilService, appState) {\r\n        var vm = this, backupCompanyName;\r\n\r\n        vm.$onInit = function () {\r\n            $rootScope.$broadcast('hide-step-header', {\r\n                hideHeader: false\r\n            });\r\n            $rootScope.showSelectedCard = true;\r\n            $rootScope.showARN = false;\r\n            $rootScope.stepsHeader.currentStep = 2;\r\n            $scope.myVar = \"1\";\r\n            $scope.myMonth = \"00\";\r\n            $scope.myYear = \"00\";\r\n            vm.isStaffJourney = journeyService.isStaffJourney();\r\n            vm.relationWithBank = false;\r\n            vm.selectedCard = journeyService.getSelectedCard();\r\n            var contactData = appState.getContactDetails();\r\n            console.log(\"contactData\",contactData);\r\n            vm.relationWithBank = contactData.relationWithBank == \"Existing to Bank\";\r\n            console.log(\"ETB\", vm.relationWithBank);\r\n            vm.lengthOfStayMonths = step6Service.lengthOfStayMonths;\r\n            vm.lengthOfStayYears = step6Service.lengthOfStayYears;\r\n            vm.yy = ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15'];\r\n            vm.mm = ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11']\r\n            //vm.cardTypeAE=contactData.cardType;\r\n            // document.getElementById(\"grossIncome\").setAttribute('value', '10');\r\n            //update by yogesh\r\n            if (!vm.isStaffJourney) {\r\n                vm.cardTypeAE = \"Primary Card\";\r\n            } else {\r\n                vm.cardTypeAE = contactData.cardType;\r\n            }\r\n            //end by yogesh\r\n\r\n            vm.allCompanyNames = [];\r\n            vm.companyNames = [];\r\n            var promisses = [];\r\n            // promisses.push(journeyService.getBanks());\r\n            promisses.push(journeyService.getCountries());\r\n            promisses.push(journeyService.getErrorMessages());\r\n            promisses.push(step6Service.getBusinessTypes());\r\n            promisses.push(step6Service.getOrganizationTypes());\r\n            promisses.push(step6Service.getFirmTypes());\r\n            $q.all(promisses).then(function (responses) {\r\n                // vm.bankList = responses[0];\r\n                vm.countries = responses[0];\r\n                vm.errorMessages = responses[1].step6;\r\n                vm.business = responses[2];\r\n                vm.org = responses[3];\r\n                vm.firm = responses[4];\r\n\r\n                vm.model = {};\r\n                vm.model = step6Service.getUserDetails();\r\n                vm.model.companyName = appState.getEmployerName();\r\n                // console.log(\"vm.selectedCard --->\", vm.selectedCard.key);\r\n                vm.hprDisabledFields = false;\r\n                vm.hprEmailMandate = true;\r\n                if (vm.selectedCard.key == \"HPR\") {\r\n                    if (vm.model.empType == 'Employed (salaried)' || vm.model.empType == 'Self-Employed') {\r\n                        vm.hprDisabledFields = false;\r\n                       // vm.hprEmailMandate = false;\r\n                    } else {\r\n                        vm.hprDisabledFields = true;\r\n                       // vm.hprEmailMandate = false;\r\n                        vm.model.grossIncome = '1000';\r\n                        vm.model.year = vm.lengthOfStayYears[0].label;\r\n                        vm.model.month = vm.lengthOfStayMonths[0].label;\r\n                        vm.model.selectedBusiness = vm.business[9];\r\n                        vm.model.otherBusiness = 'Others';\r\n                        vm.model.selectedOrganisation = vm.org[8];\r\n                        vm.model.otherOrg = 'Others';\r\n                        vm.model.designation = vm.model.empType;\r\n                        vm.model.companyName = vm.model.empType;\r\n                    }\r\n                    vm.hprEmailMandate = false;\r\n                }\r\n                //console.log(\"hprDisabledFields --->\", vm.hprDisabledFields);\r\n                if (vm.model.perfiosCheck) {\r\n                    vm.disableGrossIncome = UtilService.isEmpty(vm.model.isAnnualIncomeDisabled) ? vm.model.grossIncome != null : vm.model.isAnnualIncomeDisabled === 'Y';\r\n                    backupCompanyName = vm.model.perfiosCompanyName;\r\n                    vm.disableCompany = vm.model.changedCompanyName ? false : vm.model.companyName != null;\r\n                    vm.showChangeCompanyToggle = backupCompanyName != null;//vm.model.changedCompanyName ? false : backupCompanyName != null;\r\n                    // vm.disableBank = vm.model.selectedBank != null;\r\n                    // vm.disableAccountNumber = vm.model.accountNumber != null;\r\n                }\r\n\r\n                vm.model.selectedCountry = vm.model.selectedCountry ? $filter('filter')(vm.countries, {\r\n                    \"countryName\": vm.model.selectedCountry\r\n                })[0] : vm.countries[0];\r\n\r\n                vm.model.natureOfOrgCheck = false;\r\n                vm.model.countryCheck = false;\r\n                vm.model.firmCheck = false;\r\n            });\r\n            $anchorScroll();\r\n            analyticService.pageList.incomeDetails.internal_reference_id = journeyService.getDataFromStorageContact().adobeId;\r\n            analyticService.trackPageLoad(analyticService.pageList.incomeDetails);\r\n        };\r\n\r\n        vm.resetOtherBiz = function () {\r\n            vm.model.otherBusiness = null;\r\n            vm.submitted = false;\r\n        };\r\n\r\n        vm.resetOtherOrg = function () {\r\n            vm.model.otherOrg = null;\r\n            vm.submitted = false;\r\n        };\r\n\r\n        vm.getAddressByPinCode = function (event) {\r\n            $scope.step6Form.postalCode.$setValidity('invalid', true);\r\n            if (event.target.value.length === 6) {\r\n                var pinCode = vm.model.postalCode;\r\n                journeyService.getAddressByPostalCode(pinCode, '.masked-container').then(function (data) {\r\n                    vm.model.city = data.city;\r\n                    vm.model.state = data.state;\r\n                    if (!vm.isStaffJourney) { //added too bypass pincode for staff\r\n                        if (UtilService.isEmpty(data) || UtilService.isEmpty(data.state) || UtilService.isEmpty(data.city)) {\r\n                            $scope.step6Form.postalCode.$setValidity('invalid', false);\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                vm.model.city = null;\r\n                vm.model.state = null;\r\n            }\r\n        };\r\n\r\n        vm.fetch = function ($select) {\r\n            // no event means first load!\r\n            if ($select.search) {\r\n                var select = $select.search;\r\n                if (select.length > 0) {\r\n                    // select = select.replace(/[^0-9a-zA-Z ]/g, \"\");\r\n                    $select.search = select;\r\n                    if (select.length > 2) {\r\n                        vm.loading = true;\r\n                        vm.companyNames = [];\r\n                        if (select.length > 0) {\r\n                            step6Service.getCompanyDetail(select).then(function (result) {\r\n                                // if (result.success) {\r\n                                if (result.length > 0) {\r\n                                    var temp = [];\r\n                                    temp[0] = select;\r\n                                    var a = result.indexOf(select);\r\n                                    if (a < 0)\r\n                                        vm.companyNames = temp.concat(result);\r\n                                    else\r\n                                        vm.companyNames = result;\r\n\r\n                                } else {\r\n                                    vm.companyNames[0] = select;\r\n                                }\r\n                            })['finally'](function () {\r\n                                vm.loading = false;\r\n                            });\r\n                        }\r\n                    } else {\r\n                        // $select.search = '';\r\n                        vm.companyNames = [];\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        vm.next = function () {\r\n\r\n            vm.errorMsg = '';\r\n            if (vm.cardTypeAE != 'Supplementary Card') {\r\n                vm.validateEmploymentLength();\r\n\r\n                vm.validateOfficeNumber();\r\n            }\r\n            if (vm.selectedCard.key === 'HPR') {\r\n                // //console.log(\"IN HPR \")\r\n                if (vm.model.SI != null) {\r\n                    //console.log(\"Si not null\")\r\n                        if(vm.model.accountNumber == null) {\r\n                        $scope.step6Form.accountNumber.$setValidity('maxAge', false);\r\n                        UtilService.focusOnInvalid(\"step6Form\", true);\r\n                        return;\r\n                    }\r\n                }\r\n                if (vm.model.accountNumber != null) {\r\n                    //console.log(\"accountNumber not null\");\r\n                    if(vm.model.SI == null) {\r\n                        $scope.step6Form.SI.$setValidity('maxAge', false);\r\n                        UtilService.focusOnInvalid(\"step6Form\", true);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!UtilService.isEmpty(vm.model.postalCode) && vm.model.postalCode.length === 6 && UtilService.isEmpty(vm.model.city) && UtilService.isEmpty(vm.model.state)) {\r\n                journeyService.getAddressByPostalCode(vm.model.postalCode, '.masked-container').then(function (data) {\r\n                    if (UtilService.isEmpty(data) || UtilService.isEmpty(data.state) || UtilService.isEmpty(data.city)) {\r\n                        $scope.step6Form.postalCode.$setValidity('invalid', false);\r\n\r\n                    }\r\n\r\n                    // $timeout(function () {\r\n                        submitForm();\r\n                    // }, 5000);\r\n\r\n                });\r\n            } else {\r\n\r\n                // $timeout(function () {\r\n                    submitForm();\r\n                // }, 5000);\r\n            }\r\n        };\r\n\r\n        var submitForm = function () {\r\n            if (vm.cardTypeAE != 'Supplementary Card') {\r\n                vm.validateIncome();\r\n            }\r\n\r\n            if ($scope.step6Form.$valid) {\r\n\r\n                var card = step6Service.getSelectedCardKey();\r\n\r\n                if ((card === 'VPC' || card === 'CBC') && parseInt(vm.model.grossIncome) < 300000 && vm.cardTypeAE != 'Supplementary Card') {\r\n\r\n                    var modalInstance = $uibModal.open({\r\n                        backdrop: 'static',\r\n                        keyboard: false,\r\n                        modalFade: true,\r\n                        component: \"cardSwapModal\",\r\n                        windowClass: 'card-detail-modal'\r\n                    });\r\n                    modalInstance.result.then(function (isOk) {\r\n                        if (isOk) {\r\n                            sendEmploymentData(true);\r\n                        } else {\r\n                            var securityParams = {\r\n                                robocheck: vm.robocheck ? vm.robocheck : ''\r\n                            };\r\n                            step6Service.sendLead(securityParams).then(function (result) {\r\n                                $state.go('app.negative-company', { 'cardKey': vm.selectedCard.key });\r\n                            });\r\n                        }\r\n                    }, function () { });\r\n                } else {\r\n\r\n                    sendEmploymentData(false);\r\n                }\r\n                analyticService.buttonList.buttonClick.event_content = \"continue\";\r\n                analyticService.trackUserAction(analyticService.buttonList.buttonClick);\r\n            } else {\r\n                sendEmploymentData(false);//incase of addon \r\n                analyticService.buttonList.buttonClick.event_content = \"continue\";\r\n                analyticService.trackUserAction(analyticService.buttonList.buttonClick);\r\n                $timeout(function () {\r\n                    vm.submitted = true;\r\n                    UtilService.focusOnInvalid(\"step6Form\");\r\n                }, 100);\r\n            }\r\n        };\r\n\r\n        var sendEmploymentData = function (swapCard) {\r\n            var securityParams = {\r\n                robocheck: vm.robocheck ? vm.robocheck : ''\r\n            };\r\n            var data = prepareData();\r\n            // $timeout(function () {\r\n           \r\n            step6Service.sendEmploymentData(data, securityParams, false).then(function (result) {\r\n                if (result.success) {\r\n                    if (result.message == 'Negative Company') {\r\n                        analyticService.buttonList.error.event_content = \"Negative company error\";\r\n                        analyticService.trackUserAction(analyticService.buttonList.error);\r\n                        $state.go('app.negative-company', { 'cardKey': vm.selectedCard.key });\r\n                    } else {\r\n                        if (swapCard) {\r\n                            step6Service.swapSelectedCard().then(function (result) {\r\n                                if (result) {\r\n                                    $scope.$emit('card-selected');\r\n                                }\r\n                            });\r\n                        }\r\n                        $state.go('app.journey.s7-review', { 'cardKey': vm.selectedCard.key });\r\n                    }\r\n                } else {\r\n                    if (result.errorCode === 1302) {\r\n                        //Office city is non-sourcing city\r\n                        analyticService.buttonList.error.event_content = \"Office non sourcing city error\";\r\n                        analyticService.trackUserAction(analyticService.buttonList.error);\r\n                        $state.go('app.office-non-sourcing-city', { 'cardKey': vm.selectedCard.key });\r\n                    } else if (result.errorCode === 1303) {\r\n                        //Office city is not aligned with Residence city\r\n                        analyticService.buttonList.error.event_content = \"Office city mismatch error\";\r\n                        analyticService.trackUserAction(analyticService.buttonList.error);\r\n                        $state.go('app.office-city-mismatch', { 'cardKey': vm.selectedCard.key });\r\n                    }\r\n                    else if (result.errorCode === 10006) {\r\n                        //arun else if condition\r\n                        //vm.errMsg = \"Sorry! there seems to be some technical error. Please try again\";\r\n                        $state.go('app.journey.s1-cards');\r\n                    }\r\n\r\n                    // Code by KP\r\n                    else if (result.errorCode === 11000) {\r\n                        vm.errorMsg = \"Gross annual income should be at least INR 4,00,000 for all card variants\";\r\n                        window.scrollTo(0, 0);\r\n                    }\r\n                    else if (result.errorCode === 11009) {\r\n                        vm.errorMsg = \"Gross annual income should be at least INR 3,00,000 for all card variants\";\r\n                        //evtContent = \"Invalid OTP error\";\r\n                        window.scrollTo(0, 0);\r\n                    } else if (result.errorCode === 11014) {\r\n                        vm.errorMsg = \"Gross annual income should be at least INR 4,00,000 for Travel one card\";\r\n                        //evtContent = \"Invalid OTP error\";\r\n                        window.scrollTo(0, 0);\r\n                    }\r\n\r\n                    else if (result.errorCode === 11010) {\r\n                        vm.errorMsg = \"Gross annual income should be at least INR 40,00,000 for TAJ Card\";\r\n                        //evtContent = \"Invalid OTP error\";\r\n                        window.scrollTo(0, 0);\r\n                    }\r\n                    else if (result.errorCode === 11013) {\r\n                        vm.errorMsg = \"Gross annual income should be at least INR 36,00,000 for Premier Card\";\r\n                        //evtContent = \"Invalid OTP error\";\r\n                        window.scrollTo(0, 0);\r\n                    }\r\n                    //added by ankit 23112024 for taj card\r\n                    else if (result.errorCode === 11011) {\r\n                        vm.errorMsg = \"Please enter the GST Number\";\r\n                        //evtContent = \"Invalid OTP error\";\r\n                        window.scrollTo(0, 0);\r\n\r\n                    }\r\n\r\n                    else if (result.errorCode === 11012) {\r\n                        vm.errorMsg = \"Please enter the Business PAN Number\";\r\n                        //evtContent = \"Invalid OTP error\";\r\n                        window.scrollTo(0, 0);\r\n\r\n                    }\r\n\r\n                    else if (result.errorCode === 11001) {\r\n                        vm.errorMsg = \"Please select the Nature of Business\";\r\n                        //evtContent = \"Invalid OTP error\";\r\n                        window.scrollTo(0, 0);\r\n\r\n                    }\r\n                    else if (result.errorCode === 11002) {\r\n                        vm.errorMsg = \"Please select the Nature of Organisation\";\r\n                        //evtContent = \"Invalid OTP error\";\r\n                        window.scrollTo(0, 0);\r\n\r\n                    }\r\n                    else if (result.errorCode === 11003) {\r\n                        vm.errorMsg = \"Please enter the Designation\";\r\n                        //evtContent = \"Invalid OTP error\";\r\n                        window.scrollTo(0, 0);\r\n\r\n                    }\r\n                    else if (result.errorCode === 11004) {\r\n                        vm.errorMsg = \"Please enter the Company Name\";\r\n                        //evtContent = \"Invalid OTP error\";\r\n                        window.scrollTo(0, 0);\r\n\r\n                    }\r\n                    else if (result.errorCode === 11005) {\r\n                        vm.errorMsg = \"Please enter the Company Address\";\r\n                        //evtContent = \"Invalid OTP error\";\r\n                        window.scrollTo(0, 0);\r\n\r\n                    }\r\n                    else if (result.errorCode === 11006) {\r\n                        vm.errorMsg = \"Please enter the Pin Code\";\r\n                        //evtContent = \"Invalid OTP error\";\r\n                        window.scrollTo(0, 0);\r\n\r\n                    }\r\n                    else if (result.errorCode === 11007) {\r\n                        vm.errorMsg = \"Please enter the Office Email Address\";\r\n                        //evtContent = \"Invalid OTP error\";\r\n                        window.scrollTo(0, 0);\r\n\r\n                    }\r\n                    // else if (result.errorCode === 11008) {\r\n                    //     vm.errorMsg = \"Please enter the Office Phone Number\";\r\n                    //     //evtContent = \"Invalid OTP error\";\r\n                    // }                    \r\n                }\r\n            });\r\n        // }, 5000);\r\n        };\r\n\r\n        vm.validateIncome = function () {\r\n            var incomeElement = $scope.step6Form.grossIncome;\r\n            incomeElement.$setValidity(\"min\", true);\r\n            var income = parseInt(vm.model.grossIncome);\r\n            if (income == 0) {\r\n                vm.model.grossIncome = null;\r\n                return false;\r\n            }\r\n            var minIncome = parseInt(incomeElement.$$attr['min']);\r\n            if (income < minIncome) {\r\n                incomeElement.$setValidity(\"min\", false);\r\n                return false;\r\n            }\r\n            return true;\r\n        };\r\n\r\n        vm.validateSI = function (amountElem) {\r\n            if (amountElem) {\r\n                amountElem.$setValidity(\"max\", true);\r\n                amountElem.$setValidity(\"min\", true);\r\n                var transAmount = parseInt(vm.model.SI);\r\n                if (transAmount < 5) {\r\n                    amountElem.$setValidity(\"min\", false);\r\n                }\r\n                if (transAmount > 100) {\r\n                    amountElem.$setValidity(\"max\", false);\r\n                }\r\n            }\r\n        };\r\n\r\n        vm.changeCompanyName = function () {\r\n            // vm.model.changedCompanyName = !vm.model.changedCompanyName;\r\n            if (vm.model.changedCompanyName == false) {\r\n                var modalInstance = $uibModal.open({\r\n                    backdrop: 'static',\r\n                    keyboard: false,\r\n                    modalFade: true,\r\n                    component: \"overlayStep6Confirmation\",\r\n                    windowClass: 'card-detail-modal'\r\n                });\r\n                modalInstance.result.then(function (isSelected) {\r\n                    if (isSelected) {\r\n                        vm.model.companyName = backupCompanyName;\r\n                        vm.disableCompany = true;\r\n                    } else {\r\n                        vm.model.changedCompanyName = true;\r\n                    }\r\n                }, function () { });\r\n            } else {\r\n                vm.disableCompany = false;\r\n            }\r\n        };\r\n\r\n        vm.save = function () {\r\n            var modalInstance = $uibModal.open({\r\n                backdrop: 'static',\r\n                keyboard: false,\r\n                modalFade: true,\r\n                component: \"overlaySaveConfirmation\",\r\n                windowClass: 'card-detail-modal'\r\n            });\r\n            modalInstance.result.then(function (isSelected) {\r\n                if (isSelected) {\r\n                    var data = prepareData();\r\n                    var securityParams = {\r\n                        robocheck: vm.robocheck ? vm.robocheck : ''\r\n                    };\r\n                    step6Service.sendEmploymentData(data, securityParams, true).then(function (result) {\r\n                        if (result.success) {\r\n                            $state.go('app.save-exit', {\r\n                                saveData: {\r\n                                    name: journeyService.getApplicantInfo(\"fullName\")\r\n                                }, cardKey: vm.selectedCard.key\r\n                            });\r\n                        } else {\r\n                            if (result.errorCode == 3) {\r\n                                $state.go('app.journey.s1-cards');\r\n                            } else if (result.errorCode == 4) {\r\n                                $rootScope.sessionError = true;\r\n                                $state.go('app.app-retrieval');\r\n                            } else if (result.errorCode === 1302) {\r\n                                //Office city is non-sourcing city\r\n                                analyticService.buttonList.error.event_content = \"Office non sourcing city error\";\r\n                                analyticService.trackUserAction(analyticService.buttonList.error);\r\n                                $state.go('app.office-non-sourcing-city', { 'cardKey': vm.selectedCard.key });\r\n                            } else if (result.errorCode === 1303) {\r\n                                //Office city is not aligned with Residence city\r\n                                analyticService.buttonList.error.event_content = \"Office city mismatch error\";\r\n                                analyticService.trackUserAction(analyticService.buttonList.error);\r\n                                $state.go('app.office-city-mismatch', { 'cardKey': vm.selectedCard.key });\r\n                            }\r\n                        }\r\n                    });\r\n                    analyticService.buttonList.buttonClick.event_content = \"save for later\";\r\n                    analyticService.trackUserAction(analyticService.buttonList.buttonClick);\r\n                }\r\n            }, function () { });\r\n        };\r\n\r\n        var prepareData = function () {\r\n\r\n            var formDetails = {\r\n                \"annualIncome\": vm.cardTypeAE != 'Supplementary Card' ? vm.model.grossIncome : \"1\",\r\n\r\n                \"employmentYear\": vm.cardTypeAE != 'Supplementary Card' ? (!UtilService.isEmpty(vm.model.year) ? parseInt(vm.model.year) : null) : \"00\",\r\n                \"employmentMonth\": vm.cardTypeAE != 'Supplementary Card' ? (!UtilService.isEmpty(vm.model.month) ? parseInt(vm.model.month) : null) : \"00\",\r\n                \"SI\": vm.model.SI != null ? vm.model.SI : null,\r\n                \"accountNumber\": vm.model.accountNumber != null ? vm.model.accountNumber : null,\r\n                \"businessNature\": vm.model.selectedBusiness != null ? vm.model.selectedBusiness : null,\r\n                \"otherBusinessNature\": vm.model.otherBusiness != null ? vm.model.otherBusiness : null,\r\n                \"organisationNature\": vm.model.selectedOrganisation != null ? vm.model.selectedOrganisation : null,\r\n                \"otherOrganisationNature\": vm.model.otherOrg != null ? vm.model.otherOrg : null,\r\n                \"firmType\": vm.model.selectedFirm != null ? vm.model.selectedFirm : null,\r\n                \"companyName\": vm.model.companyName != null ? vm.model.companyName : null,\r\n                \"designation\": vm.model.designation != null ? vm.model.designation : null,\r\n                \"changedCompanyName\": vm.model.changedCompanyName ? \"Y\" : \"N\",\r\n                \"companyAddress\": {\r\n                    \"address1\": vm.model.companyAddress != null ? vm.model.companyAddress : null,\r\n                    \"address2\": \"\",\r\n                    \"address3\": \"\",\r\n                    \"city\": vm.model.city != null ? vm.model.city : null,\r\n                    \"addressType\": null,\r\n                    \"country\": vm.model.selectedCountry.countryName != null ? vm.model.selectedCountry.countryName : null,\r\n                    \"state\": vm.model.state != null ? vm.model.state : null,\r\n                    \"pinCode\": vm.model.postalCode != null ? vm.model.postalCode : null,\r\n                    \"stdCode\": vm.model.officeSTD != null ? vm.model.officeSTD : null,\r\n                    \"officeExtension\": vm.model.ext != null ? vm.model.ext : null,\r\n                    \"phone\": vm.model.mobileNo != null ? vm.model.mobileNo : null,\r\n                    \"dialCode\": \"91\",\r\n                    \"district\": \"\"\r\n                },\r\n                \"officeNumberConsent\": vm.model.officeNumberConsent ? \"Y\" : \"N\",\r\n                \"officeEmailId\": vm.model.officeEmailId != null ? vm.model.officeEmailId : null,\r\n                \"SI\": vm.model.SI != null ? vm.model.SI : null,\r\n                \"accountNumber\": vm.model.accountNumber != null ? vm.model.accountNumber : null,\r\n                \"gstNumber\": vm.model.gstNumber,\r\n                \"businessPanNumber\": vm.model.businessPanNumber\r\n                // \"primaryBank\": vm.model.selectedBank,\r\n                // \"branchLocation\": vm.model.branch,\r\n                // \"accountNumber\": vm.model.accountNumber\r\n            };\r\n            console.log(\"formData-->\", formDetails)\r\n            return formDetails;\r\n        };\r\n\r\n        vm.goback = function () {\r\n            var data = prepareData();\r\n            step6Service.setDataInStorage(data);\r\n            $state.go('app.journey.s5-employmentDetails', { 'cardKey': vm.selectedCard.key });\r\n            analyticService.buttonList.buttonClick.event_content = \"back\";\r\n            analyticService.trackUserAction(analyticService.buttonList.buttonClick);\r\n        };\r\n\r\n        vm.validateEmploymentLength = function () {\r\n            $scope.step6Form.year.$setValidity(\"minEmp\", true);\r\n            $scope.step6Form.year.$setValidity(\"maxEmp\", true);\r\n            $scope.step6Form.month.$setValidity(\"minEmp\", true);\r\n            $scope.step6Form.month.$setValidity(\"maxEmp\", true);\r\n            $scope.step6Form.month.$setValidity(\"max\", true);\r\n            if (!UtilService.isEmpty(vm.model.year) && vm.model.year.length === 1) {\r\n                vm.model.year = \"0\" + vm.model.year;\r\n            }\r\n            if (!UtilService.isEmpty(vm.model.month) && vm.model.month.length === 1) {\r\n                vm.model.month = \"0\" + vm.model.month;\r\n            }\r\n            if (!UtilService.isEmpty(vm.model.month) && !UtilService.isEmpty(vm.model.year)) {\r\n                var month = parseInt(vm.model.month);\r\n                var year = parseInt(vm.model.year);\r\n                if (year === 0 && month === 0) {\r\n                    $scope.step6Form.year.$setValidity(\"minEmp\", false);\r\n                    $scope.step6Form.month.$setValidity(\"minEmp\", false);\r\n                    return;\r\n                }\r\n            }\r\n            if (!UtilService.isEmpty(vm.model.month)) {\r\n                var month = parseInt(vm.model.month);\r\n                if (month > 11) {\r\n                    $scope.step6Form.month.$setValidity(\"max\", false);\r\n                    return;\r\n                }\r\n            }\r\n            var age = step6Service.getApplicantAge();\r\n            var empLength = convertToYear(vm.model.year, vm.model.month);\r\n            if (empLength >= age) {\r\n                $scope.step6Form.year.$setValidity(\"maxEmp\", false);\r\n                $scope.step6Form.month.$setValidity(\"maxEmp\", false);\r\n                return;\r\n            }\r\n        };\r\n\r\n        vm.validateOfficeNumber = function () {\r\n            $scope.step6Form.mobileNo.$setValidity('minlength', true);\r\n            $scope.step6Form.mobileNo.$setValidity('maxlength', true);\r\n            if (parseInt(vm.model.mobileNo) == 0) {\r\n                vm.model.mobileNo = '';\r\n            }\r\n            var std = vm.model.officeSTD || '',\r\n                mobile = vm.model.mobileNo || '',\r\n                ext = vm.model.ext || '';\r\n            if ((std.length + mobile.length > 0) && (std.length + mobile.length < 10)) {\r\n                $scope.step6Form.mobileNo.$setValidity('minlength', false);\r\n            }\r\n            if (std.length + mobile.length > 12) {\r\n                $scope.step6Form.mobileNo.$setValidity('maxlength', false);\r\n            }\r\n        };\r\n\r\n        vm.toggleConsent = function () {\r\n            $timeout(function () {\r\n                vm.validateOfficeNumber();\r\n            }, 0);\r\n        };\r\n\r\n        var convertToYear = function (numberOfYears, numberOfMonths) {\r\n            var years = 0;\r\n            if (numberOfYears) {\r\n                years += parseFloat(numberOfYears);\r\n            }\r\n            if (numberOfMonths) {\r\n                years += parseFloat(numberOfMonths / 12);\r\n            }\r\n            return years;\r\n        };\r\n    }\r\n\r\n    var step6Comp = angular.module('journey.module').component('step6', {\r\n        template: require('./step6.component.html'),\r\n        controller: ['$scope', '$q', '$state', '$filter', '$timeout', 'step6Service', '$uibModal', '$anchorScroll', '$rootScope', 'journeyService', 'analyticService', 'UtilService', 'appState', step6Controller]\r\n    });\r\n    module.exports = step6Comp.name;\r\n})();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/journey/step6/step6.component.js\n// module id = ./src/app/components/journey/step6/step6.component.js\n// module chunks = 1","(function () {\r\n    'use strict';\r\n\r\n    var step6Service = angular.module('journey.module').service('step6Service', ['$rootScope', '$http', 'appState', 'UtilService', 'CONFIG', function ($rootScope, $http, appState, UtilService, CONFIG) {\r\n        var self = this;\r\n\r\n        self.setDataInStorage = function (formDetails) {\r\n            var data = {\r\n                \"primaryApplicant\": {\r\n                    \"employmentDetails\": formDetails\r\n                }\r\n            };\r\n            appState.mergeApplicationData(data);\r\n        };\r\n\r\n        self.getDataFromStorage = function () {\r\n            return appState.getApplicationData();\r\n        };\r\n\r\n        self.getSelectedCardKey = function () {\r\n            var appData = appState.getApplicationData();\r\n            return appData.primaryApplicant.card.key;\r\n        };\r\n\r\n        self.getCompanyDetail = function (val) {\r\n            var apiURL;\r\n            if ($rootScope.integrationsActive) {\r\n                apiURL = CONFIG.apiUrl + '/lookup/fetchcompanynames/' + val + '?hash_id=' + Math.random();\r\n            } else {\r\n                apiURL = 'resources/data/mock/step6_income-details/companies.json';\r\n            }\r\n\r\n            return $http({\r\n                method: 'GET',\r\n                url: apiURL,\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            }).then(function (response) {\r\n                if (response && response.status === 200 && response.data) {\r\n                    return response.data;\r\n                } else if (response && response.validationErrors) { } else { }\r\n                return;\r\n            }, function (response) {\r\n                return;\r\n            });\r\n        };\r\n\r\n\r\n        self.sendEmploymentData = function (empData, securityParams, isSaveExit) {\r\n            var apiURL, httpMethod;\r\n            if ($rootScope.integrationsActive) {\r\n                httpMethod = \"POST\";\r\n                var arn = appState.getApplicationData().primaryApplicant.arn;\r\n                apiURL = CONFIG.apiUrl + '/applicantdetails/employmentdetails/save/' + arn + '/' + isSaveExit + '?hash_id=' + Math.random();\r\n            } else {\r\n                httpMethod = \"GET\";\r\n                apiURL = 'resources/data/mock/step6_income-details/employment_details_save.json';\r\n            }\r\n            return $http({\r\n                method: httpMethod,\r\n                url: apiURL,\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                data: JSON.stringify(empData),\r\n                params: securityParams\r\n            }).then(function (response) {\r\n                if (response.status === 200 && response.data) {\r\n                    if (response.data.success) {\r\n\r\n                        if(response.data.salaryFlag){\r\n                            // console.log(\"akshayCCS1 changes\",response.data.salaryFlag);\r\n                            // alert(response.data.salaryFlag);\r\n                            (response.data.salaryFlag == \"success\")?\r\n                            appState.setHubSalaryFlag(response.data.salaryFlag) : '';\r\n                        }\r\n                        \r\n                        if (response.data.message !== 'Negative Company') {\r\n                            empData.isAnnualIncomeDisabled = response.data.leadGenerationReason;\r\n                        }\r\n                        self.setDataInStorage(empData);\r\n                    }\r\n                    return response.data;\r\n                }\r\n                return {\r\n                    success: false,\r\n                    message: \"Sorry! there seems to be some technical error.\"\r\n                };\r\n            }, function (error) {\r\n                return {\r\n                    success: false,\r\n                    message: \"Sorry! there seems to be some technical error.\"\r\n                };\r\n            });\r\n        };\r\n\r\n        self.sendLead = function (securityParams) {\r\n            var apiURL, httpMethod;\r\n            if ($rootScope.integrationsActive) {\r\n                httpMethod = \"POST\";\r\n                var arn = appState.getApplicationData().primaryApplicant.arn;\r\n                apiURL = CONFIG.apiUrl + '/iccm/sendNotification/' + arn + '?hash_id=' + Math.random();\r\n            } else {\r\n                httpMethod = \"GET\";\r\n                apiURL = 'resources/data/mock/step6_income-details/send-lead.json';\r\n            }\r\n            return $http({\r\n                method: httpMethod,\r\n                url: apiURL,\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                // data: JSON.stringify(empData),\r\n                params: securityParams\r\n            }).then(function (response) {\r\n                if (response.status === 200 && response.data) {\r\n                    return response.data;\r\n                }\r\n                return {\r\n                    success: false,\r\n                    message: \"Sorry! there seems to be some technical error.\"\r\n                };\r\n            }, function (error) {\r\n                return {\r\n                    success: false,\r\n                    message: \"Sorry! there seems to be some technical error.\"\r\n                };\r\n            });\r\n        };\r\n\r\n        self.swapSelectedCard = function () {\r\n            return $http({\r\n                method: \"GET\",\r\n                url: \"resources/data/mock/step1_cards.json\"\r\n            }).then(function (response) {\r\n                if (response && response.status === 200 && response.data) {\r\n                    var svcCard = response.data.filter(function (card) { return card.key === 'SVC' })[0];\r\n                    var appData = {\r\n                        \"primaryApplicant\": {\r\n                            \"card\": svcCard\r\n                        }\r\n                    };\r\n                    appState.mergeApplicationData(appData);\r\n                    return true;\r\n                }\r\n                return false;\r\n            }, function (error) {\r\n                return false;\r\n            });\r\n        };\r\n\r\n        self.lengthOfStayYears = [];\r\n        for (var i = 0; i <= 65; i++) {\r\n            if (i < 2) {\r\n                this.lengthOfStayYears.push({ value: i, label: i + \" year\" });\r\n            }\r\n            else {\r\n                this.lengthOfStayYears.push({ value: i, label: i + \" years\" });\r\n            }\r\n        }\r\n\r\n        self.lengthOfStayMonths = [];\r\n        for (var i = 0; i < 12; i++) {\r\n            if (i < 2) {\r\n                this.lengthOfStayMonths.push({ value: i, label: i + \" month\" });\r\n            }\r\n            else {\r\n                this.lengthOfStayMonths.push({ value: i, label: i + \" months\" });\r\n            }\r\n        }\r\n\r\n        self.getUserDetails = function () {\r\n            var userDTO = {},\r\n                localState = appState.getApplicationData();\r\n            if (localState) {\r\n                if (localState.primaryApplicant) {\r\n                    userDTO.empType = localState.primaryApplicant.employmentStatus ? localState.primaryApplicant.employmentStatus : null;\r\n                    userDTO.perfiosCheck = localState.primaryApplicant.hasSkippedPerfios ? localState.primaryApplicant.hasSkippedPerfios : 'Y';\r\n                    userDTO.perfiosCheck = userDTO.perfiosCheck === 'Y' ? false : true;\r\n                    if (localState.primaryApplicant.employmentDetails) {\r\n                        userDTO.year = !UtilService.isEmpty(localState.primaryApplicant.employmentDetails.employmentYear) ? UtilService.formatYearMonth(localState.primaryApplicant.employmentDetails.employmentYear) : null;\r\n                        userDTO.month = !UtilService.isEmpty(localState.primaryApplicant.employmentDetails.employmentMonth) ? UtilService.formatYearMonth(localState.primaryApplicant.employmentDetails.employmentMonth) : null;\r\n                        userDTO.grossIncome = !UtilService.isEmpty(localState.primaryApplicant.employmentDetails.annualIncome) ? parseInt(localState.primaryApplicant.employmentDetails.annualIncome) : null;\r\n                        if (userDTO.grossIncome === 0) {\r\n                            userDTO.grossIncome = null;\r\n                        }\r\n                        userDTO.isAnnualIncomeDisabled = localState.primaryApplicant.employmentDetails.isAnnualIncomeDisabled;\r\n                        if (localState.primaryApplicant.employmentDetails.companyAddress) {\r\n                            userDTO.selectedCountry = localState.primaryApplicant.employmentDetails.companyAddress.country ? localState.primaryApplicant.employmentDetails.companyAddress.country : null;\r\n                            userDTO.companyAddress = localState.primaryApplicant.employmentDetails.companyAddress.address1 ? localState.primaryApplicant.employmentDetails.companyAddress.address1 : null;\r\n                            userDTO.city = localState.primaryApplicant.employmentDetails.companyAddress.city ? localState.primaryApplicant.employmentDetails.companyAddress.city : null;\r\n                            userDTO.state = localState.primaryApplicant.employmentDetails.companyAddress.state ? localState.primaryApplicant.employmentDetails.companyAddress.state : null;\r\n                            userDTO.postalCode = localState.primaryApplicant.employmentDetails.companyAddress.pinCode ? localState.primaryApplicant.employmentDetails.companyAddress.pinCode : null;\r\n                            userDTO.mobileNo = localState.primaryApplicant.employmentDetails.companyAddress.phone ? localState.primaryApplicant.employmentDetails.companyAddress.phone : null;\r\n                            userDTO.ext = localState.primaryApplicant.employmentDetails.companyAddress.officeExtension ? localState.primaryApplicant.employmentDetails.companyAddress.officeExtension : null;\r\n                            userDTO.officeSTD = localState.primaryApplicant.employmentDetails.companyAddress.stdCode ? localState.primaryApplicant.employmentDetails.companyAddress.stdCode : null;\r\n                        }\r\n                        userDTO.designation = localState.primaryApplicant.employmentDetails.designation ? localState.primaryApplicant.employmentDetails.designation : null;\r\n                        userDTO.selectedBusiness = localState.primaryApplicant.employmentDetails.businessNature ? localState.primaryApplicant.employmentDetails.businessNature : null;\r\n                        userDTO.selectedOrganisation = localState.primaryApplicant.employmentDetails.organisationNature ? localState.primaryApplicant.employmentDetails.organisationNature : null;\r\n                        userDTO.otherBusiness = localState.primaryApplicant.employmentDetails.otherBusinessNature ? localState.primaryApplicant.employmentDetails.otherBusinessNature : null;\r\n                        userDTO.otherOrg = localState.primaryApplicant.employmentDetails.otherOrganisationNature ? localState.primaryApplicant.employmentDetails.otherOrganisationNature : null;\r\n                        userDTO.selectedFirm = localState.primaryApplicant.employmentDetails.firmType ? localState.primaryApplicant.employmentDetails.firmType : null;\r\n                        userDTO.companyName = localState.primaryApplicant.employmentDetails.companyName ? localState.primaryApplicant.employmentDetails.companyName : null;\r\n                        userDTO.perfiosCompanyName = localState.primaryApplicant.employmentDetails.perfiosCompanyName ? localState.primaryApplicant.employmentDetails.perfiosCompanyName : null;\r\n                        userDTO.changedCompanyName = localState.primaryApplicant.employmentDetails.changedCompanyName === 'Y';\r\n                        userDTO.officeNumberConsent = localState.primaryApplicant.employmentDetails.officeNumberConsent === 'Y';\r\n\r\n                        userDTO.accountNumber = localState.primaryApplicant.employmentDetails.accountNumber ? localState.primaryApplicant.employmentDetails.accountNumber : null;\r\n                        userDTO.SI = localState.primaryApplicant.employmentDetails.SI ? localState.primaryApplicant.employmentDetails.SI : null;\r\n                    \r\n                        // userDTO.selectedBank = localState.primaryApplicant.employmentDetails.primaryBank ? localState.primaryApplicant.employmentDetails.primaryBank : null;\r\n                        // userDTO.branch = localState.primaryApplicant.employmentDetails.branchLocation ? localState.primaryApplicant.employmentDetails.branchLocation : null;\r\n                        // userDTO.accountNumber = localState.primaryApplicant.employmentDetails.accountNumber ? localState.primaryApplicant.employmentDetails.accountNumber : null;\r\n                    }\r\n                }\r\n            }\r\n            return userDTO;\r\n        };\r\n\r\n        self.getApplicantAge = function () {\r\n            var applicant = self.getDataFromStorage().primaryApplicant;\r\n            var dob = applicant.dateOfBirth;\r\n            dob = dob.split('-');\r\n            var age = UtilService.calculateAge(dob[0], dob[1], dob[2]);\r\n            return age;\r\n        };\r\n\r\n        self.getBusinessTypes = function () {\r\n            return $http.get('resources/data/business-types.json', {\r\n                cache: true\r\n            }).then(function (response) {\r\n                return response.data;\r\n            });\r\n        };\r\n\r\n        self.getOrganizationTypes = function () {\r\n            return $http.get('resources/data/organization-types.json', {\r\n                cache: true\r\n            }).then(function (response) {\r\n                return response.data;\r\n            });\r\n        };\r\n\r\n        self.getFirmTypes = function () {\r\n            return $http.get('resources/data/firm-types.json', {\r\n                cache: true\r\n            }).then(function (response) {\r\n                return response.data;\r\n            });\r\n        };\r\n    }]);\r\n\r\n    module.exports = step6Service.name;\r\n})();\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/journey/step6/step6.component.service.js\n// module id = ./src/app/components/journey/step6/step6.component.service.js\n// module chunks = 1","module.exports = \"<div class=modal-header> <div class=heading-container> </div> <div class=close-button-container> <span aria-label=Close title=Close class=\\\"icon icon-2x icon-delete-small\\\" ng-click=$ctrl.cancel()></span> </div> </div> <div class=modal-body> <p class=no-margin-b> It seems you have made some changes to the prefilled information. Are you sure you want to cancel the changes </p> </div> <div class=modal-footer> <div class=buttons-container> <button class=button-outline ng-click=$ctrl.Close(false)>No</button> <button class=button-primary ng-click=$ctrl.Close(true)>Yes</button> </div> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/journey/step6/step6.modal/overlayStep6Confirmation.modal.component.html\n// module id = ./src/app/components/journey/step6/step6.modal/overlayStep6Confirmation.modal.component.html\n// module chunks = 1","(function () {\r\n    'use strict';\r\n    var angular = require('angular');\r\n    require('./overlayStep6Confirmation.modal.component.scss')\r\n\r\n    var modalController = function ($scope) {\r\n        var vm = this;\r\n\r\n        vm.$onInit = function () {\r\n\r\n        };\r\n\r\n        /**\r\n         * This function is triggered when we select or unselect card.\r\n         * We push the selected card in selectedPrimaryCards array and\r\n         *  pop the unselected card.\r\n         */\r\n        vm.Close = function (isSelected) {\r\n            vm.close({\r\n                $value: isSelected\r\n            });\r\n        };\r\n\r\n        vm.cancel = function () {\r\n            vm.dismiss({\r\n                $value: 'cancel'\r\n            });\r\n        };\r\n    };\r\n\r\n    var modalComp = angular.module('journey.module').component('overlayStep6Confirmation', {\r\n        template: require('./overlayStep6Confirmation.modal.component.html'),\r\n        bindings: {\r\n            resolve: '<',\r\n            close: '&',\r\n            dismiss: '&'\r\n        },\r\n        controller: ['$scope', modalController]\r\n    });\r\n    module.exports = modalComp.name;\r\n})();\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/journey/step6/step6.modal/overlayStep6Confirmation.modal.component.js\n// module id = ./src/app/components/journey/step6/step6.modal/overlayStep6Confirmation.modal.component.js\n// module chunks = 1"],"sourceRoot":""}