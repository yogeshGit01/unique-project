webpackJsonp([12],{"./src/app/components/journey/step9/step9.component.html":/*!***************************************************************!*\
  !*** ./src/app/components/journey/step9/step9.component.html ***!
  \***************************************************************/
function(e,r){e.exports='<form name=step9Form autocomplete=off novalidate> <input type=text class=hidden-field ng-model=$ctrl.robocheck tabindex=-1> <div class=row> <div class="col-md-12 col-sm-12 col-xs-12"> <h1 class="brand-bar no-margin-top">Balance Transfer</h1> </div> </div> <div class=row> <div class="col-md-12 col-sm-12 col-xs-12"> <p class=no-margin-b> Transfer outstanding balances from your other bank credit card to your HSBC Credit Card and benefit from our low interest rates & flexible repayment options.</p> </div> </div> <div class=row> <div class="col-md-12 col-sm-12 col-xs-12"> <h2 class=brand-bar>Key features:</h2> <ul> <li>Savings: Repayment at low interest rates</li> <li>Convenience: Paperless application process</li> </ul> </div> </div> <div class=row> <div class="col-md-12 col-sm-12 col-xs-12"> <p>Find out more about <a target=_blank href=http://www.hsbc.co.in/1/2/personal/credit-cards/balance-transfer class=new-tab-link aria-label="This link will open more information about collecting and using information in a new tab"> <span class=text>Balance Transfer rates</span> <span class="icon icon-new-window" aria-hidden=true role=presentation></span> </a> on EMI (Equated Monthly Installment).</p> <p>View <a target=_blank href=http://www.hsbc.co.in/1/2/personal/credit-cards/balance-transfer-terms class=new-tab-link aria-label="This link will open more information about collecting and using information in a new tab"> <span class=text>Terms & Conditions</span> <span class="icon icon-new-window" aria-hidden=true role=presentation></span> </a> for Balance Transfer.</p> </div> </div> <p class=no-margin-b> Please provide your details below and we will contact you within 5 working days after your HSBC Credit Card is issued.</p> <div class=row> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label id=bankNameLbl for=bank>Name of bank</label> <div ng-class="{\'has-error\': step9Form.bank.$invalid && (step9Form.bank.$touched || $ctrl.submitted)}"> <custom-select> <select id=bank name=bank class=form-control ng-model=$ctrl.model.bank ng-options="item for item in $ctrl.bankList" aria-describedby=bankNameErrMsg aria-invalid="{{step9Form.bank.$invalid && (step9Form.bank.$touched || $ctrl.submitted)}}" required> <option value="">Please select</option> </select> </custom-select> </div> <div id=bankNameErrMsg class="form-group remove-margin" ng-class="{\'has-error\': step9Form.bank.$invalid}"> <validation-msg ng-if="step9Form.bank.$error.required && (step9Form.bank.$touched || $ctrl.submitted)"> Please select a bank to continue with your application.</validation-msg> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label for=cardNumber>Card number</label> <div ng-class="{ \'has-error\' : step9Form.cardNumber.$invalid  && ($ctrl.submitted || step9Form.cardNumber.$touched)}"> <input type=tel id=cardNumber name=cardNumber aria-describedby=cardNumErrMsg trim class=form-control only-number=18 onkeypress="0===this.value.length&&32===event.charCode&&event.preventDefault()" ng-maxlength=18 maxlength=18 minlength=13 ng-minlength=13 ng-model=$ctrl.model.cardNumber aria-invalid="{{step9Form.cardNumber.$invalid  && ($ctrl.submitted || step9Form.cardNumber.$touched)}}" required> </div> <div id=cardNumErrMsg class="form-group col-md-12 col-sm-12 col-xs-12 remove-margin" ng-class="{\'has-error\' : (step9Form.cardNumber.$invalid && ($ctrl.submitted || step9Form.cardNumber.$touched))}"> <div class=row> <validation-msg ng-if="(step9Form.cardNumber.$error.required && step9Form.cardNumber.$touched) || (step9Form.cardNumber.$error.required && $ctrl.submitted)"> Please enter your card number to continue with your application. </validation-msg> <validation-msg ng-if="step9Form.cardNumber.$error.maxlength && !step9Form.cardNumber.$error.pattern && ($ctrl.submitted || step9Form.cardNumber.$touched)"> Maximum of 18 digits allowed for your card number.</validation-msg> <validation-msg ng-if="step9Form.cardNumber.$error.minlength && !step9Form.cardNumber.$error.pattern && ($ctrl.submitted || step9Form.cardNumber.$touched)"> Please enter a minimum of 13 digits. </validation-msg> <validation-msg ng-if="step9Form.cardNumber.$error.pattern && ($ctrl.submitted || step9Form.cardNumber.$touched)"> Your card number contains invalid digits.Please check and Renter. </validation-msg> </div> </div> </div> </div> </div> <div class=row> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <div class=row> <div class="col-md-12 col-sm-12 col-xs-12"> <label id=cardExpiryLabel class="">Other bankâ€™s card expiry (mm/yyyy)</label> <a tabindex=0 aria-label="tooltip Your card should not be expiring in the next one month." uib-popover="Your card should not be expiring in the next one month." popover-placement=auto popover-trigger="\'mouseenter focus\'" class="icon icon-circle-info"></a> </div> <div class="col-md-12 col-sm-12 col-xs-12"> <div class="col-md-6 col-sm-6 col-xs-6 remove-padding"> <div ng-class="{\'has-error\': step9Form.month.$invalid && (step9Form.month.$touched || $ctrl.submitted)}"> <input type=tel trim name=month aria-label="Card expiry (MM)" aria-describedby=otherCardExpErrMsg ng-model=$ctrl.model.expiryMonth class="form-control text-center" ng-keyup=$ctrl.expiryChange() ng-blur=$ctrl.expiryChange(true) onkeypress="0===this.value.length&&32===event.charCode&&event.preventDefault()" ng-maxlength=2 only-number=2 maxlength=2 max=12 min=1 placeholder=MM aria-invalid="{{step9Form.month.$invalid && (step9Form.month.$touched || $ctrl.submitted)}}" required> </div> </div> <div class="col-md-6 col-sm-6 col-xs-6 remove-padding"> <div ng-class="{\'has-error\': step9Form.year.$invalid && (step9Form.year.$touched || $ctrl.submitted)}"> <input type=tel trim name=year aria-label="Card expiry (YYYY)" aria-describedby=otherCardExpErrMsg ng-model=$ctrl.model.expiryYear class="form-control text-center" ng-keyup=$ctrl.expiryChange() ng-blur=$ctrl.expiryChange(true) onkeypress="0===this.value.length&&32===event.charCode&&event.preventDefault()" ng-maxlength=4 ng-minlength=4 only-number=4 maxlength=4 placeholder=YYYY aria-invalid="{{step9Form.year.$invalid && (step9Form.year.$touched || $ctrl.submitted)}}" required> </div> </div> </div> </div> <div class=""> <div id=otherCardExpErrMsg class="col-md-12 col-sm-12 col-xs-12 remove-margin" ng-class="{\'has-error\': step9Form.year.$invalid || step9Form.month.$invalid}"> <div class=row> <validation-msg ng-if="(step9Form.month.$error.required && (step9Form.month.$touched || $ctrl.submitted)) || (step9Form.year.$error.required && step9Form.month.$valid && (step9Form.year.$touched || $ctrl.submitted))"> Please enter your other bank\'s card expiry date to continue with your application. </validation-msg> <validation-msg ng-if="step9Form.year.$error.minlength && (step9Form.year.$touched || $ctrl.submitted) && step9Form.month.$valid"> Years of other bank\'s card expiry date should contain exactly 4 digits. </validation-msg> <validation-msg ng-if="step9Form.month.$error.min && !step9Form.month.$error.required"> Month of other bank\'s card expiry date cannot be lesser than 1. </validation-msg> <validation-msg ng-if="step9Form.year.$error.min && step9Form.month.$valid"> Year of other bank\'s card expiry date cannot be less than current year. </validation-msg> <validation-msg ng-if="step9Form.year.$error.nextMonth && !step9Form.year.$error.required && step9Form.month.$valid && (step9Form.year.$touched || $ctrl.submitted)"> Your card should not be expiring in the next one month. </validation-msg> <validation-msg ng-if="step9Form.month.$error.max && !step9Form.month.$error.required"> Month of other bank\'s card expiry date cannot be greater than 12. </validation-msg> </div> </div> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label for=amount>Amount to be transferred</label> <a tabindex=0 aria-label="tooltip Amount should be at least Rs. 5,000." uib-popover="Amount should be at least Rs. 5,000." popover-placement=auto popover-trigger="\'mouseenter focus\'" class="icon icon-circle-info"></a> <div ng-class="{\'has-error\': step9Form.amount.$invalid && (step9Form.amount.$touched || $ctrl.submitted)}"> <input type=tel trim id=amount name=amount aria-describedby=trasAmtErrMsg class=form-control ng-blur=$ctrl.checkCreditLimit(step9Form.amount) only-number=10 onkeypress="0===this.value.length&&32===event.charCode&&event.preventDefault()" ng-keyup=$ctrl.checkCreditLimit(step9Form.amount) ng-model=$ctrl.model.amount aria-invalid="{{step9Form.amount.$invalid && (step9Form.amount.$touched || $ctrl.submitted)}}" required> </div> <div id=trasAmtErrMsg class="form-group col-md-12 remove-margin" ng-class="{\'has-error\': step9Form.amount.$invalid}"> <div class=row> <validation-msg ng-if="step9Form.amount.$error.required && (step9Form.amount.$touched || $ctrl.submitted)"> Please enter the amount to be transferred to continue with your application. </validation-msg> <validation-msg ng-if="step9Form.amount.$error.max && !step9Form.amount.$error.required && (step9Form.amount.$touched || $ctrl.submitted)"> Amount exceeds 95% of the assigned credit limit. </validation-msg> <validation-msg ng-if="step9Form.amount.$error.min && !step9Form.amount.$error.required && (step9Form.amount.$touched || $ctrl.submitted)"> Amount should be at least Rs. 5,000. </validation-msg> </div> </div> </div> </div> </div> <div class=row> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label id=tenureLbl for=tenure>Tenure</label> <div ng-class="{\'has-error\': step9Form.tenure.$invalid && (step9Form.tenure.$touched || $ctrl.submitted)}"> <custom-select> <select id=tenure name=tenure class=form-control ng-model=$ctrl.model.tenure ng-options="item for item in $ctrl.tentureList" aria-describedby=tenureErrMsg aria-invalid="{{step9Form.tenure.$invalid && (step9Form.tenure.$touched || $ctrl.submitted)}}" required> <option value="">Please select</option> </select> </custom-select> </div> <div id=tenureErrMsg class="form-group remove-margin" ng-class="{\'has-error\': step9Form.tenure.$invalid}"> <validation-msg ng-if="step9Form.tenure.$error.required && (step9Form.tenure.$touched || $ctrl.submitted)"> Please select a tenure to continue with your application. </validation-msg> </div> </div> </div> </div> <step-footer show-back=true back-callback=$ctrl.goback() show-save=true save-callback=$ctrl.save() show-continue=true continue-button-id=continue-btn continue-disabled=false continue-callback=$ctrl.next()> </step-footer> </form>'},"./src/app/components/journey/step9/step9.component.js":/*!*************************************************************!*\
  !*** ./src/app/components/journey/step9/step9.component.js ***!
  \*************************************************************/
function(e,r,t){!function(){"use strict";var r=t(/*! angular */"./node_modules/angular/index.js");t(/*! ./step9.component.scss */"./src/app/components/journey/step9/step9.component.scss"),t(/*! ./step9.component.service */"./src/app/components/journey/step9/step9.component.service.js");var a=r.module("journey.module").component("step9",{template:t(/*! ./step9.component.html */"./src/app/components/journey/step9/step9.component.html"),controller:["$rootScope","$scope","$uibModal","$anchorScroll","$state","journeyService","balanceTransferService","analyticService","UtilService",function(e,r,t,a,n,o,i,s,l){var c,d=this;d.tentureList=["3 months","6 months","9 months","12 months","18 months","24 months"],d.$onInit=function(){e.$broadcast("hide-step-header",{hideHeader:!1}),e.showSelectedCard=!0,a(),e.stepsHeader.currentStep=4,e.showARN=!0,e.dipARN=o.getApplicantInfo("dipDetails").dipArn,d.selectedCard=o.getSelectedCard();var r=new Date;d.currentYear=r.getFullYear(),c=r.getMonth()+3,c>12&&(d.currentYear=d.currentYear+1,c-=12),d.model=i.getUserDetails(),o.getBanks().then(function(e){d.bankList=e}),s.pageList.balanceTransfer.internal_reference_id=o.getDataFromStorageContact().adobeId,s.trackPageLoad(s.pageList.balanceTransfer)},d.goback=function(){r.step9Form.year.$invalid&&(d.model.expiryYear=r.step9Form.year.$$rawModelValue),r.step9Form.month.$invalid&&(d.model.expiryMonth=r.step9Form.month.$$rawModelValue),r.step9Form.cardNumber.$invalid&&(d.model.cardNumber=r.step9Form.cardNumber.$$rawModelValue);var e={primaryApplicant:{balanceTransfer:{amount:parseInt(d.model.amount),cardExpiryDate:(l.isEmpty(d.model.expiryMonth)?"":d.model.expiryMonth)+"/"+(l.isEmpty(d.model.expiryYear)?"":d.model.expiryYear),cardNumber:d.model.cardNumber,nameOfBank:d.model.bank,tenure:d.model.tenure}}};i.setDataInStorage(e),n.go("app.journey.card-DIP",{cardKey:d.selectedCard.key}),s.buttonList.buttonClick.event_content="back",s.trackUserAction(s.buttonList.buttonClick)},d.checkCreditLimit=function(e){if(e){e.$setValidity("max",!0),e.$setValidity("min",!0);var r=parseInt(d.model.amount);r<5e3&&e.$setValidity("min",!1),r>d.model.transferLimit&&e.$setValidity("max",!1)}},d.next=function(){if(d.checkCreditLimit(r.step9Form.amount),d.expiryChange(),r.step9Form.$valid){var e={robocheck:d.robocheck?d.robocheck:""},t={amount:parseInt(d.model.amount),cardExpiryDate:d.model.expiryMonth+"/"+d.model.expiryYear,cardNumber:d.model.cardNumber,nameOfBank:d.model.bank,tenure:d.model.tenure,balanceTransferTaken:"Y"};i.sendBalanceTransferData(t,e,!1).then(function(e){e.success&&(m(),d.model.supplementaryCardApplied?n.go("app.journey.supplementary",{cardKey:d.selectedCard.key}):o.isIncomeDocRequired()?n.go("app.journey.document",{cardKey:d.selectedCard.key}):n.go("app.journey.signature",{cardKey:d.selectedCard.key}))})}else d.submitted=!0,l.focusOnInvalid("step9Form");s.buttonList.buttonClick.event_content="continue",s.trackUserAction(s.buttonList.buttonClick)};var m=function(){var e={primaryApplicant:{balanceTransfer:{amount:parseInt(d.model.amount),cardExpiryDate:l.isEmpty(d.model.expiryMonth)||l.isEmpty(d.model.expiryYear)?"":d.model.expiryMonth+"/"+d.model.expiryYear,cardNumber:d.model.cardNumber,nameOfBank:d.model.bank,tenure:d.model.tenure}}};i.setDataInStorage(e)};d.save=function(r){t.open({backdrop:"static",keyboard:!1,modalFade:!0,component:"overlaySaveConfirmation",windowClass:"card-detail-modal"}).result.then(function(r){if(r){var t={amount:parseInt(d.model.amount),cardExpiryDate:l.isEmpty(d.model.expiryMonth)||l.isEmpty(d.model.expiryYear)?"":d.model.expiryMonth+"/"+d.model.expiryYear,cardNumber:d.model.cardNumber,nameOfBank:d.model.bank,tenure:d.model.tenure,balanceTransferTaken:"Y"},a={robocheck:d.robocheck?d.robocheck:""};i.sendBalanceTransferData(t,a,!0).then(function(r){r.success?(m(),n.go("app.save-exit",{saveData:{name:o.getApplicantInfo("fullName")},cardKey:d.selectedCard.key})):3==r.errorCode?n.go("app.journey.s1-cards"):4==r.errorCode&&(e.sessionError=!0,n.go("app.app-retrieval"))})}},function(){}),s.buttonList.buttonClick.event_content="save for later",s.trackUserAction(s.buttonList.buttonClick)},d.expiryChange=function(e){var t=r.step9Form.month,a=r.step9Form.year;t.$setValidity("min",!0),t.$setValidity("max",!0),a.$setValidity("min",!0),a.$setValidity("nextMonth",!0);var n=parseInt(d.model.expiryMonth),o=parseInt(d.model.expiryYear);return n<=0?void t.$setValidity("min",!1):n>12?void t.$setValidity("max",!1):o<d.currentYear?void a.$setValidity("min",!1):n<c&&o===d.currentYear?void a.$setValidity("nextMonth",!1):void(e&&d.model.expiryMonth&&1===d.model.expiryMonth.length&&(d.model.expiryMonth="0"+d.model.expiryMonth))}}]});e.exports=a.name}()},"./src/app/components/journey/step9/step9.component.scss":/*!***************************************************************!*\
  !*** ./src/app/components/journey/step9/step9.component.scss ***!
  \***************************************************************/
function(e,r){},"./src/app/components/journey/step9/step9.component.service.js":/*!*********************************************************************!*\
  !*** ./src/app/components/journey/step9/step9.component.service.js ***!
  \*********************************************************************/
function(e,r){!function(){"use strict";var r=angular.module("journey.module").service("balanceTransferService",["$rootScope","$http","appState","CONFIG","UtilService",function(e,r,t,a,n){var o=this;o.setDataInStorage=function(e){t.mergeApplicationData(e)},o.sendBalanceTransferData=function(n,o,i){var s,l;if(e.integrationsActive){l="POST";var c=t.getApplicationData().primaryApplicant.arn;s=a.apiUrl+"/applicantdetails/balancetransfer/save/"+c+"/"+i+"?hash_id="+Math.random()}else l="GET",s="resources/data/mock/step9_balance_transfer_save.json";return r({method:l,url:s,headers:{"Content-Type":"application/json"},data:JSON.stringify(n),params:o}).then(function(e){if(200===e.status&&e.data)return e.data;e&&e.validationErrors},function(e){})},o.getUserDetails=function(){var e={},r=t.getApplicationData();if(r&&r.primaryApplicant){if(r.primaryApplicant.dipDetails)if(e.supplementaryCardApplied="Y"===r.primaryApplicant.dipDetails.supplementaryCardApplied,e.creditLimit=r.primaryApplicant.dipDetails.creditLimit?r.primaryApplicant.dipDetails.creditLimit:null,n.isEmpty(r.primaryApplicant.dipDetails.creditLimit))e.transferLimit=0;else{var a=r.primaryApplicant.dipDetails.creditLimit.split(","),o=parseInt(a.join(""));e.transferLimit=.95*o}if(r.primaryApplicant.balanceTransfer){if(e.bank=r.primaryApplicant.balanceTransfer.nameOfBank?r.primaryApplicant.balanceTransfer.nameOfBank:null,e.tenure=r.primaryApplicant.balanceTransfer.tenure?r.primaryApplicant.balanceTransfer.tenure:null,n.isEmpty(r.primaryApplicant.balanceTransfer.cardExpiryDate))e.expiryMonth=null,e.expiryYear=null;else{var o=r.primaryApplicant.balanceTransfer.cardExpiryDate.split("/");e.expiryMonth=o[0],e.expiryYear=o[1]}e.cardNumber=r.primaryApplicant.balanceTransfer.cardNumber?r.primaryApplicant.balanceTransfer.cardNumber:null,e.amount=r.primaryApplicant.balanceTransfer.amount?r.primaryApplicant.balanceTransfer.amount.toString():null}}return e}}]);e.exports=r.name}()}});
//# sourceMappingURL=d9beb5d92017231a22b512.js.map