{"version":3,"sources":["webpack:///resources/js/180bff5e5ee99a0960369.js","webpack:///./src/app/components/journey/card-DIP/cancel.modal/cancel.modal.component.html","webpack:///./src/app/components/journey/card-DIP/cancel.modal/cancel.modal.component.js","webpack:///./src/app/components/journey/card-DIP/card-DIP.component.html","webpack:///./src/app/components/journey/card-DIP/card-DIP.component.js","webpack:///./src/app/components/journey/card-DIP/card-DIP.component.service.js"],"names":["webpackJsonp","./src/app/components/journey/card-DIP/cancel.modal/cancel.modal.component.html","module","exports","./src/app/components/journey/card-DIP/cancel.modal/cancel.modal.component.js","__webpack_require__","angular","modalController","$scope","$http","$state","analyticService","vm","this","$onInit","buttonList","popup","event_content","trackUserAction","Close","isSelected","buttonClick","close","$value","cancel","dismiss","modalComp","component","template","bindings","resolve","controller","name","./src/app/components/journey/card-DIP/cancel.modal/cancel.modal.component.scss","./src/app/components/journey/card-DIP/card-DIP.component.html","./src/app/components/journey/card-DIP/card-DIP.component.js","cardDip","$uibModal","$filter","$anchorScroll","$rootScope","journeyService","cardDipService","UtilService","state","$broadcast","showLoader","showCard","loaderType","showARN","isStaffJourney","selectedCard","getSelectedCard","initDefaults","referredDip","pageList","dipReferred","internal_reference_id","getDataFromStorageContact","adobeId","trackPageLoad","dip","showSelectedCard","dipARN","stepsHeader","currentStep","addressTypes","addressTypesForEstatements","cardUsages","cardReasons","model","getUserDetails","cardUsage","cardReason","correspondenceAddress","maritalStatus","getMaritalStatus","status","maxHasPerfios","maxNoPerfios","minHasPerfios","minNoPerfios","getCountries","then","data","countries","birthCountry","countryName","dipArn","permanentAddress","country","address","currentFlatNumber","address1","currentRoadNumber","address2","area","address3","currentPostalCode","pinCode","cityDetails","city","districtDetails","district","stateDetails","addressType","getBanks","bankList","toggleIsPermAddressSame","submitted","permanentAddressSame","toggleClick","resetPermanentAddress","toggleExistingRelation","toggleEStatements","eStatementApplied","getAddressByPinCode","event","cardDIP","$setValidity","target","value","length","getAddressByPostalCode","distEmpty","isEmpty","toggleBalanceTransfer","balanceTransferTaken","toggleSupplementoryCard","supplementaryCardApplied","next","submitForm","$valid","applicantAdditionalData","prepareDataToSend","securityParams","robocheck","sendApplicantData","result","success","storageData","primaryApplicant","perfiosSkip","message","setDataInStorage","go","cardKey","key","errorCode","errMsg","focusOnInvalid","accountDetails","copy","accountNumberConsent","hasFormerName","formerName","motherName","kyc","fatherName","nameOnCard","estatementApplied","existingRelation","existingRelationShipDetails","creditLimit","isNumber","toLocaleString","hasOtherBankCardDetails","merge","bank","cardNumber","cardIssueDate","issueMonth","issueYear","amount","parseInt","resetAddressFields","form","selectedCountry","countryCode","$dirty","$pristine","$touched","$untouched","currentCity","currentPinCode","currentState","currentArea","currentCityDetails","currentDistrictDetails","currentStateDetails","open","backdrop","keyboard","modalFade","windowClass","cancelApplicantData","sessionError","getApplicantName","save","saveData","issueDateChange","doFormat","monthElement","month","yearElement","year","currentYear","Date","getFullYear","validateOtherCardLimit","./src/app/components/journey/card-DIP/card-DIP.component.scss","./src/app/components/journey/card-DIP/card-DIP.component.service.js","service","appState","CONFIG","self","fullName","getARN","localState","getApplicationData","arn","demographicDetails","applicantData","dipDetails","arnData","setApplicationData","apiURL","httpMethod","integrationsActive","apiUrl","Math","random","method","url","headers","Content-Type","response","validationErrors","isSaveExit","JSON","stringify","params","contactData","getContactDetails","ekyc","userDTO","addressOptions","temp","split","accountNumber","branchLocation","primaryBank","relationType","staffName","staffId","toString","parseLimit","applicantName","val","parsed","tmp","join"],"mappings":"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","file":"resources/js/180bff5e5ee99a0960369.js","sourcesContent":["webpackJsonp([9],{\n\n/***/ \"./src/app/components/journey/card-DIP/cancel.modal/cancel.modal.component.html\":\n/* unknown exports provided */\n/* all exports used */\n/*!**************************************************************************************!*\\\n  !*** ./src/app/components/journey/card-DIP/cancel.modal/cancel.modal.component.html ***!\n  \\**************************************************************************************/\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=modal-header> <div class=heading-container> </div> <div class=close-button-container> <button type=button class=close aria-label=Close ng-click=$ctrl.cancel()> <span aria-hidden=true>×</span> </button> </div> </div> <div class=modal-body> <p class=no-margin-b>You are exiting this application. The current application will not be saved and you will not be able to resume your application thereafter. Are you sure you want to cancel? </p> </div> <div class=modal-footer> <div class=buttons-container> <button class=button-outline ng-click=$ctrl.Close(false)>No</button><button class=button-primary ng-click=$ctrl.Close(true)>Yes</button> </div> </div>\";\n\n/***/ }),\n\n/***/ \"./src/app/components/journey/card-DIP/cancel.modal/cancel.modal.component.js\":\n/* unknown exports provided */\n/* all exports used */\n/*!************************************************************************************!*\\\n  !*** ./src/app/components/journey/card-DIP/cancel.modal/cancel.modal.component.js ***!\n  \\************************************************************************************/\n/***/ (function(module, exports, __webpack_require__) {\n\n(function () {\r\n    'use strict';\r\n    var angular = __webpack_require__(/*! angular */ \"./node_modules/angular/index.js\");\r\n    __webpack_require__(/*! ./cancel.modal.component.scss */ \"./src/app/components/journey/card-DIP/cancel.modal/cancel.modal.component.scss\")\r\n\r\n    var modalController = function ($scope, $http, $state, analyticService) {\r\n        var vm = this;\r\n\r\n        vm.$onInit = function () {\r\n            analyticService.buttonList.popup.event_content = \"Exit the application\";\r\n            analyticService.trackUserAction(analyticService.buttonList.popup);\r\n        };\r\n\r\n        /**\r\n         * This function is triggered when we select or unselect card.\r\n         * We push the selected card in selectedPrimaryCards array and\r\n         *  pop the unselected card.\r\n         */\r\n        vm.Close = function (isSelected) {\r\n            analyticService.buttonList.buttonClick.event_content = \"yes\";\r\n            analyticService.trackUserAction(analyticService.buttonList.buttonClick);\r\n            vm.close({\r\n                $value: isSelected\r\n            });\r\n        };\r\n\r\n        vm.cancel = function () {\r\n            analyticService.buttonList.buttonClick.event_content = \"no\";\r\n            analyticService.trackUserAction(analyticService.buttonList.buttonClick);\r\n            vm.dismiss({\r\n                $value: 'cancel'\r\n            });\r\n        };\r\n    };\r\n\r\n    var modalComp = angular.module('journey.module').component('cancel', {\r\n        template: __webpack_require__(/*! ./cancel.modal.component.html */ \"./src/app/components/journey/card-DIP/cancel.modal/cancel.modal.component.html\"),\r\n        bindings: {\r\n            resolve: '<',\r\n            close: '&',\r\n            dismiss: '&',\r\n           \r\n        },\r\n        controller: ['$scope', '$http', '$state', 'analyticService', modalController]\r\n    });\r\n    module.exports = modalComp.name;\r\n})();\r\n\n\n/***/ }),\n\n/***/ \"./src/app/components/journey/card-DIP/cancel.modal/cancel.modal.component.scss\":\n/* unknown exports provided */\n/* all exports used */\n/*!**************************************************************************************!*\\\n  !*** ./src/app/components/journey/card-DIP/cancel.modal/cancel.modal.component.scss ***!\n  \\**************************************************************************************/\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"./src/app/components/journey/card-DIP/card-DIP.component.html\":\n/* unknown exports provided */\n/* all exports used */\n/*!*********************************************************************!*\\\n  !*** ./src/app/components/journey/card-DIP/card-DIP.component.html ***!\n  \\*********************************************************************/\n/***/ (function(module, exports) {\n\nmodule.exports = \"<form name=cardDIP autocomplete=off novalidate> <input type=text class=hidden-field ng-model=$ctrl.robocheck tabindex=-1> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <alert-msg ng-if=$ctrl.referredDip type=SUCCESS> <div ng-if=!$ctrl.isStaffJourney> Thank you for your interest in the HSBC Credit Card. <div>Your application is being reviewed.</div> <div>Kindly complete the below form so that your application can be submitted for further processing.</div> </div> <div ng-if=$ctrl.isStaffJourney> Thank you for your interest in the HSBC Credit Card. <div>Your application is being processed.</div> <div>Kindly complete the below form so that your application can be submitted for further processing.</div> </div> <div>Your Application Reference Number: {{ $ctrl.model.dipArn }}</div> <div ng-if=!$ctrl.isStaffJourney>Please complete your Video KYC after submitting the details . </div> </alert-msg> <alert-msg ng-if=$ctrl.maxHasPerfios type=SUCCESS> Congratulations. You are eligible for an HSBC Credit Card based on the information provided. <div> Kindly complete the below form so that your application can be submitted for further processing.</div> <div>Please ensure that all required documents and application submission formalities are completed within the next 20 days.</div> <div> You may contact <a target=_blank href=http://www.hsbc.co.in/1/2/miscellaneous/call-us class=new-tab-link aria-label=\\\"This link will open more information about collecting and using information in a new tab\\\"> <span class=text>PhoneBanking</span> <span class=\\\"icon icon-new-window\\\" aria-hidden=true role=presentation></span> </a> or visit the nearest HSBC branch for any queries. </div> <div>Your Application Reference Number: {{ $ctrl.model.dipArn }}</div> <div>Please complete your Video KYC after submitting the details.</div> </alert-msg> <alert-msg ng-if=$ctrl.maxNoPerfios type=SUCCESS> <div ng-if=!$ctrl.isStaffJourney> Congratulations. You are eligible for an HSBC Credit Card based on the information provided. <div>Kindly complete the below form so that your application can be submitted for further processing.</div> <div>Please complete your Video KYC after submitting the details . </div> <div>Please ensure that all required documents and application submission formalities are completed within the next 20 days to avail the above limit.</div> <div> You may contact <a target=_blank href=http://www.hsbc.co.in/1/2/miscellaneous/call-us class=new-tab-link aria-label=\\\"This link will open more information about collecting and using information in a new tab\\\"> <span class=text>PhoneBanking</span> <span class=\\\"icon icon-new-window\\\" aria-hidden=true role=presentation></span> </a> or visit the nearest HSBC branch for any queries. </div> <div>Your Application Reference Number: {{ $ctrl.model.dipArn }}</div> </div> <div ng-if=$ctrl.isStaffJourney> Congratulations. You are eligible for an HSBC Credit Card based on the information provided. <div> Your Application Reference Number: {{ $ctrl.model.dipArn }}</div> </div> </alert-msg> <alert-msg ng-if=$ctrl.minHasPerfios type=SUCCESS> Congratulations. You are eligible for an HSBC Credit Card based on the information provided. <div> Kindly complete the below form so that your application can be submitted for further processing.</div> <div>Please complete your Video KYC after submitting the details . </div> <div>Please ensure that all required documents and application submission formalities are completed within the next 20 days. </div> <div> You may contact <a target=_blank href=http://www.hsbc.co.in/1/2/miscellaneous/call-us class=new-tab-link aria-label=\\\"This link will open more information about collecting and using information in a new tab\\\"> <span class=text>PhoneBanking</span> <span class=\\\"icon icon-new-window\\\" aria-hidden=true role=presentation></span> </a> or visit the nearest HSBC branch for any queries. </div> <div>Your Application Reference Number: {{ $ctrl.model.dipArn }}</div> </alert-msg> <alert-msg ng-if=$ctrl.minNoPerfios type=SUCCESS> <div ng-if=!$ctrl.isStaffJourney> Congratulations. You are eligible for an HSBC Credit Card based on the information provided. <div>Kindly complete the below form so that your application can be submitted for further processing.</div> <div>Please complete your Video KYC after submitting the details . </div> <div>Please ensure that all required documents and application submission formalities are completed within the next 20 days. </div> <div> You may contact <a target=_blank href=http://www.hsbc.co.in/1/2/miscellaneous/call-us class=new-tab-link aria-label=\\\"This link will open more information about collecting and using information in a new tab\\\"> <span class=text>PhoneBanking</span> <span class=\\\"icon icon-new-window\\\" aria-hidden=true role=presentation></span> </a> or visit the nearest HSBC branch for any queries. </div> <div>Your Application Reference Number: {{ $ctrl.model.dipArn }}</div> </div> <div ng-if=$ctrl.isStaffJourney> Congratulations. You are eligible for an HSBC Credit Card based on the information provided. <div>Your Application Reference Number: {{ $ctrl.model.dipArn }}</div> </div> </alert-msg> <alert-msg ng-if=$ctrl.errMsg type=ERROR> {{$ctrl.errMsg}} </alert-msg> </div> </div> <p class=text-center>Few more details to complete your application</p> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <h1 class=\\\"brand-bar no-margin-top\\\">Help us know you better</h1> </div> </div> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <label id=hasFormerNameLbl>Do you have any former/other names?</label> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=hsbc-radio-group role=group aria-labelledby=hasFormerNameLbl> <div class=hsbc-radio-inline> <input type=radio id=hasFormerYes name=hasFormerName ng-value=\\\"'Y'\\\" ng-model=$ctrl.model.hasFormerName> <label for=hasFormerYes>Yes</label> </div> <div class=hsbc-radio-inline> <input type=radio id=hasFormerNo name=hasFormerName ng-value=\\\"'N'\\\" ng-model=$ctrl.model.hasFormerName> <label for=hasFormerNo>No</label> </div> </div> </div> <div ng-if=\\\"$ctrl.model.hasFormerName === 'Y'\\\" class=\\\"col-md-12 col-sm-12 col-xs-12 horiz-line-container\\\"> <div class=horiz-line-separator> <div class=\\\"side-line left-line\\\" ng-class=\\\"{'first-selected': $ctrl.model.hasFormerName === 'Y'}\\\"> </div> <div class=triangle> </div> <div class=\\\"side-line right-line\\\" ng-class=\\\"{'first-selected': $ctrl.model.hasFormerName === 'Y'}\\\"> </div> </div> </div> <div ng-if=\\\"$ctrl.model.hasFormerName === 'Y'\\\" class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <label for=formerName class=\\\"form__label text-arr\\\">Former/other name</label> <div ng-class=\\\"{'has-error': (cardDIP.formerName.$invalid && (cardDIP.formerName.$touched || $ctrl.submitted))}\\\"> <input type=text id=formerName name=formerName class=form-control ng-model=$ctrl.model.formerName trim alpha-space=50 aria-describedby=formerNameErrMsg ng-minlength=2 ng-maxlength=50 ng-required=true aria-invalid=\\\"{{(cardDIP.formerName.$invalid && (cardDIP.formerName.$touched || $ctrl.submitted))}}\\\"> </div> <div id=formerNameErrMsg ng-class=\\\"{'has-error': (cardDIP.formerName.$invalid)}\\\"> <validation-msg ng-if=\\\"cardDIP.formerName.$error.required && (cardDIP.formerName.$touched || $ctrl.submitted)\\\"> Please enter your former/other name to continue with your application. </validation-msg> <validation-msg ng-if=\\\"cardDIP.formerName.$error.minlength && (cardDIP.formerName.$touched || $ctrl.submitted)\\\"> Please enter minimum of 2 letters for your name to continue with your application. </validation-msg> </div> </div> </div> <div class=row> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label id=birthCountryLbl for=birthCountry class=text-arr> Country of birth </label> <div ng-class=\\\"{'has-error': cardDIP.birthCountry.$invalid && (cardDIP.birthCountry.$touched || $ctrl.submitted)}\\\"> <ui-select id=birthCountry input-id=birthCountry name=birthCountry aria-label=\\\"country of birth {{$select.selected.countryName}}\\\" ng-model=$ctrl.model.birthCountry theme=bootstrap aria-invalid=\\\"{{(cardDIP.birthCountry.$invalid && (cardDIP.birthCountry.$touched || $ctrl.submitted))}}\\\" ui-select-limit=30 required> <ui-select-match placeholder=\\\"Please select\\\"> <div class=\\\"flag {{$select.selected.countryCode.toLocaleLowerCase()}}\\\" style=background-image:url(resources/images/country-flags-sprite.png) ng-if=\\\"$select.selected.countryCode != -1\\\"></div> {{$select.selected.countryName}} </ui-select-match> <ui-select-choices repeat=\\\"item in $ctrl.countries | filter: $select.search\\\"> <div class=\\\"flag {{item.countryCode.toLocaleLowerCase()}}\\\" style=background-image:url(resources/images/country-flags-sprite.png) ng-if=\\\"item.countryCode != -1\\\"></div> <span ng-bind-html=\\\"item.countryName | highlight: $select.search\\\"></span> </ui-select-choices> <ui-select-no-choice> We couldn't find any choices... </ui-select-no-choice> </ui-select> </div> <div id=birthCountryErrMsg ng-class=\\\"{'has-error': cardDIP.birthCountry.$invalid}\\\"> <validation-msg ng-if=\\\"cardDIP.birthCountry.$error.required && (cardDIP.birthCountry.$touched || $ctrl.submitted)\\\"> Please select your country of birth place to continue with your application. </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=motherName class=\\\"form__label text-arr\\\">Mother's full name</label> <div ng-class=\\\"{'has-error': cardDIP.motherName.$invalid && (cardDIP.motherName.$touched || $ctrl.submitted)}\\\"> <input type=text id=motherName name=motherName class=form-control ng-model=$ctrl.model.motherName trim alpha-space=33 aria-describedby=motherNameErrMsg ng-minlength=2 ng-maxlength=33 aria-invalid=\\\"{{cardDIP.motherName.$invalid && (cardDIP.motherName.$touched || $ctrl.submitted)}}\\\" required> </div> <div id=motherNameErrMsg ng-class=\\\"{'has-error': cardDIP.motherName.$invalid}\\\"> <validation-msg ng-if=\\\"cardDIP.motherName.$error.required && (cardDIP.motherName.$touched || $ctrl.submitted)\\\"> Please enter your mother's maiden name to continue with your application. </validation-msg> <validation-msg ng-if=\\\"cardDIP.motherName.$error.maxlength && (cardDIP.motherName.$touched || $ctrl.submitted)\\\"> Maximum of 33 characters (including spaces) allowed. </validation-msg> <validation-msg ng-if=\\\"cardDIP.motherName.$error.minlength && (cardDIP.motherName.$touched || $ctrl.submitted)\\\"> Please enter atleast 2 characters of your mother's maiden name to continue with your application. </validation-msg> </div> </div> </div> </div> <div class=row> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=kycNumber class=\\\"form__label text-arr\\\">CKYC number (Optional)</label> <div> <input type=text id=kycNumber name=kycNumber class=form-control trim alpha-num=20 aria-describedby=kycNumErrMsg ng-maxlength=20 ng-model=$ctrl.model.kyc> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=fatherName>Father's full name</label> <div ng-class=\\\"{'has-error': (cardDIP.fatherName.$invalid) &&  (cardDIP.fatherName.$touched || $ctrl.submitted)}\\\"> <input type=text id=fatherName name=fatherName trim class=form-control ng-model=$ctrl.model.fatherName onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" alpha-space=50 ng-minlength=2 ng-maxlength=50 aria-describedby=fatherNameErrMsg aria-invalid=\\\"{{(cardDIP.fatherName.$invalid) &&  (cardDIP.fatherName.$touched || $ctrl.submitted)}}\\\" required> </div> <div id=fatherNameErrMsg ng-class=\\\"{ 'has-error' : cardDIP.fatherName.$invalid && ($ctrl.submitted || cardDIP.fatherName.$touched)}\\\"> <validation-msg ng-if=\\\"cardDIP.fatherName.$error.required && ($ctrl.submitted || cardDIP.fatherName.$touched)\\\"> Please enter your father's name to continue with your application </validation-msg> <validation-msg ng-if=\\\"cardDIP.fatherName.$error.pattern && ($ctrl.submitted || cardDIP.fatherName.$touched)\\\"> Your father's name contains invalid character(s). Please check and re-enter. </validation-msg> <validation-msg ng-if=\\\"cardDIP.fatherName.$error.minlength && ($ctrl.submitted || cardDIP.fatherName.$touched)\\\"> Please enter minimum of 2 letters for your father's name to continue with your application </validation-msg> <validation-msg ng-if=\\\"cardDIP.fatherName.$error.maxlength && ($ctrl.submitted || cardDIP.fatherName.$touched)\\\"> Maximum of 50 characters (including spaces) allowed for your name. </validation-msg> </div> </div> </div> </div> <hr class=\\\"line-spacer no-margin-bottom\\\"> <h2 class=brand-bar>Credit Card Usage</h2> <div class=row> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=form-group> <label id=cardUsageLabel for=cardUsage>Choice of credit card usage</label> <div ng-class=\\\"{'has-error': cardDIP.cardUsage.$invalid && (cardDIP.cardUsage.$touched || $ctrl.submitted)}\\\"> <custom-select> <select id=cardUsage name=cardUsage class=form-control ng-model=$ctrl.model.cardUsage ng-options=\\\"item for item in $ctrl.cardUsages\\\" aria-describedby=cardUsageErrMsg aria-invalid=\\\"{{cardDIP.cardUsage.$invalid && (cardDIP.cardUsage.$touched || $ctrl.submitted)}}\\\" required> <option value=\\\"\\\">Please select</option> </select> </custom-select> </div> <div id=cardUsageErrMsg class=\\\"remove-margin remove-padding form-group\\\" ng-class=\\\"{'has-error': cardDIP.cardUsage.$invalid}\\\"> <validation-msg ng-if=\\\"cardDIP.cardUsage.$error.required && (cardDIP.cardUsage.$touched || $ctrl.submitted)\\\"> Please select the usage of your credit card to continue with your application. </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer-xs\\\"> <label id=reasonLbl for=cardReason>Reason for availing of credit card</label> <div ng-class=\\\"{'has-error': cardDIP.cardReason.$invalid && (cardDIP.cardReason.$touched || $ctrl.submitted)}\\\"> <custom-select> <select id=cardReason name=cardReason class=form-control ng-model=$ctrl.model.cardReason ng-options=\\\"item for item in $ctrl.cardReasons\\\" aria-describedby=cardReasonErrMsg aria-invalid=\\\"{{cardDIP.cardReason.$invalid && (cardDIP.cardReason.$touched || $ctrl.submitted)}}\\\" required> <option value=\\\"\\\">Please select</option> </select> </custom-select> </div> <div id=cardReasonErrMsg ng-class=\\\"{'has-error': cardDIP.cardReason.$invalid}\\\"> <validation-msg ng-if=\\\"cardDIP.cardReason.$error.required && (cardDIP.cardReason.$touched || $ctrl.submitted)\\\"> Please select reason for availing your credit card to continue with your application. </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-12 col-xs-12\\\"> <div class=row> <div class=\\\"col-md-12 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer-sm line-spacer-xs\\\"> <label for=nameToAppear>Name to be printed on credit card</label> <div ng-class=\\\"{'has-error': cardDIP.nameToAppear.$invalid && ($ctrl.submitted || cardDIP.nameToAppear.$touched)}\\\"> <input type=text trim class=form-control id=nameToAppear name=nameToAppear aria-describedby=nameToAppearErrMsg onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-minlength=2 alpha-space=19 ng-maxlength=19 ng-model=$ctrl.model.nameOnCard aria-invalid=\\\"{{cardDIP.nameToAppear.$invalid && ($ctrl.submitted || cardDIP.nameToAppear.$touched)}}\\\" required> </div> <div id=nameToAppearErrMsg ng-class=\\\"{'has-error': cardDIP.nameToAppear.$invalid && ($ctrl.submitted || cardDIP.nameToAppear.$touched)}\\\"> <validation-msg ng-if=\\\"cardDIP.nameToAppear.$error.required && ($ctrl.submitted || cardDIP.nameToAppear.$touched)\\\"> Please enter your card name to continue with your application. </validation-msg> <validation-msg ng-if=\\\"cardDIP.nameToAppear.$error.pattern && ($ctrl.submitted || cardDIP.nameToAppear.$touched)\\\"> Your name contains invalid character(s). Please check and re-enter. </validation-msg> <validation-msg ng-if=\\\"cardDIP.nameToAppear.$error.minlength && ($ctrl.submitted || cardDIP.nameToAppear.$touched)\\\"> Please enter minimum of 2 letters for name to appear on the card. </validation-msg> <validation-msg ng-if=\\\"cardDIP.nameToAppear.$error.maxlength && ($ctrl.submitted || cardDIP.nameToAppear.$touched)\\\"> Maximum of 19 characters (including spaces) allowed for your name. </validation-msg> </div> </div> </div> </div> </div> </div> <hr class=\\\"line-spacer no-margin-bottom\\\"> <h2 class=brand-bar>Bank account details</h2> <div class=row> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=form-group> <label id=bankLabel for=bank>Primary/main bank </label> <div ng-class=\\\"{'has-error': cardDIP.bank.$invalid && (cardDIP.bank.$touched || $ctrl.submitted)}\\\"> <custom-select> <select id=bank name=bank class=form-control ng-model=$ctrl.model.accountDetails.primaryBank ng-options=\\\"item for item in $ctrl.bankList\\\" aria-describedby=mainBankErrMsg aria-invalid=\\\"{{cardDIP.bank.$invalid && (cardDIP.bank.$touched || $ctrl.submitted)}}\\\" ng-disabled=$ctrl.disableBank required> <option value=\\\"\\\">Please select</option> </select> </custom-select> </div> <div id=mainBankErrMsg ng-class=\\\"{'has-error': cardDIP.bank.$invalid && (cardDIP.bank.$touched || $ctrl.submitted)}\\\"> <validation-msg ng-if=\\\"cardDIP.bank.$error.required && (cardDIP.bank.$touched || $ctrl.submitted)\\\"> Please select a bank to continue with your application. </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer-xs\\\"> <label for=branchLocation>Branch location </label> <div ng-class=\\\"{'has-error': cardDIP.branch.$invalid && ($ctrl.submitted || cardDIP.branch.$touched)}\\\"> <input trim type=text id=branchLocation name=branch aria-describedby=branchLocationErrMsg class=form-control alpha-num-space=17 onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-maxlength=17 ng-model=$ctrl.model.accountDetails.branchLocation aria-invalid=\\\"{{cardDIP.branch.$invalid && ($ctrl.submitted || cardDIP.branch.$touched)}}\\\" required> </div> <div id=branchLocationErrMsg ng-class=\\\"{'has-error': (cardDIP.branch.$invalid)}\\\"> <validation-msg ng-if=\\\"(cardDIP.branch.$error.required && cardDIP.branch.$touched) ||(cardDIP.branch.$error.required && $ctrl.submitted)\\\"> Please enter your branch location to continue with your application. </validation-msg> <validation-msg ng-if=\\\"cardDIP.branch.$error.maxlength && !cardDIP.branch.$error.pattern\\\"> Maximum of 17 characters (including spaces) allowed. </validation-msg> <validation-msg ng-if=cardDIP.branch.$error.pattern> Please enter your branch location using letters and spaces only, and no special characters. </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=$ctrl.isStaffJourney> <div class=\\\"form-group line-spacer\\\"> <input type=checkbox id=consentChk name=consentChk class=screen-reader-only ng-model=$ctrl.model.accountDetails.accountNumberConsent ng-focus=\\\"$ctrl.chkFocus = true;\\\" ng-blur=\\\"$ctrl.chkFocus = false;\\\"> <label for=consentChk class=checkbox-label ng-class=\\\"{'focus': $ctrl.chkFocus}\\\"> Email approval attached </label> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <div class=\\\"form-group line-spacer-sm line-spacer-xs\\\"> <label id=accountNumberLabel>Account number</label> <div ng-class=\\\"{'has-error': cardDIP.accountNumber.$invalid && ($ctrl.submitted || cardDIP.accountNumber.$touched)}\\\"> <input type=text name=accountNumber aria-labelledby=accountNumberLabel aria-describedby=acNumErrMsg class=form-control auto-caps alpha-num=18 onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-maxlength=18 ng-minlength=9 ng-model=$ctrl.model.accountDetails.accountNumber aria-invalid=\\\"{{cardDIP.accountNumber.$invalid && ($ctrl.submitted || cardDIP.accountNumber.$touched)}}\\\" ng-required=!$ctrl.model.accountDetails.accountNumberConsent> </div> <div id=acNumErrMsg ng-class=\\\"{'has-error': cardDIP.accountNumber.$invalid}\\\"> <validation-msg ng-if=\\\"cardDIP.accountNumber.$error.required && (cardDIP.accountNumber.$touched || $ctrl.submitted)\\\"> Please enter your account number to continue with your application. </validation-msg> <validation-msg ng-if=\\\"cardDIP.accountNumber.$error.minlength && (cardDIP.accountNumber.$touched || $ctrl.submitted)\\\"> Please make sure the account number contains atleast 9 digits. </validation-msg> </div> </div> </div> </div> </div> </div> <hr class=\\\"line-spacer no-margin-bottom\\\"> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <h2 class=brand-bar>Electronic Statements</h2> </div> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <label id=eStatementLbl> Do you want to receive electronic statements? <br> <small> Your Credit Card statement will be sent to the email address provided in this application and you will not receive a printed copy of the same. </small> <br> <small> <b>Note:</b> If you wish to receive a printed copy of your credit card statement, please contact <a target=_blank href=http://www.hsbc.co.in/1/2/miscellaneous/call-us class=new-tab-link aria-label=\\\"This link will open more information about collecting and using information in a new tab\\\"> <span class=text>PhoneBanking</span> <span class=\\\"icon icon-new-window\\\" aria-hidden=true role=presentation></span> </a> </small> </label> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=hsbc-radio-group role=group aria-labelledby=eStatementLbl> <div class=hsbc-radio-inline> <input type=radio id=eStmtYes name=eStatement ng-value=\\\"'Y'\\\" ng-model=$ctrl.model.eStatementApplied ng-change=$ctrl.toggleEStatements()> <label for=eStmtYes>Yes</label> </div> <div class=hsbc-radio-inline> <input type=radio id=eStmtNo name=eStatement ng-value=\\\"'N'\\\" ng-model=$ctrl.model.eStatementApplied ng-change=$ctrl.toggleEStatements()> <label for=eStmtNo>No</label> </div> </div> </div> </div> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <hr class=\\\"line-spacer no-margin-bottom\\\"> </div> </div> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <h2 class=brand-bar>Correspondence Address</h2> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=form-group> <div> <label id=corspAddTypeLbl for=addressTypesForEstatements class=\\\"form__label text-arr\\\">Preferred address for correspondence</label> </div> <div ng-class=\\\"{'has-error': cardDIP.addressTypesForEstatements.$invalid && (cardDIP.addressTypesForEstatements.$touched || $ctrl.submitted)}\\\"> <custom-select> <select id=addressTypesForEstatements name=addressTypesForEstatements class=form-control ng-model=$ctrl.model.correspondenceAddress ng-options=\\\"item for item in $ctrl.addressTypesForEstatements\\\" aria-describedby=addressTypesForEstatementsErrMsg aria-invalid=\\\"{{cardDIP.addressTypesForEstatements.$invalid && (cardDIP.addressTypesForEstatements.$touched || $ctrl.submitted)}}\\\" required> <option value=\\\"\\\">Please select</option> </select> </custom-select> </div> <div id=addressTypesForEstatementsErrMsg ng-class=\\\"{'has-error': cardDIP.addressTypesForEstatements.$invalid}\\\"> <validation-msg ng-if=\\\"cardDIP.addressTypesForEstatements.$error.required && (cardDIP.addressTypesForEstatements.$touched || $ctrl.submitted)\\\"> Please select your preferred address for correspondence to continue with your application. </validation-msg> </div> </div> </div> </div> <hr class=\\\"line-spacer no-margin-bottom\\\"> <hr ng-if=\\\"$ctrl.model.addressOptions=='Current'\\\" class=\\\"line-spacer no-margin-bottom\\\"> <h2 class=brand-bar>My existing relationships</h2> <div class=form-group> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <label id=haveRelationLbl>Do you have a near relation to any employee of the Bank or any directors of any HSBC Group Companies?</label> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=hsbc-radio-group role=group aria-labelledby=haveRelationLbl> <div class=hsbc-radio-inline> <input type=radio id=yes name=existingRelation ng-value=\\\"'Y'\\\" ng-model=$ctrl.model.existingRelation ng-change=$ctrl.toggleExistingRelation()> <label for=yes>Yes</label> </div> <div class=hsbc-radio-inline> <input type=radio id=no name=existingRelation ng-value=\\\"'N'\\\" ng-model=$ctrl.model.existingRelation ng-change=$ctrl.toggleExistingRelation()> <label for=no>No</label> </div> </div> </div> </div> </div> <div ng-if=\\\"$ctrl.model.existingRelation==='Y'\\\" class=\\\"row remove-padding horiz-line-container\\\"> <div class=horiz-line-separator> <div class=\\\"side-line left-line\\\" ng-class=\\\"{'first-selected': $ctrl.model.existingRelation==='Y'}\\\"> </div> <div class=triangle> </div> <div class=\\\"side-line right-line\\\" ng-class=\\\"{'first-selected': $ctrl.model.existingRelation==='Y'}\\\"> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.model.existingRelation==='Y'\\\"> <div class=\\\"col-md-4 col-sm-12 col-xs-12\\\"> <div class=form-group> <label for=bankRelation>Relationship type </label> <div ng-class=\\\"{'has-error': cardDIP.relationType.$invalid && ($ctrl.submitted || cardDIP.relationType.$touched)}\\\"> <input trim type=text alpha-space=33 name=relationType id=bankRelation aria-describedby=bankRelationErrMsgF class=form-control aria-invalid=\\\"{{cardDIP.relationType.$invalid && ($ctrl.submitted || cardDIP.relationType.$touched)}}\\\" ng-maxlength=33 ng-model=$ctrl.model.existingRelationShipDetails.relationType required> </div> <div id=bankRelationErrMsg ng-class=\\\"{'has-error': cardDIP.relationType.$invalid}\\\"> <validation-msg ng-if=\\\"cardDIP.relationType.$error.required && (cardDIP.relationType.$touched || $ctrl.submitted)\\\"> Please enter your relationship type to continue with your application. </validation-msg> <validation-msg ng-if=cardDIP.relationType.$error.maxlength> Maximum of 33 characters (including spaces) allowed. </validation-msg> </div> </div> </div> <div class=\\\"col-md-8 col-sm-12 col-xs-12\\\"> <div class=\\\"form-group line-spacer-sm line-spacer-xs\\\"> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <label for=relationWith>Director/employee name with whom relationship exist</label> </div> <div class=\\\"col-md-6 col-sm-12 col-xs-12\\\"> <div ng-class=\\\"{'has-error': cardDIP.relationWith.$invalid && ($ctrl.submitted || cardDIP.relationWith.$touched)}\\\"> <input trim type=text name=relationWith id=relationWith aria-describedby=relationWithErrMsg alpha-space=33 class=form-control aria-invalid=\\\"{{cardDIP.relationWith.$invalid && ($ctrl.submitted || cardDIP.relationWith.$touched)}}\\\" onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-maxlength=33 ng-model=$ctrl.model.existingRelationShipDetails.staffName required> </div> <div id=relationWithErrMsg ng-class=\\\"{'has-error': (cardDIP.relationWith.$invalid)}\\\"> <validation-msg ng-if=\\\"cardDIP.relationWith.$error.required && (cardDIP.relationWith.$touched || $ctrl.submitted)\\\"> Please enter the director/employee name to continue with your application. </validation-msg> <validation-msg ng-if=cardDIP.relationWith.$error.maxlength> Maximum of 33 characters (including spaces) allowed </validation-msg> </div> </div> </div> </div> </div> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <div class=row> <div class=\\\"col-md-4 col-sm-12 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=staffID>Staff ID</label> <div ng-class=\\\"{'has-error': cardDIP.staffID.$invalid && (cardDIP.staffID.$touched || $ctrl.submitted)}\\\"> <input trim type=tel id=staffID name=staffID aria-describedby=staffIdErrMsg class=form-control ng-model=$ctrl.model.existingRelationShipDetails.staffId aria-invalid=\\\"{{cardDIP.staffID.$invalid && (cardDIP.staffID.$touched || $ctrl.submitted)}}\\\" ng-maxlength=8 only-number=8 maxlength=8 minlength=8 required> </div> <div id=staffIdErrMsg ng-class=\\\"{'has-error': cardDIP.staffID.$invalid}\\\"> <validation-msg ng-if=\\\"cardDIP.staffID.$error.required && (cardDIP.staffID.$touched || $ctrl.submitted)\\\"> Please enter the staff ID to continue with your application. </validation-msg> <validation-msg ng-if=cardDIP.staffID.$error.minlength> Please enter the 8 Digit Staff ID. </validation-msg> </div> </div> </div> </div> </div> </div> <div id=additional-features ng-if=!$ctrl.isStaffJourney> <hr class=\\\"line-spacer no-margin-bottom\\\"> <h2 class=brand-bar>Select additional feature</h2> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <div class=form-group> <div> <input type=checkbox id=balTransChk name=balTransChk class=screen-reader-only ng-model=$ctrl.model.balanceTransferTaken ng-change=$ctrl.toggleBalanceTransfer() ng-focus=\\\"$ctrl.hasBalTransFocus = true;\\\" ng-blur=\\\"$ctrl.hasBalTransFocus = false;\\\"> <label for=balTransChk class=checkbox-label ng-class=\\\"{'focus': $ctrl.hasBalTransFocus}\\\">Would you like to take up a balance transfer facility?</label> </div> <div> <input type=checkbox id=addSuppChk name=addSuppChk class=screen-reader-only ng-model=$ctrl.model.supplementaryCardApplied ng-change=$ctrl.toggleSupplementoryCard() ng-focus=\\\"$ctrl.hasAddSuppFocus = true;\\\" ng-blur=\\\"$ctrl.hasAddSuppFocus = false;\\\"> <label for=addSuppChk class=checkbox-label ng-class=\\\"{'focus': $ctrl.hasAddSuppFocus}\\\">Do you want to apply for a add-on card?</label> </div> </div> </div> </div> </div> <div ng-if=false class=\\\"form-group line-spacer\\\"> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <label id=haveRelationLbl>Do you have another bank card?</label> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=hsbc-radio-group role=group aria-labelledby=haveRelationLbl> <div class=hsbc-radio-inline> <input type=radio id=hocYes name=haveOtherCard ng-value=\\\"'Y'\\\" ng-model=$ctrl.model.hasOtherBankCardDetails> <label for=hocYes>Yes</label> </div> <div class=hsbc-radio-inline> <input type=radio id=hocNo name=haveOtherCard ng-value=\\\"'N'\\\" ng-model=$ctrl.model.hasOtherBankCardDetails> <label for=hocNo>No</label> </div> </div> </div> </div> </div> <div ng-if=\\\"$ctrl.isStaffJourney && $ctrl.model.hasOtherBankCardDetails==='Y'\\\" class=\\\"row remove-padding horiz-line-container\\\"> <div class=horiz-line-separator> <div class=\\\"side-line left-line\\\" ng-class=\\\"{'first-selected': $ctrl.model.hasOtherBankCardDetails==='Y'}\\\"> </div> <div class=triangle> </div> <div class=\\\"side-line right-line\\\" ng-class=\\\"{'first-selected': $ctrl.model.hasOtherBankCardDetails==='Y'}\\\"> </div> </div> </div> <div ng-if=\\\"$ctrl.isStaffJourney && $ctrl.model.hasOtherBankCardDetails==='Y'\\\" class=row> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=form-group> <label id=bankNameLbl for=otherCardBank>Issuer Name</label> <div ng-class=\\\"{'has-error': cardDIP.otherCardBank.$invalid && (cardDIP.otherCardBank.$touched || $ctrl.submitted)}\\\"> <custom-select> <select id=otherCardBank name=otherCardBank class=form-control ng-model=$ctrl.model.bank ng-options=\\\"item for item in $ctrl.bankList\\\" aria-describedby=otherCardBankErrMsg aria-invalid=\\\"{{cardDIP.otherCardBank.$invalid && (cardDIP.otherCardBank.$touched || $ctrl.submitted)}}\\\" required> <option value=\\\"\\\">Please select</option> </select> </custom-select> </div> <div id=otherCardBankErrMsg class=\\\"form-group remove-margin\\\" ng-class=\\\"{'has-error': cardDIP.otherCardBank.$invalid}\\\"> <validation-msg ng-if=\\\"cardDIP.otherCardBank.$error.required && (cardDIP.otherCardBank.$touched || $ctrl.submitted)\\\"> Please select a bank to continue with your application.</validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer-xs\\\"> <label for=cardNumber>Card number</label> <div ng-class=\\\"{ 'has-error' : cardDIP.cardNumber.$invalid  && ($ctrl.submitted || cardDIP.cardNumber.$touched)}\\\"> <input type=tel id=cardNumber name=cardNumber aria-describedby=cardNumErrMsg trim class=form-control only-number=16 onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-maxlength=16 maxlength=16 minlength=13 ng-minlength=13 ng-model=$ctrl.model.cardNumber aria-invalid=\\\"{{cardDIP.cardNumber.$invalid  && ($ctrl.submitted || cardDIP.cardNumber.$touched)}}\\\" required> </div> <div id=cardNumErrMsg class=\\\"form-group col-md-12 col-sm-12 col-xs-12 remove-margin\\\" ng-class=\\\"{'has-error' : (cardDIP.cardNumber.$invalid && ($ctrl.submitted || cardDIP.cardNumber.$touched))}\\\"> <div class=row> <validation-msg ng-if=\\\"(cardDIP.cardNumber.$error.required && cardDIP.cardNumber.$touched) || (cardDIP.cardNumber.$error.required && $ctrl.submitted)\\\"> Please enter your card number to continue with your application. </validation-msg> <validation-msg ng-if=\\\"cardDIP.cardNumber.$error.maxlength && !cardDIP.cardNumber.$error.pattern && ($ctrl.submitted || cardDIP.cardNumber.$touched)\\\"> Maximum of 16 digits allowed for your card number.</validation-msg> <validation-msg ng-if=\\\"cardDIP.cardNumber.$error.minlength && !cardDIP.cardNumber.$error.pattern && ($ctrl.submitted || cardDIP.cardNumber.$touched)\\\"> Please enter a minimum of 13 digits. </validation-msg> <validation-msg ng-if=\\\"cardDIP.cardNumber.$error.pattern && ($ctrl.submitted || cardDIP.cardNumber.$touched)\\\"> Your card number contains invalid digits.Please check and Renter. </validation-msg> </div> </div> </div> </div> </div> <div ng-if=\\\"$ctrl.isStaffJourney && $ctrl.model.hasOtherBankCardDetails==='Y'\\\" class=row> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <label id=cardExpiryLabel>Issued from date (mm/yyyy)</label> </div> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <div class=\\\"col-md-6 col-sm-6 col-xs-6 remove-padding\\\"> <div ng-class=\\\"{'has-error': cardDIP.month.$invalid && (cardDIP.month.$touched || $ctrl.submitted)}\\\"> <input type=tel trim name=month aria-label=\\\"Card issue (MM)\\\" aria-describedby=otherCardIssueErrMsg ng-model=$ctrl.model.issueMonth class=\\\"form-control text-center\\\" ng-keyup=$ctrl.issueDateChange() ng-blur=$ctrl.issueDateChange(true) onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-maxlength=2 only-number=2 maxlength=2 max=12 min=1 placeholder=MM aria-invalid=\\\"{{cardDIP.month.$invalid && (cardDIP.month.$touched || $ctrl.submitted)}}\\\" required> </div> </div> <div class=\\\"col-md-6 col-sm-6 col-xs-6 remove-padding\\\"> <div ng-class=\\\"{'has-error': cardDIP.year.$invalid && (cardDIP.year.$touched || $ctrl.submitted)}\\\"> <input type=tel trim name=year aria-label=\\\"Card issue (YYYY)\\\" aria-describedby=otherCardIssueErrMsg ng-model=$ctrl.model.issueYear class=\\\"form-control text-center\\\" ng-keyup=$ctrl.issueDateChange() ng-blur=$ctrl.issueDateChange(true) onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-maxlength=4 ng-minlength=4 only-number=4 maxlength=4 placeholder=YYYY aria-invalid=\\\"{{cardDIP.year.$invalid && (cardDIP.year.$touched || $ctrl.submitted)}}\\\" required> </div> </div> </div> </div> <div> <div id=otherCardIssueErrMsg class=\\\"col-md-12 col-sm-12 col-xs-12 remove-margin\\\" ng-class=\\\"{'has-error': cardDIP.year.$invalid || cardDIP.month.$invalid}\\\"> <div class=row> <validation-msg ng-if=\\\"(cardDIP.month.$error.required && (cardDIP.month.$touched || $ctrl.submitted)) || (cardDIP.year.$error.required && cardDIP.month.$valid && (cardDIP.year.$touched || $ctrl.submitted))\\\"> Please enter your other bank's card issue date to continue with your application. </validation-msg> <validation-msg ng-if=\\\"cardDIP.year.$error.minlength && (cardDIP.year.$touched || $ctrl.submitted) && cardDIP.month.$valid\\\"> Years of other bank's card issue date should contain exactly 4 digits. </validation-msg> <validation-msg ng-if=\\\"cardDIP.month.$error.min && !cardDIP.month.$error.required\\\"> Month of other bank's card issue date cannot be lesser than 1. </validation-msg> <validation-msg ng-if=\\\"cardDIP.year.$error.max && cardDIP.month.$valid\\\"> Year of other bank's card issue date cannot be greater than current year. </validation-msg> <validation-msg ng-if=\\\"cardDIP.year.$error.invalid && !cardDIP.year.$error.required && cardDIP.month.$valid && (cardDIP.year.$touched || $ctrl.submitted)\\\"> Please enter a valid year of card issue to continue with your application. </validation-msg> <validation-msg ng-if=\\\"cardDIP.month.$error.max && !cardDIP.month.$error.required\\\"> Month of other bank's card expiry date cannot be greater than 12. </validation-msg> </div> </div> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=amount>Credit limit</label> <div ng-class=\\\"{'has-error': cardDIP.amount.$invalid && (cardDIP.amount.$touched || $ctrl.submitted)}\\\"> <input type=tel trim id=amount name=amount aria-describedby=trasAmtErrMsg class=form-control only-number=8 onkeypress=\\\"0!==this.value.length||32!==event.charCode&&48!==event.charCode||event.preventDefault()\\\" ng-keyup=$ctrl.validateOtherCardLimit() ng-blur=$ctrl.validateOtherCardLimit() ng-model=$ctrl.model.amount aria-invalid=\\\"{{cardDIP.amount.$invalid && (cardDIP.amount.$touched || $ctrl.submitted)}}\\\" required> </div> <div id=trasAmtErrMsg class=\\\"form-group col-md-12 remove-margin\\\" ng-class=\\\"{'has-error': cardDIP.amount.$invalid}\\\"> <validation-msg ng-if=\\\"cardDIP.amount.$error.required && (cardDIP.amount.$touched || $ctrl.submitted)\\\"> Please enter the amount to be transferred to continue with your application. </validation-msg> </div> </div> </div> </div> <step-footer show-cancel=false cancel-callback=$ctrl.cancel() show-save=true save-callback=$ctrl.save() show-continue=true continue-button-id=continue-btn continue-disabled=false continue-callback=$ctrl.next()> </step-footer> </form>\";\n\n/***/ }),\n\n/***/ \"./src/app/components/journey/card-DIP/card-DIP.component.js\":\n/* unknown exports provided */\n/* all exports used */\n/*!*******************************************************************!*\\\n  !*** ./src/app/components/journey/card-DIP/card-DIP.component.js ***!\n  \\*******************************************************************/\n/***/ (function(module, exports, __webpack_require__) {\n\n(function () {\r\n    'use strict';\r\n    var angular = __webpack_require__(/*! angular */ \"./node_modules/angular/index.js\");\r\n    __webpack_require__(/*! ./card-DIP.component.service */ \"./src/app/components/journey/card-DIP/card-DIP.component.service.js\");\r\n    __webpack_require__(/*! ./card-DIP.component.scss */ \"./src/app/components/journey/card-DIP/card-DIP.component.scss\");\r\n    // require('../save-exit.modal/overlayConfirmation.modal.component.js');\r\n    __webpack_require__(/*! ./cancel.modal/cancel.modal.component.js */ \"./src/app/components/journey/card-DIP/cancel.modal/cancel.modal.component.js\");\r\n\r\n    function cardDip($scope, $state, $uibModal, $filter, $anchorScroll, $rootScope, journeyService, cardDipService, analyticService, UtilService) {\r\n\r\n        var vm = this;\r\n        vm.state = $state;\r\n        var options = {};\r\n\r\n        vm.$onInit = function () {\r\n            $rootScope.$broadcast('trigger-verification-loader', {\r\n                showLoader: false,\r\n                showCard: true,\r\n                loaderType: 'DIP'\r\n            });\r\n            $rootScope.showARN = true;\r\n            vm.isStaffJourney = journeyService.isStaffJourney();\r\n            vm.selectedCard = journeyService.getSelectedCard();\r\n            vm.showLoader = false;\r\n            vm.initDefaults();\r\n            if (vm.referredDip) {\r\n                analyticService.pageList.dipReferred.internal_reference_id = journeyService.getDataFromStorageContact().adobeId;\r\n                analyticService.trackPageLoad(analyticService.pageList.dipReferred);\r\n            } else {\r\n                analyticService.pageList.dip.internal_reference_id = journeyService.getDataFromStorageContact().adobeId;\r\n                analyticService.trackPageLoad(analyticService.pageList.dip);\r\n            }\r\n            $anchorScroll();\r\n        };\r\n\r\n        vm.initDefaults = function () {\r\n            $rootScope.showSelectedCard = true;\r\n            $rootScope.showARN = false;\r\n            $rootScope.dipARN = null;\r\n            $rootScope.stepsHeader.currentStep = 4;\r\n\r\n            vm.addressTypes = ['Residential', 'Residential cum business'];\r\n            vm.addressTypesForEstatements = ['Residential Address', 'Permanent Address', 'Office Address'];\r\n            vm.cardUsages = ['Domestic usage only', 'Domestic and international usage'];\r\n            vm.cardReasons = ['Cash back benefits', 'Lifestyle', 'Personal use', 'Reward points'];\r\n            vm.model = {};\r\n            vm.model = cardDipService.getUserDetails();\r\n            vm.model.cardUsage = vm.model.cardUsage || vm.cardUsages[0];\r\n            vm.model.cardReason = vm.model.cardReason || vm.cardReasons[2];\r\n            vm.model.correspondenceAddress = vm.model.correspondenceAddress ? vm.model.correspondenceAddress : vm.addressTypesForEstatements[0];\r\n            vm.maritalStatus = cardDipService.getMaritalStatus();\r\n            vm.isStaffJourney = journeyService.isStaffJourney();\r\n\r\n            vm.referredDip = vm.model.status == 5000 ? true : false;\r\n            // vm.maxHasPerfios:  DIP + Exact Credit Limit(>60k) Assignment Message(with Perfios)\r\n            vm.maxHasPerfios = vm.model.status == 5002 ? true : false;\r\n            // vm.maxNoPerfios:  DIP + Indicative Range Credit Limit Assignment(>60k) Message\r\n            // (Income document uploaded by applicant)\r\n            vm.maxNoPerfios = vm.model.status == 5003 ? true : false;\r\n            // vm.minHasPerfios: DIP + Exact Credit Limit(>30k & <60k) Assignment Message(with Perfios) \r\n            vm.minHasPerfios = vm.model.status == 5004 ? true : false;\r\n            // vm.minNoPerfios: DIP + Indicative Range Credit Limit Assignment(>30k & <60k) Message\r\n            // (KYC and PAN check done, income document uploaded by applicant)\r\n            vm.minNoPerfios = vm.model.status == 5005 ? true : false;\r\n\r\n            journeyService.getCountries().then(function (data) {\r\n                vm.countries = data;\r\n                vm.model.birthCountry = vm.model.birthCountry ? $filter('filter')(vm.countries, {\r\n                    \"countryName\": vm.model.birthCountry\r\n                })[0] : vm.countries[0];\r\n                if (vm.model.dipArn) {\r\n                    $rootScope.dipARN = vm.model.dipArn;\r\n                }\r\n                if (vm.model.permanentAddress != null) {\r\n                    vm.model.permanentAddress.country = vm.model.permanentAddress.country ? $filter('filter')(vm.countries, {\r\n                        \"countryName\": vm.model.permanentAddress.country\r\n                    })[0] : vm.countries[0];\r\n                } else {\r\n                    vm.model.permanentAddress = {};\r\n                    vm.model.permanentAddress.country = vm.countries[0];\r\n                }\r\n                if (vm.model.permanentAddress != null && vm.model.permanentAddress.country.countryName == 'India') {\r\n                    var address = {\r\n                        country: vm.model.permanentAddress.country,\r\n                        currentFlatNumber: vm.model.permanentAddress.address1,\r\n                        currentRoadNumber: vm.model.permanentAddress.address2,\r\n                        area: vm.model.permanentAddress.address3,\r\n                        currentPostalCode: vm.model.permanentAddress.pinCode,\r\n                        cityDetails: vm.model.permanentAddress.city,\r\n                        districtDetails: vm.model.permanentAddress.district,\r\n                        stateDetails: vm.model.permanentAddress.state,\r\n                        addressType: vm.model.permanentAddress.addressType\r\n                    };\r\n                    vm.model.permanentAddress = address;\r\n                }\r\n            });\r\n\r\n            journeyService.getBanks().then(function (data) {\r\n                vm.bankList = data;\r\n            });\r\n        };\r\n\r\n        vm.toggleIsPermAddressSame = function () {\r\n            // vm.model.permanentAddressSame = isSame;\r\n            vm.submitted = false;\r\n            if (vm.model.permanentAddressSame === 'N') {\r\n                vm.model.permanentAddress.addressType = vm.model.permanentAddress.addressType || vm.addressTypes[0];\r\n                analyticService.buttonList.toggleClick.event_content = \"no\";\r\n                analyticService.trackUserAction(analyticService.buttonList.toggleClick);\r\n            } else {\r\n                resetPermanentAddress();\r\n                analyticService.buttonList.toggleClick.event_content = \"yes\";\r\n                analyticService.trackUserAction(analyticService.buttonList.toggleClick);\r\n            }\r\n        };\r\n\r\n        vm.toggleExistingRelation = function () {\r\n            vm.submitted = false;\r\n        };\r\n\r\n        var resetPermanentAddress = function () {\r\n            vm.model.permanentAddress.addressType = '';\r\n            vm.model.permanentAddress.country = vm.model.countries[0];\r\n            vm.model.permanentAddress.address1 = '';\r\n            vm.model.permanentAddress.address2 = '';\r\n            vm.model.permanentAddress.address3 = '';\r\n            vm.model.permanentAddress.pinCode = '';\r\n            vm.model.permanentAddress.city = '';\r\n            vm.model.permanentAddress.district = '';\r\n            vm.model.permanentAddress.state = '';\r\n        };\r\n\r\n        vm.toggleEStatements = function () {\r\n            vm.submitted = false;\r\n            if (vm.model.eStatementApplied == 'N') {\r\n                analyticService.buttonList.toggleClick.event_content = \"no\";\r\n                analyticService.trackUserAction(analyticService.buttonList.toggleClick);\r\n            } else {\r\n                analyticService.buttonList.toggleClick.event_content = \"yes\";\r\n                analyticService.trackUserAction(analyticService.buttonList.toggleClick);\r\n            }\r\n            vm.model.correspondenceAddress = vm.addressTypesForEstatements[0];\r\n        };\r\n\r\n        vm.getAddressByPinCode = function (event) {\r\n            $scope.cardDIP.currentPostalCode.$setValidity('invalid', true);\r\n            var pinCode = vm.model.permanentAddress.currentPostalCode;\r\n            if (event.target.value.length === 6) {\r\n                journeyService.getAddressByPostalCode(pinCode, '.masked-container').then(function (data) {\r\n                    vm.model.permanentAddress.cityDetails = data.city;\r\n                    vm.model.permanentAddress.districtDetails = data.district;\r\n                    vm.model.permanentAddress.stateDetails = data.state;\r\n                    vm.distEmpty = UtilService.isEmpty(data.district)\r\n                    if (UtilService.isEmpty(data) || UtilService.isEmpty(data.state) || UtilService.isEmpty(data.city)) {\r\n                        $scope.cardDIP.currentPostalCode.$setValidity('invalid', false);\r\n                    }\r\n                });\r\n            } else {\r\n                vm.model.permanentAddress.cityDetails = null;\r\n                vm.model.permanentAddress.districtDetails = null;\r\n                vm.model.permanentAddress.stateDetails = null;\r\n            }\r\n        };\r\n\r\n        vm.toggleBalanceTransfer = function () {\r\n            // vm.model.balanceTransferTaken = !vm.model.balanceTransferTaken;\r\n            if (vm.model.balanceTransferTaken) {\r\n                analyticService.buttonList.toggleClick.event_content = \"Would you like to take up a balance transfer facility?: Enabled\";\r\n                analyticService.trackUserAction(analyticService.buttonList.toggleClick);\r\n            } else {\r\n                analyticService.buttonList.toggleClick.event_content = \"Would you like to take up a balance transfer facility?: Disabled\";\r\n                analyticService.trackUserAction(analyticService.buttonList.toggleClick);\r\n            }\r\n        };\r\n\r\n        vm.toggleSupplementoryCard = function () {\r\n            // vm.model.supplementaryCardApplied = !vm.model.supplementaryCardApplied;\r\n            if (vm.model.supplementaryCardApplied) {\r\n                analyticService.buttonList.toggleClick.event_content = \"Do you want to apply for a add-on card?: Enabled\";\r\n                analyticService.trackUserAction(analyticService.buttonList.toggleClick);\r\n            } else {\r\n                analyticService.buttonList.toggleClick.event_content = \"Do you want to apply for a add-on card?: Disabled\";\r\n                analyticService.trackUserAction(analyticService.buttonList.toggleClick);\r\n            }\r\n        };\r\n\r\n        vm.next = function () {\r\n            if (!UtilService.isEmpty(vm.model.permanentAddress.currentPostalCode) && vm.model.permanentAddress.currentPostalCode === 6 && UtilService.isEmpty(vm.model.permanentAddress.cityDetails) && UtilService.isEmpty(vm.model.permanentAddress.stateDetails)) {\r\n                journeyService.getAddressByPostalCode(vm.model.permanentAddress.currentPostalCode, '.masked-container').then(function (data) {\r\n                    if (UtilService.isEmpty(data) || UtilService.isEmpty(data.state) || UtilService.isEmpty(data.city)) {\r\n                        $scope.cardDIP.currentPostalCode.$setValidity('invalid', false);\r\n                    }\r\n                    $anchorScroll();\r\n                    submitForm();\r\n                });\r\n            } else {\r\n                $anchorScroll();\r\n                submitForm();\r\n            }\r\n        };\r\n\r\n        var submitForm = function () {\r\n            if ($scope.cardDIP.$valid) {\r\n                var applicantAdditionalData = prepareDataToSend();\r\n                var securityParams = {\r\n                    robocheck: vm.robocheck ? vm.robocheck : ''\r\n                };\r\n                cardDipService.sendApplicantData(applicantAdditionalData, securityParams, false).then(function (result) {\r\n                    if (result.success) {\r\n                        //arun\r\n                        var storageData = {\r\n                            \"primaryApplicant\": {\r\n                                perfiosSkip: result.message\r\n                            }\r\n                        }\r\n                        journeyService.setDataInStorage(storageData);\r\n                        //\r\n                        if (vm.model.balanceTransferTaken) {\r\n                            $state.go('app.journey.balance-transfer',{'cardKey':vm.selectedCard.key});\r\n                        } else if (vm.model.supplementaryCardApplied) {\r\n                            $state.go('app.journey.supplementary',{'cardKey':vm.selectedCard.key});\r\n                        } else {\r\n                            if(result.message === 'Y'){\r\n                                $state.go('app.journey.document',{'cardKey':vm.selectedCard.key});\r\n                            }else{\r\n                                $state.go('app.journey.signature',{'cardKey':vm.selectedCard.key});\r\n                            }\r\n                       }\r\n                        // } else if (journeyService.isIncomeDocRequired()) {\r\n                        //     $state.go('app.journey.document');\r\n                        // } else {\r\n                        //     $state.go('app.journey.signature');\r\n                        // }\r\n                    } else if (result.errorCode === 10006) {\r\n                        //arun else if condition\r\n                        //vm.errMsg = \"Sorry! there seems to be some technical error. Please try again\";\r\n                        $state.go('app.journey.s1-cards');\r\n                    }else {\r\n                        vm.errMsg = \"Sorry! There seems to be a technical problem. We are unable to progress further. We will contact you within 2 working days to proceed with your Credit Card application.\";\r\n                        $anchorScroll();\r\n                    }\r\n                });\r\n                analyticService.buttonList.buttonClick.event_content = \"continue\";\r\n                analyticService.trackUserAction(analyticService.buttonList.buttonClick);\r\n            } else {\r\n                vm.submitted = true;\r\n                UtilService.focusOnInvalid(\"cardDIP\", true);\r\n            };\r\n        };\r\n\r\n        var prepareDataToSend = function () {\r\n            // accountNumberConsent\r\n            var accountDetails = angular.copy(vm.model.accountDetails);\r\n            accountDetails.accountNumberConsent = accountDetails.accountNumberConsent ? \"Y\" : \"N\";\r\n            var applicantAdditionalData = {\r\n                \"hasFormerName\": vm.model.hasFormerName,\r\n                \"formerName\": vm.model.formerName || null,\r\n                \"motherName\": vm.model.motherName || null,\r\n                \"birthCountry\": vm.model.birthCountry.countryName,\r\n                \"kyc\": vm.model.kyc || null,\r\n                \"fatherName\": vm.model.fatherName,\r\n                \"cardUsage\": vm.model.cardUsage,\r\n                \"cardReason\": vm.model.cardReason,\r\n                \"nameOnCard\": vm.model.nameOnCard,\r\n                \"accountDetails\": accountDetails,\r\n                \"estatementApplied\": vm.model.eStatementApplied,\r\n                \"correspondenceAddress\": vm.model.correspondenceAddress,\r\n                \"permanentAddressSame\": vm.model.permanentAddressSame,\r\n                \"permanentAddress\": {\r\n                    \"address1\": vm.model.permanentAddressSame == 'N' ? (vm.model.permanentAddress.country.countryName == \"India\" ?\r\n                        vm.model.permanentAddress.currentFlatNumber : vm.model.permanentAddress.address1) : '',\r\n                    \"address2\": vm.model.permanentAddressSame == 'N' ? (vm.model.permanentAddress.country.countryName == \"India\" ?\r\n                        vm.model.permanentAddress.currentRoadNumber : vm.model.permanentAddress.address2) : '',\r\n                    \"address3\": vm.model.permanentAddressSame == 'N' ? (vm.model.permanentAddress.country.countryName == \"India\" ?\r\n                        vm.model.permanentAddress.area : vm.model.permanentAddress.address3) : '',\r\n                    \"pinCode\": vm.model.permanentAddressSame == 'N' ? (vm.model.permanentAddress.country.countryName == \"India\" ?\r\n                        vm.model.permanentAddress.currentPostalCode : vm.model.permanentAddress.pinCode) : '',\r\n                    \"city\": vm.model.permanentAddressSame == 'N' ? (vm.model.permanentAddress.country.countryName == \"India\" ?\r\n                        vm.model.permanentAddress.cityDetails : vm.model.permanentAddress.city) : '',\r\n                    \"state\": vm.model.permanentAddressSame == 'N' ? (vm.model.permanentAddress.country.countryName == \"India\" ?\r\n                        vm.model.permanentAddress.stateDetails : vm.model.permanentAddress.state) : '',\r\n                    \"district\": vm.model.permanentAddressSame == 'N' ? (vm.model.permanentAddress.country.countryName == \"India\" ?\r\n                        vm.model.permanentAddress.districtDetails : '') : '',\r\n                    \"country\": vm.model.permanentAddressSame == 'N' ? vm.model.permanentAddress.country.countryName : '',\r\n                    \"addressType\": vm.model.permanentAddressSame == 'N' ? vm.model.permanentAddress.addressType : ''\r\n                },\r\n                \"existingRelation\": vm.model.existingRelation,\r\n                \"existingRelationShipDetails\": vm.model.existingRelationShipDetails,\r\n                \"balanceTransferTaken\": vm.model.balanceTransferTaken ? 'Y' : 'N',\r\n                \"supplementaryCardApplied\": vm.model.supplementaryCardApplied ? 'Y' : 'N',\r\n                \"creditLimit\": angular.isNumber(vm.model.creditLimit) ? vm.model.creditLimit.toLocaleString() : vm.model.creditLimit,\r\n                \"dipArn\": vm.model.dipArn,\r\n                \"status\": vm.model.status,\r\n                \"hasOtherBankCardDetails\": vm.model.hasOtherBankCardDetails\r\n            };\r\n            if (vm.model.hasOtherBankCardDetails === 'Y') {\r\n                applicantAdditionalData = angular.merge({}, applicantAdditionalData, {\r\n                    \"bank\": vm.model.bank,\r\n                    \"cardNumber\": vm.model.cardNumber,\r\n                    \"cardIssueDate\": vm.model.issueMonth + '/' + vm.model.issueYear,\r\n                    \"amount\": parseInt(vm.model.amount)\r\n                });\r\n            } else {\r\n                applicantAdditionalData = angular.merge({}, applicantAdditionalData, {\r\n                    \"bank\": null,\r\n                    \"cardNumber\": null,\r\n                    \"cardIssueDate\": null,\r\n                    \"amount\": null\r\n                });\r\n            }\r\n            // console.log(applicantAdditionalData);\r\n            \r\n            return applicantAdditionalData;\r\n        };\r\n\r\n        vm.resetAddressFields = function (form, selectedCountry) {\r\n            if (selectedCountry.countryCode != 'IN') {\r\n                form.address1.$dirty = false;\r\n                form.address1.$pristine = true;\r\n                form.address1.$touched = false;\r\n                form.address1.$untouched = true;\r\n\r\n                form.address2.$dirty = false;\r\n                form.address2.$pristine = true;\r\n                form.address2.$touched = false;\r\n                form.address2.$untouched = true;\r\n\r\n                form.address3.$dirty = false;\r\n                form.address3.$pristine = true;\r\n                form.address3.$touched = false;\r\n                form.address3.$untouched = true;\r\n\r\n                form.currentCity.$dirty = false;\r\n                form.currentCity.$pristine = true;\r\n                form.currentCity.$touched = false;\r\n                form.currentCity.$untouched = true;\r\n\r\n                form.currentPinCode.$dirty = false;\r\n                form.currentPinCode.$pristine = true;\r\n                form.currentPinCode.$touched = false;\r\n                form.currentPinCode.$untouched = true;\r\n\r\n                form.currentState.$dirty = false;\r\n                form.currentState.$pristine = true;\r\n                form.currentState.$touched = false;\r\n                form.currentState.$untouched = true;\r\n\r\n                vm.model.permanentAddress.address1 = null;\r\n                vm.model.permanentAddress.address2 = null;\r\n                vm.model.permanentAddress.address3 = null;\r\n                vm.model.permanentAddress.pinCode = null;\r\n                vm.model.permanentAddress.city = null;\r\n                vm.model.permanentAddress.district = null;\r\n                vm.model.permanentAddress.state = null;\r\n            } else {\r\n                form.currentFlatNumber.$dirty = false;\r\n                form.currentFlatNumber.$pristine = true;\r\n                form.currentFlatNumber.$touched = false;\r\n                form.currentFlatNumber.$untouched = true;\r\n\r\n                form.currentRoadNumber.$dirty = false;\r\n                form.currentRoadNumber.$pristine = true;\r\n                form.currentRoadNumber.$touched = false;\r\n                form.currentRoadNumber.$untouched = true;\r\n\r\n                form.currentArea.$dirty = false;\r\n                form.currentArea.$pristine = true;\r\n                form.currentArea.$touched = false;\r\n                form.currentArea.$untouched = true;\r\n\r\n                form.currentPostalCode.$dirty = false;\r\n                form.currentPostalCode.$pristine = true;\r\n                form.currentPostalCode.$touched = false;\r\n                form.currentPostalCode.$untouched = true;\r\n\r\n                form.currentCityDetails.$dirty = false;\r\n                form.currentCityDetails.$pristine = true;\r\n                form.currentCityDetails.$touched = false;\r\n                form.currentCityDetails.$untouched = true;\r\n\r\n                form.currentDistrictDetails.$dirty = false;\r\n                form.currentDistrictDetails.$pristine = true;\r\n                form.currentDistrictDetails.$touched = false;\r\n                form.currentDistrictDetails.$untouched = true;\r\n\r\n                form.currentStateDetails.$dirty = false;\r\n                form.currentStateDetails.$pristine = true;\r\n                form.currentStateDetails.$touched = false;\r\n                form.currentStateDetails.$untouched = true;\r\n\r\n                vm.model.permanentAddress.currentFlatNumber = null;\r\n                vm.model.permanentAddress.currentRoadNumber = null;\r\n                vm.model.permanentAddress.area = null;\r\n                vm.model.permanentAddress.currentPostalCode = null;\r\n                vm.model.permanentAddress.cityDetails = null;\r\n                vm.model.permanentAddress.districtDetails = null;\r\n                vm.model.permanentAddress.stateDetails = null;\r\n                vm.model.permanentAddress.addressType = vm.addressTypes[0];\r\n            }\r\n        };\r\n\r\n        vm.cancel = function () {\r\n            var modalInstance = $uibModal.open({\r\n                backdrop: 'static',\r\n                keyboard: false,\r\n                modalFade: true,\r\n                component: \"cancel\",\r\n                windowClass: 'card-detail-modal'\r\n            });\r\n            modalInstance.result.then(function (isSelected) {\r\n                if (isSelected) {\r\n                    cardDipService.cancelApplicantData().then(function (result) {\r\n                        if (result.errorCode == 3) {\r\n                            $state.go('app.journey.s1-cards');\r\n                        } else if (result.errorCode == 4) {\r\n                            $rootScope.sessionError = true;\r\n                            $state.go('app.app-retrieval');\r\n                        } else {\r\n                            $state.go('app.cancelApplication', {\r\n                                data: {\r\n                                    name: cardDipService.getApplicantName()\r\n                                },cardKey:vm.selectedCard.key\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n            }, function () { });\r\n            analyticService.buttonList.buttonClick.event_content = \"cancel\";\r\n            analyticService.trackUserAction(analyticService.buttonList.buttonClick);\r\n        };\r\n\r\n        vm.save = function () {\r\n            var modalInstance = $uibModal.open({\r\n                backdrop: 'static',\r\n                keyboard: false,\r\n                modalFade: true,\r\n                component: \"overlaySaveConfirmation\",\r\n                windowClass: 'card-detail-modal'\r\n            });\r\n            modalInstance.result.then(function (isSelected) {\r\n                if (isSelected) {\r\n                    var applicantAdditionalData = prepareDataToSend();\r\n                    var securityParams = {\r\n                        robocheck: vm.robocheck ? vm.robocheck : ''\r\n                    };\r\n                    cardDipService.sendApplicantData(applicantAdditionalData, securityParams, true).then(function (result) {\r\n                        if (result.success) {\r\n                            $state.go('app.save-exit', {\r\n                                saveData: {\r\n                                    name: cardDipService.getApplicantName()\r\n                                },cardKey:vm.selectedCard.key\r\n                            });\r\n                        } else {\r\n                            if (result.errorCode == 3) {\r\n                                $state.go('app.journey.s1-cards');\r\n                            } else if (result.errorCode == 4) {\r\n                                $rootScope.sessionError = true;\r\n                                $state.go('app.app-retrieval');\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            }, function () { });\r\n            analyticService.buttonList.buttonClick.event_content = \"save for later\";\r\n            analyticService.trackUserAction(analyticService.buttonList.buttonClick);\r\n        };\r\n\r\n        /*vm.closeAlert = function (scopeVar) {\r\n            vm[scopeVar] = false;\r\n        };*/\r\n\r\n        vm.issueDateChange = function (doFormat) {\r\n            var monthElement = $scope.cardDIP.month,\r\n                yearElement = $scope.cardDIP.year;\r\n            monthElement.$setValidity(\"min\", true);\r\n            monthElement.$setValidity(\"max\", true);\r\n            yearElement.$setValidity(\"max\", true);\r\n            yearElement.$setValidity(\"invalid\", true);\r\n            var currentYear = (new Date()).getFullYear();\r\n            var month = parseInt(vm.model.issueMonth),\r\n                year = parseInt(vm.model.issueYear);\r\n            if (year <= 0) {\r\n                vm.model.issueYear = null;\r\n                return;\r\n            }\r\n            if (year > 0 && year < 1900) {\r\n                yearElement.$setValidity(\"invalid\", false);\r\n                return;\r\n            }\r\n            if (month <= 0) {\r\n                monthElement.$setValidity(\"min\", false);\r\n                return;\r\n            } else if (month > 12) {\r\n                monthElement.$setValidity(\"max\", false);\r\n                return;\r\n            }\r\n            // if (year < vm.currentYear) {\r\n            //     yearElement.$setValidity(\"min\", false);\r\n            //     return;\r\n            // }\r\n            // if (month < currentMonth && year === vm.currentYear) {\r\n            //     yearElement.$setValidity(\"nextMonth\", false);\r\n            //     return;\r\n            // }\r\n            if (year > currentYear) {\r\n                yearElement.$setValidity('max', false);\r\n                return;\r\n            }\r\n            if (doFormat && vm.model.issueMonth && vm.model.issueMonth.length === 1) {\r\n                vm.model.issueMonth = '0' + vm.model.issueMonth;\r\n            }\r\n        };\r\n\r\n        vm.validateOtherCardLimit = function () {\r\n            var amount = parseInt(vm.model.amount);\r\n            if (amount <= 0) {\r\n                vm.model.amount = null;\r\n            }\r\n        };\r\n    };\r\n\r\n    var cardDip = angular.module('journey.module').component('cardDip', {\r\n        template: __webpack_require__(/*! ./card-DIP.component.html */ \"./src/app/components/journey/card-DIP/card-DIP.component.html\"),\r\n        controller: ['$scope', '$state', '$uibModal', '$filter', '$anchorScroll', '$rootScope', 'journeyService',\r\n            'cardDipService', 'analyticService', 'UtilService', cardDip]\r\n    });\r\n    module.exports = cardDip.name;\r\n})();\n\n/***/ }),\n\n/***/ \"./src/app/components/journey/card-DIP/card-DIP.component.scss\":\n/* unknown exports provided */\n/* all exports used */\n/*!*********************************************************************!*\\\n  !*** ./src/app/components/journey/card-DIP/card-DIP.component.scss ***!\n  \\*********************************************************************/\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"./src/app/components/journey/card-DIP/card-DIP.component.service.js\":\n/* unknown exports provided */\n/* all exports used */\n/*!***************************************************************************!*\\\n  !*** ./src/app/components/journey/card-DIP/card-DIP.component.service.js ***!\n  \\***************************************************************************/\n/***/ (function(module, exports) {\n\n(function () {\r\n    'use strict';\r\n\r\n    var cardDipService = angular.module('journey.module').service('cardDipService', ['$rootScope', '$http', 'appState', 'CONFIG', 'UtilService',\r\n        function ($rootScope, $http, appState, CONFIG, UtilService) {\r\n            var self = this;\r\n            self.fullName = null;\r\n\r\n            var getARN = function () {\r\n                var localState = appState.getApplicationData(), arn = '';\r\n                if (localState && localState.primaryApplicant) {\r\n                    arn = localState.primaryApplicant.arn;\r\n                }\r\n                return arn;\r\n            };\r\n\r\n            self.getApplicantName = function () {\r\n                var localState = appState.getApplicationData(), fullName = '';\r\n                if (localState && localState.primaryApplicant) {\r\n                    fullName = localState.primaryApplicant.fullName;\r\n                }\r\n                return fullName;\r\n            };\r\n\r\n            self.getMaritalStatus = function () {\r\n                var localState = appState.getApplicationData(), maritalStatus = '';\r\n                if (localState && localState.primaryApplicant && localState.primaryApplicant.demographicDetails) {\r\n                    maritalStatus = localState.primaryApplicant.demographicDetails.maritalStatus;\r\n                }\r\n                return maritalStatus;\r\n            };\r\n\r\n            var setDataInStorage = function (applicantData) {\r\n                var data = {\r\n                    \"primaryApplicant\": {\r\n                        \"dipDetails\": applicantData\r\n                    }\r\n                };\r\n                var arnData = angular.merge({}, appState.getApplicationData(), data);\r\n                appState.setApplicationData(arnData);\r\n            };\r\n\r\n            self.cancelApplicantData = function () {\r\n                var apiURL, httpMethod;\r\n                if ($rootScope.integrationsActive) {\r\n                    httpMethod = \"POST\";\r\n                    apiURL = CONFIG.apiUrl + '/applicantdetails/saveUserData/' + getARN() + '?hash_id=' + Math.random();\r\n                } else {\r\n                    httpMethod = \"GET\";\r\n                    apiURL = 'resources/data/mock/card-dip/dip_cancel.json';\r\n                }\r\n                return $http({\r\n                    method: httpMethod,\r\n                    url: apiURL,\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    }\r\n                }).then(function (response) {\r\n                    if (response.status === 200 && response.data) {\r\n                        return response.data;\r\n                    } else if (response && response.validationErrors) {\r\n                        //return pageError = \"Please ensure the values added in form fields are appropriate, and retry.\";\r\n                    } else {\r\n                        //Need to display \"response\" below page heading (above form).\r\n                        //vm.pageError = \"Some error occurred on the server side. Please try after some time.\";\r\n                    }\r\n                    return;\r\n                }, function (response) {\r\n                    return;\r\n                });\r\n            };\r\n\r\n            self.sendApplicantData = function (applicantData, securityParams, isSaveExit) {\r\n                var apiURL, httpMethod;\r\n                if ($rootScope.integrationsActive) {\r\n                    httpMethod = \"POST\";\r\n                    apiURL = CONFIG.apiUrl + '/applicantdetails/dip/save/' + getARN() + '/' + isSaveExit + '?hash_id=' + Math.random();\r\n                } else {\r\n                    httpMethod = \"GET\";\r\n                    apiURL = 'resources/data/mock/card-dip/dip_save.json';\r\n                }\r\n                return $http({\r\n                    method: httpMethod,\r\n                    url: apiURL,\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    data: JSON.stringify(applicantData),\r\n                    params: securityParams\r\n                }).then(function (response) {\r\n                    if (response.status === 200 && response.data) {\r\n                        if (response.data.success) {\r\n                            setDataInStorage(applicantData);\r\n                        }\r\n                        return response.data;\r\n                    } else if (response && response.validationErrors) {\r\n                        //return pageError = \"Please ensure the values added in form fields are appropriate, and retry.\";\r\n                    } else {\r\n                        //Need to display \"response\" below page heading (above form).\r\n                        //vm.pageError = \"Some error occurred on the server side. Please try after some time.\";\r\n                    }\r\n                    return;\r\n                }, function (response) {\r\n                    return;\r\n                });\r\n            };\r\n\r\n            self.getUserDetails = function () {\r\n                var contactData = appState.getContactDetails();\r\n                var isStaffJourney = appState.isStaffJourney();\r\n                // console.log(\"journey flag =======\", isStaffJourney);\r\n                    self.ekyc = contactData.ekyc;\r\n                    // console.log(\"EKYC from contactDetails =======\", self.ekyc);\r\n                \r\n                var userDTO = {},\r\n                    localState = appState.getApplicationData();\r\n                if (localState && localState.primaryApplicant) {\r\n                    userDTO.addressOptions = localState.primaryApplicant.addressOptions || null;\r\n                    if (localState.primaryApplicant.dipDetails) {\r\n                        userDTO.hasFormerName = localState.primaryApplicant.dipDetails.hasFormerName || 'N';\r\n                        userDTO.formerName = localState.primaryApplicant.dipDetails.formerName || null;\r\n                        userDTO.motherName = localState.primaryApplicant.dipDetails.motherName || null;\r\n                        userDTO.kyc = localState.primaryApplicant.dipDetails.kyc || null;\r\n                        userDTO.fatherName = localState.primaryApplicant.dipDetails.fatherName || null;\r\n                        userDTO.cardUsage = localState.primaryApplicant.dipDetails.cardUsage || null;\r\n                        userDTO.cardReason = localState.primaryApplicant.dipDetails.cardReason || null;\r\n                        userDTO.nameOnCard = localState.primaryApplicant.dipDetails.nameOnCard || null;\r\n                        userDTO.permanentAddress = localState.primaryApplicant.dipDetails.permanentAddress || null;\r\n                        userDTO.permanentAddressSame = localState.primaryApplicant.dipDetails.permanentAddressSame || 'Y';\r\n                        userDTO.dipArn = localState.primaryApplicant.dipDetails.dipArn || null;\r\n                        userDTO.birthCountry = localState.primaryApplicant.dipDetails.birthCountry || null;\r\n                        userDTO.correspondenceAddress = localState.primaryApplicant.dipDetails.correspondenceAddress || null;\r\n                        userDTO.eStatementApplied = localState.primaryApplicant.dipDetails.estatementApplied || 'Y';\r\n                        userDTO.balanceTransferTaken = localState.primaryApplicant.dipDetails.balanceTransferTaken === 'Y' ? true : false;\r\n                        userDTO.supplementaryCardApplied = localState.primaryApplicant.dipDetails.supplementaryCardApplied === 'Y' ? true : false;\r\n                        userDTO.hasOtherBankCardDetails = localState.primaryApplicant.dipDetails.hasOtherBankCardDetails || 'N';\r\n                        userDTO.bank = localState.primaryApplicant.dipDetails.bank || null;\r\n                        userDTO.cardNumber = localState.primaryApplicant.dipDetails.cardNumber || null;\r\n                        if (!UtilService.isEmpty(localState.primaryApplicant.dipDetails.cardIssueDate)) {\r\n                            var temp = localState.primaryApplicant.dipDetails.cardIssueDate.split('/');\r\n                            userDTO.issueMonth = temp[0];\r\n                            userDTO.issueYear = temp[1];\r\n                        } else {\r\n                            userDTO.issueMonth = null;\r\n                            userDTO.issueYear = null;\r\n                        }\r\n\r\n                        userDTO.accountDetails = localState.primaryApplicant.dipDetails.accountDetails || {};\r\n                        userDTO.accountDetails.accountNumberConsent = userDTO.accountDetails.accountNumberConsent === \"Y\";\r\n                        userDTO.accountDetails.accountNumber = userDTO.accountDetails.accountNumber || null;\r\n                        userDTO.accountDetails.branchLocation = userDTO.accountDetails.branchLocation || null;\r\n                        userDTO.accountDetails.primaryBank = userDTO.accountDetails.primaryBank || null;\r\n\r\n                        userDTO.existingRelation = localState.primaryApplicant.dipDetails.existingRelation || 'N';\r\n                        userDTO.existingRelationShipDetails = localState.primaryApplicant.dipDetails.existingRelationShipDetails || {};\r\n                        userDTO.existingRelationShipDetails.relationType = userDTO.existingRelationShipDetails.relationType || null;\r\n                        userDTO.existingRelationShipDetails.staffName = userDTO.existingRelationShipDetails.staffName || null;\r\n                        userDTO.existingRelationShipDetails.staffId = userDTO.existingRelationShipDetails.staffId || null;\r\n\r\n                        userDTO.amount = localState.primaryApplicant.dipDetails.amount ? localState.primaryApplicant.dipDetails.amount.toString() : null;\r\n                        userDTO.creditLimit = parseLimit(localState.primaryApplicant.dipDetails.creditLimit);\r\n                        userDTO.status = localState.primaryApplicant.dipDetails.status || null;\r\n                        if(self.ekyc == 'Yes') {\r\n                            userDTO.formerName = localState.primaryApplicant.dipDetails.nameOnCard || null;\r\n                            userDTO.nameOnCard = localState.primaryApplicant.dipDetails.applicantName ? localState.primaryApplicant.dipDetails.applicantName : null;\r\n                        }\r\n                    }\r\n                }\r\n                return userDTO;\r\n            };\r\n\r\n            var parseLimit = function (val) {\r\n                var parsed = null;\r\n                if (val) {\r\n                    var tmp = val.split(',');\r\n                    parsed = parseInt(tmp.join(''));\r\n                }\r\n                return parsed;\r\n            };\r\n        }]);\r\n\r\n    module.exports = cardDipService.name;\r\n})();\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// resources/js/180bff5e5ee99a0960369.js","module.exports = \"<div class=modal-header> <div class=heading-container> </div> <div class=close-button-container> <button type=button class=close aria-label=Close ng-click=$ctrl.cancel()> <span aria-hidden=true>×</span> </button> </div> </div> <div class=modal-body> <p class=no-margin-b>You are exiting this application. The current application will not be saved and you will not be able to resume your application thereafter. Are you sure you want to cancel? </p> </div> <div class=modal-footer> <div class=buttons-container> <button class=button-outline ng-click=$ctrl.Close(false)>No</button><button class=button-primary ng-click=$ctrl.Close(true)>Yes</button> </div> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/journey/card-DIP/cancel.modal/cancel.modal.component.html\n// module id = ./src/app/components/journey/card-DIP/cancel.modal/cancel.modal.component.html\n// module chunks = 9","(function () {\r\n    'use strict';\r\n    var angular = require('angular');\r\n    require('./cancel.modal.component.scss')\r\n\r\n    var modalController = function ($scope, $http, $state, analyticService) {\r\n        var vm = this;\r\n\r\n        vm.$onInit = function () {\r\n            analyticService.buttonList.popup.event_content = \"Exit the application\";\r\n            analyticService.trackUserAction(analyticService.buttonList.popup);\r\n        };\r\n\r\n        /**\r\n         * This function is triggered when we select or unselect card.\r\n         * We push the selected card in selectedPrimaryCards array and\r\n         *  pop the unselected card.\r\n         */\r\n        vm.Close = function (isSelected) {\r\n            analyticService.buttonList.buttonClick.event_content = \"yes\";\r\n            analyticService.trackUserAction(analyticService.buttonList.buttonClick);\r\n            vm.close({\r\n                $value: isSelected\r\n            });\r\n        };\r\n\r\n        vm.cancel = function () {\r\n            analyticService.buttonList.buttonClick.event_content = \"no\";\r\n            analyticService.trackUserAction(analyticService.buttonList.buttonClick);\r\n            vm.dismiss({\r\n                $value: 'cancel'\r\n            });\r\n        };\r\n    };\r\n\r\n    var modalComp = angular.module('journey.module').component('cancel', {\r\n        template: require('./cancel.modal.component.html'),\r\n        bindings: {\r\n            resolve: '<',\r\n            close: '&',\r\n            dismiss: '&',\r\n           \r\n        },\r\n        controller: ['$scope', '$http', '$state', 'analyticService', modalController]\r\n    });\r\n    module.exports = modalComp.name;\r\n})();\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/journey/card-DIP/cancel.modal/cancel.modal.component.js\n// module id = ./src/app/components/journey/card-DIP/cancel.modal/cancel.modal.component.js\n// module chunks = 9","module.exports = \"<form name=cardDIP autocomplete=off novalidate> <input type=text class=hidden-field ng-model=$ctrl.robocheck tabindex=-1> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <alert-msg ng-if=$ctrl.referredDip type=SUCCESS> <div ng-if=!$ctrl.isStaffJourney> Thank you for your interest in the HSBC Credit Card. <div>Your application is being reviewed.</div> <div>Kindly complete the below form so that your application can be submitted for further processing.</div> </div> <div ng-if=$ctrl.isStaffJourney> Thank you for your interest in the HSBC Credit Card. <div>Your application is being processed.</div> <div>Kindly complete the below form so that your application can be submitted for further processing.</div> </div> <div>Your Application Reference Number: {{ $ctrl.model.dipArn }}</div> <div ng-if=!$ctrl.isStaffJourney>Please complete your Video KYC after submitting the details . </div> </alert-msg> <alert-msg ng-if=$ctrl.maxHasPerfios type=SUCCESS> Congratulations. You are eligible for an HSBC Credit Card based on the information provided. <div> Kindly complete the below form so that your application can be submitted for further processing.</div> <div>Please ensure that all required documents and application submission formalities are completed within the next 20 days.</div> <div> You may contact <a target=_blank href=http://www.hsbc.co.in/1/2/miscellaneous/call-us class=new-tab-link aria-label=\\\"This link will open more information about collecting and using information in a new tab\\\"> <span class=text>PhoneBanking</span> <span class=\\\"icon icon-new-window\\\" aria-hidden=true role=presentation></span> </a> or visit the nearest HSBC branch for any queries. </div> <div>Your Application Reference Number: {{ $ctrl.model.dipArn }}</div> <div>Please complete your Video KYC after submitting the details.</div> </alert-msg> <alert-msg ng-if=$ctrl.maxNoPerfios type=SUCCESS> <div ng-if=!$ctrl.isStaffJourney> Congratulations. You are eligible for an HSBC Credit Card based on the information provided. <div>Kindly complete the below form so that your application can be submitted for further processing.</div> <div>Please complete your Video KYC after submitting the details . </div> <div>Please ensure that all required documents and application submission formalities are completed within the next 20 days to avail the above limit.</div> <div> You may contact <a target=_blank href=http://www.hsbc.co.in/1/2/miscellaneous/call-us class=new-tab-link aria-label=\\\"This link will open more information about collecting and using information in a new tab\\\"> <span class=text>PhoneBanking</span> <span class=\\\"icon icon-new-window\\\" aria-hidden=true role=presentation></span> </a> or visit the nearest HSBC branch for any queries. </div> <div>Your Application Reference Number: {{ $ctrl.model.dipArn }}</div> </div> <div ng-if=$ctrl.isStaffJourney> Congratulations. You are eligible for an HSBC Credit Card based on the information provided. <div> Your Application Reference Number: {{ $ctrl.model.dipArn }}</div> </div> </alert-msg> <alert-msg ng-if=$ctrl.minHasPerfios type=SUCCESS> Congratulations. You are eligible for an HSBC Credit Card based on the information provided. <div> Kindly complete the below form so that your application can be submitted for further processing.</div> <div>Please complete your Video KYC after submitting the details . </div> <div>Please ensure that all required documents and application submission formalities are completed within the next 20 days. </div> <div> You may contact <a target=_blank href=http://www.hsbc.co.in/1/2/miscellaneous/call-us class=new-tab-link aria-label=\\\"This link will open more information about collecting and using information in a new tab\\\"> <span class=text>PhoneBanking</span> <span class=\\\"icon icon-new-window\\\" aria-hidden=true role=presentation></span> </a> or visit the nearest HSBC branch for any queries. </div> <div>Your Application Reference Number: {{ $ctrl.model.dipArn }}</div> </alert-msg> <alert-msg ng-if=$ctrl.minNoPerfios type=SUCCESS> <div ng-if=!$ctrl.isStaffJourney> Congratulations. You are eligible for an HSBC Credit Card based on the information provided. <div>Kindly complete the below form so that your application can be submitted for further processing.</div> <div>Please complete your Video KYC after submitting the details . </div> <div>Please ensure that all required documents and application submission formalities are completed within the next 20 days. </div> <div> You may contact <a target=_blank href=http://www.hsbc.co.in/1/2/miscellaneous/call-us class=new-tab-link aria-label=\\\"This link will open more information about collecting and using information in a new tab\\\"> <span class=text>PhoneBanking</span> <span class=\\\"icon icon-new-window\\\" aria-hidden=true role=presentation></span> </a> or visit the nearest HSBC branch for any queries. </div> <div>Your Application Reference Number: {{ $ctrl.model.dipArn }}</div> </div> <div ng-if=$ctrl.isStaffJourney> Congratulations. You are eligible for an HSBC Credit Card based on the information provided. <div>Your Application Reference Number: {{ $ctrl.model.dipArn }}</div> </div> </alert-msg> <alert-msg ng-if=$ctrl.errMsg type=ERROR> {{$ctrl.errMsg}} </alert-msg> </div> </div> <p class=text-center>Few more details to complete your application</p> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <h1 class=\\\"brand-bar no-margin-top\\\">Help us know you better</h1> </div> </div> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <label id=hasFormerNameLbl>Do you have any former/other names?</label> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=hsbc-radio-group role=group aria-labelledby=hasFormerNameLbl> <div class=hsbc-radio-inline> <input type=radio id=hasFormerYes name=hasFormerName ng-value=\\\"'Y'\\\" ng-model=$ctrl.model.hasFormerName> <label for=hasFormerYes>Yes</label> </div> <div class=hsbc-radio-inline> <input type=radio id=hasFormerNo name=hasFormerName ng-value=\\\"'N'\\\" ng-model=$ctrl.model.hasFormerName> <label for=hasFormerNo>No</label> </div> </div> </div> <div ng-if=\\\"$ctrl.model.hasFormerName === 'Y'\\\" class=\\\"col-md-12 col-sm-12 col-xs-12 horiz-line-container\\\"> <div class=horiz-line-separator> <div class=\\\"side-line left-line\\\" ng-class=\\\"{'first-selected': $ctrl.model.hasFormerName === 'Y'}\\\"> </div> <div class=triangle> </div> <div class=\\\"side-line right-line\\\" ng-class=\\\"{'first-selected': $ctrl.model.hasFormerName === 'Y'}\\\"> </div> </div> </div> <div ng-if=\\\"$ctrl.model.hasFormerName === 'Y'\\\" class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <label for=formerName class=\\\"form__label text-arr\\\">Former/other name</label> <div ng-class=\\\"{'has-error': (cardDIP.formerName.$invalid && (cardDIP.formerName.$touched || $ctrl.submitted))}\\\"> <input type=text id=formerName name=formerName class=form-control ng-model=$ctrl.model.formerName trim alpha-space=50 aria-describedby=formerNameErrMsg ng-minlength=2 ng-maxlength=50 ng-required=true aria-invalid=\\\"{{(cardDIP.formerName.$invalid && (cardDIP.formerName.$touched || $ctrl.submitted))}}\\\"> </div> <div id=formerNameErrMsg ng-class=\\\"{'has-error': (cardDIP.formerName.$invalid)}\\\"> <validation-msg ng-if=\\\"cardDIP.formerName.$error.required && (cardDIP.formerName.$touched || $ctrl.submitted)\\\"> Please enter your former/other name to continue with your application. </validation-msg> <validation-msg ng-if=\\\"cardDIP.formerName.$error.minlength && (cardDIP.formerName.$touched || $ctrl.submitted)\\\"> Please enter minimum of 2 letters for your name to continue with your application. </validation-msg> </div> </div> </div> <div class=row> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label id=birthCountryLbl for=birthCountry class=text-arr> Country of birth </label> <div ng-class=\\\"{'has-error': cardDIP.birthCountry.$invalid && (cardDIP.birthCountry.$touched || $ctrl.submitted)}\\\"> <ui-select id=birthCountry input-id=birthCountry name=birthCountry aria-label=\\\"country of birth {{$select.selected.countryName}}\\\" ng-model=$ctrl.model.birthCountry theme=bootstrap aria-invalid=\\\"{{(cardDIP.birthCountry.$invalid && (cardDIP.birthCountry.$touched || $ctrl.submitted))}}\\\" ui-select-limit=30 required> <ui-select-match placeholder=\\\"Please select\\\"> <div class=\\\"flag {{$select.selected.countryCode.toLocaleLowerCase()}}\\\" style=background-image:url(resources/images/country-flags-sprite.png) ng-if=\\\"$select.selected.countryCode != -1\\\"></div> {{$select.selected.countryName}} </ui-select-match> <ui-select-choices repeat=\\\"item in $ctrl.countries | filter: $select.search\\\"> <div class=\\\"flag {{item.countryCode.toLocaleLowerCase()}}\\\" style=background-image:url(resources/images/country-flags-sprite.png) ng-if=\\\"item.countryCode != -1\\\"></div> <span ng-bind-html=\\\"item.countryName | highlight: $select.search\\\"></span> </ui-select-choices> <ui-select-no-choice> We couldn't find any choices... </ui-select-no-choice> </ui-select> </div> <div id=birthCountryErrMsg ng-class=\\\"{'has-error': cardDIP.birthCountry.$invalid}\\\"> <validation-msg ng-if=\\\"cardDIP.birthCountry.$error.required && (cardDIP.birthCountry.$touched || $ctrl.submitted)\\\"> Please select your country of birth place to continue with your application. </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=motherName class=\\\"form__label text-arr\\\">Mother's full name</label> <div ng-class=\\\"{'has-error': cardDIP.motherName.$invalid && (cardDIP.motherName.$touched || $ctrl.submitted)}\\\"> <input type=text id=motherName name=motherName class=form-control ng-model=$ctrl.model.motherName trim alpha-space=33 aria-describedby=motherNameErrMsg ng-minlength=2 ng-maxlength=33 aria-invalid=\\\"{{cardDIP.motherName.$invalid && (cardDIP.motherName.$touched || $ctrl.submitted)}}\\\" required> </div> <div id=motherNameErrMsg ng-class=\\\"{'has-error': cardDIP.motherName.$invalid}\\\"> <validation-msg ng-if=\\\"cardDIP.motherName.$error.required && (cardDIP.motherName.$touched || $ctrl.submitted)\\\"> Please enter your mother's maiden name to continue with your application. </validation-msg> <validation-msg ng-if=\\\"cardDIP.motherName.$error.maxlength && (cardDIP.motherName.$touched || $ctrl.submitted)\\\"> Maximum of 33 characters (including spaces) allowed. </validation-msg> <validation-msg ng-if=\\\"cardDIP.motherName.$error.minlength && (cardDIP.motherName.$touched || $ctrl.submitted)\\\"> Please enter atleast 2 characters of your mother's maiden name to continue with your application. </validation-msg> </div> </div> </div> </div> <div class=row> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=kycNumber class=\\\"form__label text-arr\\\">CKYC number (Optional)</label> <div> <input type=text id=kycNumber name=kycNumber class=form-control trim alpha-num=20 aria-describedby=kycNumErrMsg ng-maxlength=20 ng-model=$ctrl.model.kyc> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=fatherName>Father's full name</label> <div ng-class=\\\"{'has-error': (cardDIP.fatherName.$invalid) &&  (cardDIP.fatherName.$touched || $ctrl.submitted)}\\\"> <input type=text id=fatherName name=fatherName trim class=form-control ng-model=$ctrl.model.fatherName onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" alpha-space=50 ng-minlength=2 ng-maxlength=50 aria-describedby=fatherNameErrMsg aria-invalid=\\\"{{(cardDIP.fatherName.$invalid) &&  (cardDIP.fatherName.$touched || $ctrl.submitted)}}\\\" required> </div> <div id=fatherNameErrMsg ng-class=\\\"{ 'has-error' : cardDIP.fatherName.$invalid && ($ctrl.submitted || cardDIP.fatherName.$touched)}\\\"> <validation-msg ng-if=\\\"cardDIP.fatherName.$error.required && ($ctrl.submitted || cardDIP.fatherName.$touched)\\\"> Please enter your father's name to continue with your application </validation-msg> <validation-msg ng-if=\\\"cardDIP.fatherName.$error.pattern && ($ctrl.submitted || cardDIP.fatherName.$touched)\\\"> Your father's name contains invalid character(s). Please check and re-enter. </validation-msg> <validation-msg ng-if=\\\"cardDIP.fatherName.$error.minlength && ($ctrl.submitted || cardDIP.fatherName.$touched)\\\"> Please enter minimum of 2 letters for your father's name to continue with your application </validation-msg> <validation-msg ng-if=\\\"cardDIP.fatherName.$error.maxlength && ($ctrl.submitted || cardDIP.fatherName.$touched)\\\"> Maximum of 50 characters (including spaces) allowed for your name. </validation-msg> </div> </div> </div> </div> <hr class=\\\"line-spacer no-margin-bottom\\\"> <h2 class=brand-bar>Credit Card Usage</h2> <div class=row> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=form-group> <label id=cardUsageLabel for=cardUsage>Choice of credit card usage</label> <div ng-class=\\\"{'has-error': cardDIP.cardUsage.$invalid && (cardDIP.cardUsage.$touched || $ctrl.submitted)}\\\"> <custom-select> <select id=cardUsage name=cardUsage class=form-control ng-model=$ctrl.model.cardUsage ng-options=\\\"item for item in $ctrl.cardUsages\\\" aria-describedby=cardUsageErrMsg aria-invalid=\\\"{{cardDIP.cardUsage.$invalid && (cardDIP.cardUsage.$touched || $ctrl.submitted)}}\\\" required> <option value=\\\"\\\">Please select</option> </select> </custom-select> </div> <div id=cardUsageErrMsg class=\\\"remove-margin remove-padding form-group\\\" ng-class=\\\"{'has-error': cardDIP.cardUsage.$invalid}\\\"> <validation-msg ng-if=\\\"cardDIP.cardUsage.$error.required && (cardDIP.cardUsage.$touched || $ctrl.submitted)\\\"> Please select the usage of your credit card to continue with your application. </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer-xs\\\"> <label id=reasonLbl for=cardReason>Reason for availing of credit card</label> <div ng-class=\\\"{'has-error': cardDIP.cardReason.$invalid && (cardDIP.cardReason.$touched || $ctrl.submitted)}\\\"> <custom-select> <select id=cardReason name=cardReason class=form-control ng-model=$ctrl.model.cardReason ng-options=\\\"item for item in $ctrl.cardReasons\\\" aria-describedby=cardReasonErrMsg aria-invalid=\\\"{{cardDIP.cardReason.$invalid && (cardDIP.cardReason.$touched || $ctrl.submitted)}}\\\" required> <option value=\\\"\\\">Please select</option> </select> </custom-select> </div> <div id=cardReasonErrMsg ng-class=\\\"{'has-error': cardDIP.cardReason.$invalid}\\\"> <validation-msg ng-if=\\\"cardDIP.cardReason.$error.required && (cardDIP.cardReason.$touched || $ctrl.submitted)\\\"> Please select reason for availing your credit card to continue with your application. </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-12 col-xs-12\\\"> <div class=row> <div class=\\\"col-md-12 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer-sm line-spacer-xs\\\"> <label for=nameToAppear>Name to be printed on credit card</label> <div ng-class=\\\"{'has-error': cardDIP.nameToAppear.$invalid && ($ctrl.submitted || cardDIP.nameToAppear.$touched)}\\\"> <input type=text trim class=form-control id=nameToAppear name=nameToAppear aria-describedby=nameToAppearErrMsg onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-minlength=2 alpha-space=19 ng-maxlength=19 ng-model=$ctrl.model.nameOnCard aria-invalid=\\\"{{cardDIP.nameToAppear.$invalid && ($ctrl.submitted || cardDIP.nameToAppear.$touched)}}\\\" required> </div> <div id=nameToAppearErrMsg ng-class=\\\"{'has-error': cardDIP.nameToAppear.$invalid && ($ctrl.submitted || cardDIP.nameToAppear.$touched)}\\\"> <validation-msg ng-if=\\\"cardDIP.nameToAppear.$error.required && ($ctrl.submitted || cardDIP.nameToAppear.$touched)\\\"> Please enter your card name to continue with your application. </validation-msg> <validation-msg ng-if=\\\"cardDIP.nameToAppear.$error.pattern && ($ctrl.submitted || cardDIP.nameToAppear.$touched)\\\"> Your name contains invalid character(s). Please check and re-enter. </validation-msg> <validation-msg ng-if=\\\"cardDIP.nameToAppear.$error.minlength && ($ctrl.submitted || cardDIP.nameToAppear.$touched)\\\"> Please enter minimum of 2 letters for name to appear on the card. </validation-msg> <validation-msg ng-if=\\\"cardDIP.nameToAppear.$error.maxlength && ($ctrl.submitted || cardDIP.nameToAppear.$touched)\\\"> Maximum of 19 characters (including spaces) allowed for your name. </validation-msg> </div> </div> </div> </div> </div> </div> <hr class=\\\"line-spacer no-margin-bottom\\\"> <h2 class=brand-bar>Bank account details</h2> <div class=row> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=form-group> <label id=bankLabel for=bank>Primary/main bank </label> <div ng-class=\\\"{'has-error': cardDIP.bank.$invalid && (cardDIP.bank.$touched || $ctrl.submitted)}\\\"> <custom-select> <select id=bank name=bank class=form-control ng-model=$ctrl.model.accountDetails.primaryBank ng-options=\\\"item for item in $ctrl.bankList\\\" aria-describedby=mainBankErrMsg aria-invalid=\\\"{{cardDIP.bank.$invalid && (cardDIP.bank.$touched || $ctrl.submitted)}}\\\" ng-disabled=$ctrl.disableBank required> <option value=\\\"\\\">Please select</option> </select> </custom-select> </div> <div id=mainBankErrMsg ng-class=\\\"{'has-error': cardDIP.bank.$invalid && (cardDIP.bank.$touched || $ctrl.submitted)}\\\"> <validation-msg ng-if=\\\"cardDIP.bank.$error.required && (cardDIP.bank.$touched || $ctrl.submitted)\\\"> Please select a bank to continue with your application. </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer-xs\\\"> <label for=branchLocation>Branch location </label> <div ng-class=\\\"{'has-error': cardDIP.branch.$invalid && ($ctrl.submitted || cardDIP.branch.$touched)}\\\"> <input trim type=text id=branchLocation name=branch aria-describedby=branchLocationErrMsg class=form-control alpha-num-space=17 onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-maxlength=17 ng-model=$ctrl.model.accountDetails.branchLocation aria-invalid=\\\"{{cardDIP.branch.$invalid && ($ctrl.submitted || cardDIP.branch.$touched)}}\\\" required> </div> <div id=branchLocationErrMsg ng-class=\\\"{'has-error': (cardDIP.branch.$invalid)}\\\"> <validation-msg ng-if=\\\"(cardDIP.branch.$error.required && cardDIP.branch.$touched) ||(cardDIP.branch.$error.required && $ctrl.submitted)\\\"> Please enter your branch location to continue with your application. </validation-msg> <validation-msg ng-if=\\\"cardDIP.branch.$error.maxlength && !cardDIP.branch.$error.pattern\\\"> Maximum of 17 characters (including spaces) allowed. </validation-msg> <validation-msg ng-if=cardDIP.branch.$error.pattern> Please enter your branch location using letters and spaces only, and no special characters. </validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\" ng-if=$ctrl.isStaffJourney> <div class=\\\"form-group line-spacer\\\"> <input type=checkbox id=consentChk name=consentChk class=screen-reader-only ng-model=$ctrl.model.accountDetails.accountNumberConsent ng-focus=\\\"$ctrl.chkFocus = true;\\\" ng-blur=\\\"$ctrl.chkFocus = false;\\\"> <label for=consentChk class=checkbox-label ng-class=\\\"{'focus': $ctrl.chkFocus}\\\"> Email approval attached </label> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <div class=\\\"form-group line-spacer-sm line-spacer-xs\\\"> <label id=accountNumberLabel>Account number</label> <div ng-class=\\\"{'has-error': cardDIP.accountNumber.$invalid && ($ctrl.submitted || cardDIP.accountNumber.$touched)}\\\"> <input type=text name=accountNumber aria-labelledby=accountNumberLabel aria-describedby=acNumErrMsg class=form-control auto-caps alpha-num=18 onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-maxlength=18 ng-minlength=9 ng-model=$ctrl.model.accountDetails.accountNumber aria-invalid=\\\"{{cardDIP.accountNumber.$invalid && ($ctrl.submitted || cardDIP.accountNumber.$touched)}}\\\" ng-required=!$ctrl.model.accountDetails.accountNumberConsent> </div> <div id=acNumErrMsg ng-class=\\\"{'has-error': cardDIP.accountNumber.$invalid}\\\"> <validation-msg ng-if=\\\"cardDIP.accountNumber.$error.required && (cardDIP.accountNumber.$touched || $ctrl.submitted)\\\"> Please enter your account number to continue with your application. </validation-msg> <validation-msg ng-if=\\\"cardDIP.accountNumber.$error.minlength && (cardDIP.accountNumber.$touched || $ctrl.submitted)\\\"> Please make sure the account number contains atleast 9 digits. </validation-msg> </div> </div> </div> </div> </div> </div> <hr class=\\\"line-spacer no-margin-bottom\\\"> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <h2 class=brand-bar>Electronic Statements</h2> </div> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <label id=eStatementLbl> Do you want to receive electronic statements? <br> <small> Your Credit Card statement will be sent to the email address provided in this application and you will not receive a printed copy of the same. </small> <br> <small> <b>Note:</b> If you wish to receive a printed copy of your credit card statement, please contact <a target=_blank href=http://www.hsbc.co.in/1/2/miscellaneous/call-us class=new-tab-link aria-label=\\\"This link will open more information about collecting and using information in a new tab\\\"> <span class=text>PhoneBanking</span> <span class=\\\"icon icon-new-window\\\" aria-hidden=true role=presentation></span> </a> </small> </label> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=hsbc-radio-group role=group aria-labelledby=eStatementLbl> <div class=hsbc-radio-inline> <input type=radio id=eStmtYes name=eStatement ng-value=\\\"'Y'\\\" ng-model=$ctrl.model.eStatementApplied ng-change=$ctrl.toggleEStatements()> <label for=eStmtYes>Yes</label> </div> <div class=hsbc-radio-inline> <input type=radio id=eStmtNo name=eStatement ng-value=\\\"'N'\\\" ng-model=$ctrl.model.eStatementApplied ng-change=$ctrl.toggleEStatements()> <label for=eStmtNo>No</label> </div> </div> </div> </div> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <hr class=\\\"line-spacer no-margin-bottom\\\"> </div> </div> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <h2 class=brand-bar>Correspondence Address</h2> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=form-group> <div> <label id=corspAddTypeLbl for=addressTypesForEstatements class=\\\"form__label text-arr\\\">Preferred address for correspondence</label> </div> <div ng-class=\\\"{'has-error': cardDIP.addressTypesForEstatements.$invalid && (cardDIP.addressTypesForEstatements.$touched || $ctrl.submitted)}\\\"> <custom-select> <select id=addressTypesForEstatements name=addressTypesForEstatements class=form-control ng-model=$ctrl.model.correspondenceAddress ng-options=\\\"item for item in $ctrl.addressTypesForEstatements\\\" aria-describedby=addressTypesForEstatementsErrMsg aria-invalid=\\\"{{cardDIP.addressTypesForEstatements.$invalid && (cardDIP.addressTypesForEstatements.$touched || $ctrl.submitted)}}\\\" required> <option value=\\\"\\\">Please select</option> </select> </custom-select> </div> <div id=addressTypesForEstatementsErrMsg ng-class=\\\"{'has-error': cardDIP.addressTypesForEstatements.$invalid}\\\"> <validation-msg ng-if=\\\"cardDIP.addressTypesForEstatements.$error.required && (cardDIP.addressTypesForEstatements.$touched || $ctrl.submitted)\\\"> Please select your preferred address for correspondence to continue with your application. </validation-msg> </div> </div> </div> </div> <hr class=\\\"line-spacer no-margin-bottom\\\"> <hr ng-if=\\\"$ctrl.model.addressOptions=='Current'\\\" class=\\\"line-spacer no-margin-bottom\\\"> <h2 class=brand-bar>My existing relationships</h2> <div class=form-group> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <label id=haveRelationLbl>Do you have a near relation to any employee of the Bank or any directors of any HSBC Group Companies?</label> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=hsbc-radio-group role=group aria-labelledby=haveRelationLbl> <div class=hsbc-radio-inline> <input type=radio id=yes name=existingRelation ng-value=\\\"'Y'\\\" ng-model=$ctrl.model.existingRelation ng-change=$ctrl.toggleExistingRelation()> <label for=yes>Yes</label> </div> <div class=hsbc-radio-inline> <input type=radio id=no name=existingRelation ng-value=\\\"'N'\\\" ng-model=$ctrl.model.existingRelation ng-change=$ctrl.toggleExistingRelation()> <label for=no>No</label> </div> </div> </div> </div> </div> <div ng-if=\\\"$ctrl.model.existingRelation==='Y'\\\" class=\\\"row remove-padding horiz-line-container\\\"> <div class=horiz-line-separator> <div class=\\\"side-line left-line\\\" ng-class=\\\"{'first-selected': $ctrl.model.existingRelation==='Y'}\\\"> </div> <div class=triangle> </div> <div class=\\\"side-line right-line\\\" ng-class=\\\"{'first-selected': $ctrl.model.existingRelation==='Y'}\\\"> </div> </div> </div> <div class=row ng-if=\\\"$ctrl.model.existingRelation==='Y'\\\"> <div class=\\\"col-md-4 col-sm-12 col-xs-12\\\"> <div class=form-group> <label for=bankRelation>Relationship type </label> <div ng-class=\\\"{'has-error': cardDIP.relationType.$invalid && ($ctrl.submitted || cardDIP.relationType.$touched)}\\\"> <input trim type=text alpha-space=33 name=relationType id=bankRelation aria-describedby=bankRelationErrMsgF class=form-control aria-invalid=\\\"{{cardDIP.relationType.$invalid && ($ctrl.submitted || cardDIP.relationType.$touched)}}\\\" ng-maxlength=33 ng-model=$ctrl.model.existingRelationShipDetails.relationType required> </div> <div id=bankRelationErrMsg ng-class=\\\"{'has-error': cardDIP.relationType.$invalid}\\\"> <validation-msg ng-if=\\\"cardDIP.relationType.$error.required && (cardDIP.relationType.$touched || $ctrl.submitted)\\\"> Please enter your relationship type to continue with your application. </validation-msg> <validation-msg ng-if=cardDIP.relationType.$error.maxlength> Maximum of 33 characters (including spaces) allowed. </validation-msg> </div> </div> </div> <div class=\\\"col-md-8 col-sm-12 col-xs-12\\\"> <div class=\\\"form-group line-spacer-sm line-spacer-xs\\\"> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <label for=relationWith>Director/employee name with whom relationship exist</label> </div> <div class=\\\"col-md-6 col-sm-12 col-xs-12\\\"> <div ng-class=\\\"{'has-error': cardDIP.relationWith.$invalid && ($ctrl.submitted || cardDIP.relationWith.$touched)}\\\"> <input trim type=text name=relationWith id=relationWith aria-describedby=relationWithErrMsg alpha-space=33 class=form-control aria-invalid=\\\"{{cardDIP.relationWith.$invalid && ($ctrl.submitted || cardDIP.relationWith.$touched)}}\\\" onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-maxlength=33 ng-model=$ctrl.model.existingRelationShipDetails.staffName required> </div> <div id=relationWithErrMsg ng-class=\\\"{'has-error': (cardDIP.relationWith.$invalid)}\\\"> <validation-msg ng-if=\\\"cardDIP.relationWith.$error.required && (cardDIP.relationWith.$touched || $ctrl.submitted)\\\"> Please enter the director/employee name to continue with your application. </validation-msg> <validation-msg ng-if=cardDIP.relationWith.$error.maxlength> Maximum of 33 characters (including spaces) allowed </validation-msg> </div> </div> </div> </div> </div> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <div class=row> <div class=\\\"col-md-4 col-sm-12 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=staffID>Staff ID</label> <div ng-class=\\\"{'has-error': cardDIP.staffID.$invalid && (cardDIP.staffID.$touched || $ctrl.submitted)}\\\"> <input trim type=tel id=staffID name=staffID aria-describedby=staffIdErrMsg class=form-control ng-model=$ctrl.model.existingRelationShipDetails.staffId aria-invalid=\\\"{{cardDIP.staffID.$invalid && (cardDIP.staffID.$touched || $ctrl.submitted)}}\\\" ng-maxlength=8 only-number=8 maxlength=8 minlength=8 required> </div> <div id=staffIdErrMsg ng-class=\\\"{'has-error': cardDIP.staffID.$invalid}\\\"> <validation-msg ng-if=\\\"cardDIP.staffID.$error.required && (cardDIP.staffID.$touched || $ctrl.submitted)\\\"> Please enter the staff ID to continue with your application. </validation-msg> <validation-msg ng-if=cardDIP.staffID.$error.minlength> Please enter the 8 Digit Staff ID. </validation-msg> </div> </div> </div> </div> </div> </div> <div id=additional-features ng-if=!$ctrl.isStaffJourney> <hr class=\\\"line-spacer no-margin-bottom\\\"> <h2 class=brand-bar>Select additional feature</h2> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <div class=form-group> <div> <input type=checkbox id=balTransChk name=balTransChk class=screen-reader-only ng-model=$ctrl.model.balanceTransferTaken ng-change=$ctrl.toggleBalanceTransfer() ng-focus=\\\"$ctrl.hasBalTransFocus = true;\\\" ng-blur=\\\"$ctrl.hasBalTransFocus = false;\\\"> <label for=balTransChk class=checkbox-label ng-class=\\\"{'focus': $ctrl.hasBalTransFocus}\\\">Would you like to take up a balance transfer facility?</label> </div> <div> <input type=checkbox id=addSuppChk name=addSuppChk class=screen-reader-only ng-model=$ctrl.model.supplementaryCardApplied ng-change=$ctrl.toggleSupplementoryCard() ng-focus=\\\"$ctrl.hasAddSuppFocus = true;\\\" ng-blur=\\\"$ctrl.hasAddSuppFocus = false;\\\"> <label for=addSuppChk class=checkbox-label ng-class=\\\"{'focus': $ctrl.hasAddSuppFocus}\\\">Do you want to apply for a add-on card?</label> </div> </div> </div> </div> </div> <div ng-if=false class=\\\"form-group line-spacer\\\"> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <label id=haveRelationLbl>Do you have another bank card?</label> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=hsbc-radio-group role=group aria-labelledby=haveRelationLbl> <div class=hsbc-radio-inline> <input type=radio id=hocYes name=haveOtherCard ng-value=\\\"'Y'\\\" ng-model=$ctrl.model.hasOtherBankCardDetails> <label for=hocYes>Yes</label> </div> <div class=hsbc-radio-inline> <input type=radio id=hocNo name=haveOtherCard ng-value=\\\"'N'\\\" ng-model=$ctrl.model.hasOtherBankCardDetails> <label for=hocNo>No</label> </div> </div> </div> </div> </div> <div ng-if=\\\"$ctrl.isStaffJourney && $ctrl.model.hasOtherBankCardDetails==='Y'\\\" class=\\\"row remove-padding horiz-line-container\\\"> <div class=horiz-line-separator> <div class=\\\"side-line left-line\\\" ng-class=\\\"{'first-selected': $ctrl.model.hasOtherBankCardDetails==='Y'}\\\"> </div> <div class=triangle> </div> <div class=\\\"side-line right-line\\\" ng-class=\\\"{'first-selected': $ctrl.model.hasOtherBankCardDetails==='Y'}\\\"> </div> </div> </div> <div ng-if=\\\"$ctrl.isStaffJourney && $ctrl.model.hasOtherBankCardDetails==='Y'\\\" class=row> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=form-group> <label id=bankNameLbl for=otherCardBank>Issuer Name</label> <div ng-class=\\\"{'has-error': cardDIP.otherCardBank.$invalid && (cardDIP.otherCardBank.$touched || $ctrl.submitted)}\\\"> <custom-select> <select id=otherCardBank name=otherCardBank class=form-control ng-model=$ctrl.model.bank ng-options=\\\"item for item in $ctrl.bankList\\\" aria-describedby=otherCardBankErrMsg aria-invalid=\\\"{{cardDIP.otherCardBank.$invalid && (cardDIP.otherCardBank.$touched || $ctrl.submitted)}}\\\" required> <option value=\\\"\\\">Please select</option> </select> </custom-select> </div> <div id=otherCardBankErrMsg class=\\\"form-group remove-margin\\\" ng-class=\\\"{'has-error': cardDIP.otherCardBank.$invalid}\\\"> <validation-msg ng-if=\\\"cardDIP.otherCardBank.$error.required && (cardDIP.otherCardBank.$touched || $ctrl.submitted)\\\"> Please select a bank to continue with your application.</validation-msg> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer-xs\\\"> <label for=cardNumber>Card number</label> <div ng-class=\\\"{ 'has-error' : cardDIP.cardNumber.$invalid  && ($ctrl.submitted || cardDIP.cardNumber.$touched)}\\\"> <input type=tel id=cardNumber name=cardNumber aria-describedby=cardNumErrMsg trim class=form-control only-number=16 onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-maxlength=16 maxlength=16 minlength=13 ng-minlength=13 ng-model=$ctrl.model.cardNumber aria-invalid=\\\"{{cardDIP.cardNumber.$invalid  && ($ctrl.submitted || cardDIP.cardNumber.$touched)}}\\\" required> </div> <div id=cardNumErrMsg class=\\\"form-group col-md-12 col-sm-12 col-xs-12 remove-margin\\\" ng-class=\\\"{'has-error' : (cardDIP.cardNumber.$invalid && ($ctrl.submitted || cardDIP.cardNumber.$touched))}\\\"> <div class=row> <validation-msg ng-if=\\\"(cardDIP.cardNumber.$error.required && cardDIP.cardNumber.$touched) || (cardDIP.cardNumber.$error.required && $ctrl.submitted)\\\"> Please enter your card number to continue with your application. </validation-msg> <validation-msg ng-if=\\\"cardDIP.cardNumber.$error.maxlength && !cardDIP.cardNumber.$error.pattern && ($ctrl.submitted || cardDIP.cardNumber.$touched)\\\"> Maximum of 16 digits allowed for your card number.</validation-msg> <validation-msg ng-if=\\\"cardDIP.cardNumber.$error.minlength && !cardDIP.cardNumber.$error.pattern && ($ctrl.submitted || cardDIP.cardNumber.$touched)\\\"> Please enter a minimum of 13 digits. </validation-msg> <validation-msg ng-if=\\\"cardDIP.cardNumber.$error.pattern && ($ctrl.submitted || cardDIP.cardNumber.$touched)\\\"> Your card number contains invalid digits.Please check and Renter. </validation-msg> </div> </div> </div> </div> </div> <div ng-if=\\\"$ctrl.isStaffJourney && $ctrl.model.hasOtherBankCardDetails==='Y'\\\" class=row> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <label id=cardExpiryLabel>Issued from date (mm/yyyy)</label> </div> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <div class=\\\"col-md-6 col-sm-6 col-xs-6 remove-padding\\\"> <div ng-class=\\\"{'has-error': cardDIP.month.$invalid && (cardDIP.month.$touched || $ctrl.submitted)}\\\"> <input type=tel trim name=month aria-label=\\\"Card issue (MM)\\\" aria-describedby=otherCardIssueErrMsg ng-model=$ctrl.model.issueMonth class=\\\"form-control text-center\\\" ng-keyup=$ctrl.issueDateChange() ng-blur=$ctrl.issueDateChange(true) onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-maxlength=2 only-number=2 maxlength=2 max=12 min=1 placeholder=MM aria-invalid=\\\"{{cardDIP.month.$invalid && (cardDIP.month.$touched || $ctrl.submitted)}}\\\" required> </div> </div> <div class=\\\"col-md-6 col-sm-6 col-xs-6 remove-padding\\\"> <div ng-class=\\\"{'has-error': cardDIP.year.$invalid && (cardDIP.year.$touched || $ctrl.submitted)}\\\"> <input type=tel trim name=year aria-label=\\\"Card issue (YYYY)\\\" aria-describedby=otherCardIssueErrMsg ng-model=$ctrl.model.issueYear class=\\\"form-control text-center\\\" ng-keyup=$ctrl.issueDateChange() ng-blur=$ctrl.issueDateChange(true) onkeypress=\\\"0===this.value.length&&32===event.charCode&&event.preventDefault()\\\" ng-maxlength=4 ng-minlength=4 only-number=4 maxlength=4 placeholder=YYYY aria-invalid=\\\"{{cardDIP.year.$invalid && (cardDIP.year.$touched || $ctrl.submitted)}}\\\" required> </div> </div> </div> </div> <div> <div id=otherCardIssueErrMsg class=\\\"col-md-12 col-sm-12 col-xs-12 remove-margin\\\" ng-class=\\\"{'has-error': cardDIP.year.$invalid || cardDIP.month.$invalid}\\\"> <div class=row> <validation-msg ng-if=\\\"(cardDIP.month.$error.required && (cardDIP.month.$touched || $ctrl.submitted)) || (cardDIP.year.$error.required && cardDIP.month.$valid && (cardDIP.year.$touched || $ctrl.submitted))\\\"> Please enter your other bank's card issue date to continue with your application. </validation-msg> <validation-msg ng-if=\\\"cardDIP.year.$error.minlength && (cardDIP.year.$touched || $ctrl.submitted) && cardDIP.month.$valid\\\"> Years of other bank's card issue date should contain exactly 4 digits. </validation-msg> <validation-msg ng-if=\\\"cardDIP.month.$error.min && !cardDIP.month.$error.required\\\"> Month of other bank's card issue date cannot be lesser than 1. </validation-msg> <validation-msg ng-if=\\\"cardDIP.year.$error.max && cardDIP.month.$valid\\\"> Year of other bank's card issue date cannot be greater than current year. </validation-msg> <validation-msg ng-if=\\\"cardDIP.year.$error.invalid && !cardDIP.year.$error.required && cardDIP.month.$valid && (cardDIP.year.$touched || $ctrl.submitted)\\\"> Please enter a valid year of card issue to continue with your application. </validation-msg> <validation-msg ng-if=\\\"cardDIP.month.$error.max && !cardDIP.month.$error.required\\\"> Month of other bank's card expiry date cannot be greater than 12. </validation-msg> </div> </div> </div> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=amount>Credit limit</label> <div ng-class=\\\"{'has-error': cardDIP.amount.$invalid && (cardDIP.amount.$touched || $ctrl.submitted)}\\\"> <input type=tel trim id=amount name=amount aria-describedby=trasAmtErrMsg class=form-control only-number=8 onkeypress=\\\"0!==this.value.length||32!==event.charCode&&48!==event.charCode||event.preventDefault()\\\" ng-keyup=$ctrl.validateOtherCardLimit() ng-blur=$ctrl.validateOtherCardLimit() ng-model=$ctrl.model.amount aria-invalid=\\\"{{cardDIP.amount.$invalid && (cardDIP.amount.$touched || $ctrl.submitted)}}\\\" required> </div> <div id=trasAmtErrMsg class=\\\"form-group col-md-12 remove-margin\\\" ng-class=\\\"{'has-error': cardDIP.amount.$invalid}\\\"> <validation-msg ng-if=\\\"cardDIP.amount.$error.required && (cardDIP.amount.$touched || $ctrl.submitted)\\\"> Please enter the amount to be transferred to continue with your application. </validation-msg> </div> </div> </div> </div> <step-footer show-cancel=false cancel-callback=$ctrl.cancel() show-save=true save-callback=$ctrl.save() show-continue=true continue-button-id=continue-btn continue-disabled=false continue-callback=$ctrl.next()> </step-footer> </form>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/journey/card-DIP/card-DIP.component.html\n// module id = ./src/app/components/journey/card-DIP/card-DIP.component.html\n// module chunks = 9","(function () {\r\n    'use strict';\r\n    var angular = require('angular');\r\n    require('./card-DIP.component.service');\r\n    require('./card-DIP.component.scss');\r\n    // require('../save-exit.modal/overlayConfirmation.modal.component.js');\r\n    require('./cancel.modal/cancel.modal.component.js');\r\n\r\n    function cardDip($scope, $state, $uibModal, $filter, $anchorScroll, $rootScope, journeyService, cardDipService, analyticService, UtilService) {\r\n\r\n        var vm = this;\r\n        vm.state = $state;\r\n        var options = {};\r\n\r\n        vm.$onInit = function () {\r\n            $rootScope.$broadcast('trigger-verification-loader', {\r\n                showLoader: false,\r\n                showCard: true,\r\n                loaderType: 'DIP'\r\n            });\r\n            $rootScope.showARN = true;\r\n            vm.isStaffJourney = journeyService.isStaffJourney();\r\n            vm.selectedCard = journeyService.getSelectedCard();\r\n            vm.showLoader = false;\r\n            vm.initDefaults();\r\n            if (vm.referredDip) {\r\n                analyticService.pageList.dipReferred.internal_reference_id = journeyService.getDataFromStorageContact().adobeId;\r\n                analyticService.trackPageLoad(analyticService.pageList.dipReferred);\r\n            } else {\r\n                analyticService.pageList.dip.internal_reference_id = journeyService.getDataFromStorageContact().adobeId;\r\n                analyticService.trackPageLoad(analyticService.pageList.dip);\r\n            }\r\n            $anchorScroll();\r\n        };\r\n\r\n        vm.initDefaults = function () {\r\n            $rootScope.showSelectedCard = true;\r\n            $rootScope.showARN = false;\r\n            $rootScope.dipARN = null;\r\n            $rootScope.stepsHeader.currentStep = 4;\r\n\r\n            vm.addressTypes = ['Residential', 'Residential cum business'];\r\n            vm.addressTypesForEstatements = ['Residential Address', 'Permanent Address', 'Office Address'];\r\n            vm.cardUsages = ['Domestic usage only', 'Domestic and international usage'];\r\n            vm.cardReasons = ['Cash back benefits', 'Lifestyle', 'Personal use', 'Reward points'];\r\n            vm.model = {};\r\n            vm.model = cardDipService.getUserDetails();\r\n            vm.model.cardUsage = vm.model.cardUsage || vm.cardUsages[0];\r\n            vm.model.cardReason = vm.model.cardReason || vm.cardReasons[2];\r\n            vm.model.correspondenceAddress = vm.model.correspondenceAddress ? vm.model.correspondenceAddress : vm.addressTypesForEstatements[0];\r\n            vm.maritalStatus = cardDipService.getMaritalStatus();\r\n            vm.isStaffJourney = journeyService.isStaffJourney();\r\n\r\n            vm.referredDip = vm.model.status == 5000 ? true : false;\r\n            // vm.maxHasPerfios:  DIP + Exact Credit Limit(>60k) Assignment Message(with Perfios)\r\n            vm.maxHasPerfios = vm.model.status == 5002 ? true : false;\r\n            // vm.maxNoPerfios:  DIP + Indicative Range Credit Limit Assignment(>60k) Message\r\n            // (Income document uploaded by applicant)\r\n            vm.maxNoPerfios = vm.model.status == 5003 ? true : false;\r\n            // vm.minHasPerfios: DIP + Exact Credit Limit(>30k & <60k) Assignment Message(with Perfios) \r\n            vm.minHasPerfios = vm.model.status == 5004 ? true : false;\r\n            // vm.minNoPerfios: DIP + Indicative Range Credit Limit Assignment(>30k & <60k) Message\r\n            // (KYC and PAN check done, income document uploaded by applicant)\r\n            vm.minNoPerfios = vm.model.status == 5005 ? true : false;\r\n\r\n            journeyService.getCountries().then(function (data) {\r\n                vm.countries = data;\r\n                vm.model.birthCountry = vm.model.birthCountry ? $filter('filter')(vm.countries, {\r\n                    \"countryName\": vm.model.birthCountry\r\n                })[0] : vm.countries[0];\r\n                if (vm.model.dipArn) {\r\n                    $rootScope.dipARN = vm.model.dipArn;\r\n                }\r\n                if (vm.model.permanentAddress != null) {\r\n                    vm.model.permanentAddress.country = vm.model.permanentAddress.country ? $filter('filter')(vm.countries, {\r\n                        \"countryName\": vm.model.permanentAddress.country\r\n                    })[0] : vm.countries[0];\r\n                } else {\r\n                    vm.model.permanentAddress = {};\r\n                    vm.model.permanentAddress.country = vm.countries[0];\r\n                }\r\n                if (vm.model.permanentAddress != null && vm.model.permanentAddress.country.countryName == 'India') {\r\n                    var address = {\r\n                        country: vm.model.permanentAddress.country,\r\n                        currentFlatNumber: vm.model.permanentAddress.address1,\r\n                        currentRoadNumber: vm.model.permanentAddress.address2,\r\n                        area: vm.model.permanentAddress.address3,\r\n                        currentPostalCode: vm.model.permanentAddress.pinCode,\r\n                        cityDetails: vm.model.permanentAddress.city,\r\n                        districtDetails: vm.model.permanentAddress.district,\r\n                        stateDetails: vm.model.permanentAddress.state,\r\n                        addressType: vm.model.permanentAddress.addressType\r\n                    };\r\n                    vm.model.permanentAddress = address;\r\n                }\r\n            });\r\n\r\n            journeyService.getBanks().then(function (data) {\r\n                vm.bankList = data;\r\n            });\r\n        };\r\n\r\n        vm.toggleIsPermAddressSame = function () {\r\n            // vm.model.permanentAddressSame = isSame;\r\n            vm.submitted = false;\r\n            if (vm.model.permanentAddressSame === 'N') {\r\n                vm.model.permanentAddress.addressType = vm.model.permanentAddress.addressType || vm.addressTypes[0];\r\n                analyticService.buttonList.toggleClick.event_content = \"no\";\r\n                analyticService.trackUserAction(analyticService.buttonList.toggleClick);\r\n            } else {\r\n                resetPermanentAddress();\r\n                analyticService.buttonList.toggleClick.event_content = \"yes\";\r\n                analyticService.trackUserAction(analyticService.buttonList.toggleClick);\r\n            }\r\n        };\r\n\r\n        vm.toggleExistingRelation = function () {\r\n            vm.submitted = false;\r\n        };\r\n\r\n        var resetPermanentAddress = function () {\r\n            vm.model.permanentAddress.addressType = '';\r\n            vm.model.permanentAddress.country = vm.model.countries[0];\r\n            vm.model.permanentAddress.address1 = '';\r\n            vm.model.permanentAddress.address2 = '';\r\n            vm.model.permanentAddress.address3 = '';\r\n            vm.model.permanentAddress.pinCode = '';\r\n            vm.model.permanentAddress.city = '';\r\n            vm.model.permanentAddress.district = '';\r\n            vm.model.permanentAddress.state = '';\r\n        };\r\n\r\n        vm.toggleEStatements = function () {\r\n            vm.submitted = false;\r\n            if (vm.model.eStatementApplied == 'N') {\r\n                analyticService.buttonList.toggleClick.event_content = \"no\";\r\n                analyticService.trackUserAction(analyticService.buttonList.toggleClick);\r\n            } else {\r\n                analyticService.buttonList.toggleClick.event_content = \"yes\";\r\n                analyticService.trackUserAction(analyticService.buttonList.toggleClick);\r\n            }\r\n            vm.model.correspondenceAddress = vm.addressTypesForEstatements[0];\r\n        };\r\n\r\n        vm.getAddressByPinCode = function (event) {\r\n            $scope.cardDIP.currentPostalCode.$setValidity('invalid', true);\r\n            var pinCode = vm.model.permanentAddress.currentPostalCode;\r\n            if (event.target.value.length === 6) {\r\n                journeyService.getAddressByPostalCode(pinCode, '.masked-container').then(function (data) {\r\n                    vm.model.permanentAddress.cityDetails = data.city;\r\n                    vm.model.permanentAddress.districtDetails = data.district;\r\n                    vm.model.permanentAddress.stateDetails = data.state;\r\n                    vm.distEmpty = UtilService.isEmpty(data.district)\r\n                    if (UtilService.isEmpty(data) || UtilService.isEmpty(data.state) || UtilService.isEmpty(data.city)) {\r\n                        $scope.cardDIP.currentPostalCode.$setValidity('invalid', false);\r\n                    }\r\n                });\r\n            } else {\r\n                vm.model.permanentAddress.cityDetails = null;\r\n                vm.model.permanentAddress.districtDetails = null;\r\n                vm.model.permanentAddress.stateDetails = null;\r\n            }\r\n        };\r\n\r\n        vm.toggleBalanceTransfer = function () {\r\n            // vm.model.balanceTransferTaken = !vm.model.balanceTransferTaken;\r\n            if (vm.model.balanceTransferTaken) {\r\n                analyticService.buttonList.toggleClick.event_content = \"Would you like to take up a balance transfer facility?: Enabled\";\r\n                analyticService.trackUserAction(analyticService.buttonList.toggleClick);\r\n            } else {\r\n                analyticService.buttonList.toggleClick.event_content = \"Would you like to take up a balance transfer facility?: Disabled\";\r\n                analyticService.trackUserAction(analyticService.buttonList.toggleClick);\r\n            }\r\n        };\r\n\r\n        vm.toggleSupplementoryCard = function () {\r\n            // vm.model.supplementaryCardApplied = !vm.model.supplementaryCardApplied;\r\n            if (vm.model.supplementaryCardApplied) {\r\n                analyticService.buttonList.toggleClick.event_content = \"Do you want to apply for a add-on card?: Enabled\";\r\n                analyticService.trackUserAction(analyticService.buttonList.toggleClick);\r\n            } else {\r\n                analyticService.buttonList.toggleClick.event_content = \"Do you want to apply for a add-on card?: Disabled\";\r\n                analyticService.trackUserAction(analyticService.buttonList.toggleClick);\r\n            }\r\n        };\r\n\r\n        vm.next = function () {\r\n            if (!UtilService.isEmpty(vm.model.permanentAddress.currentPostalCode) && vm.model.permanentAddress.currentPostalCode === 6 && UtilService.isEmpty(vm.model.permanentAddress.cityDetails) && UtilService.isEmpty(vm.model.permanentAddress.stateDetails)) {\r\n                journeyService.getAddressByPostalCode(vm.model.permanentAddress.currentPostalCode, '.masked-container').then(function (data) {\r\n                    if (UtilService.isEmpty(data) || UtilService.isEmpty(data.state) || UtilService.isEmpty(data.city)) {\r\n                        $scope.cardDIP.currentPostalCode.$setValidity('invalid', false);\r\n                    }\r\n                    $anchorScroll();\r\n                    submitForm();\r\n                });\r\n            } else {\r\n                $anchorScroll();\r\n                submitForm();\r\n            }\r\n        };\r\n\r\n        var submitForm = function () {\r\n            if ($scope.cardDIP.$valid) {\r\n                var applicantAdditionalData = prepareDataToSend();\r\n                var securityParams = {\r\n                    robocheck: vm.robocheck ? vm.robocheck : ''\r\n                };\r\n                cardDipService.sendApplicantData(applicantAdditionalData, securityParams, false).then(function (result) {\r\n                    if (result.success) {\r\n                        //arun\r\n                        var storageData = {\r\n                            \"primaryApplicant\": {\r\n                                perfiosSkip: result.message\r\n                            }\r\n                        }\r\n                        journeyService.setDataInStorage(storageData);\r\n                        //\r\n                        if (vm.model.balanceTransferTaken) {\r\n                            $state.go('app.journey.balance-transfer',{'cardKey':vm.selectedCard.key});\r\n                        } else if (vm.model.supplementaryCardApplied) {\r\n                            $state.go('app.journey.supplementary',{'cardKey':vm.selectedCard.key});\r\n                        } else {\r\n                            if(result.message === 'Y'){\r\n                                $state.go('app.journey.document',{'cardKey':vm.selectedCard.key});\r\n                            }else{\r\n                                $state.go('app.journey.signature',{'cardKey':vm.selectedCard.key});\r\n                            }\r\n                       }\r\n                        // } else if (journeyService.isIncomeDocRequired()) {\r\n                        //     $state.go('app.journey.document');\r\n                        // } else {\r\n                        //     $state.go('app.journey.signature');\r\n                        // }\r\n                    } else if (result.errorCode === 10006) {\r\n                        //arun else if condition\r\n                        //vm.errMsg = \"Sorry! there seems to be some technical error. Please try again\";\r\n                        $state.go('app.journey.s1-cards');\r\n                    }else {\r\n                        vm.errMsg = \"Sorry! There seems to be a technical problem. We are unable to progress further. We will contact you within 2 working days to proceed with your Credit Card application.\";\r\n                        $anchorScroll();\r\n                    }\r\n                });\r\n                analyticService.buttonList.buttonClick.event_content = \"continue\";\r\n                analyticService.trackUserAction(analyticService.buttonList.buttonClick);\r\n            } else {\r\n                vm.submitted = true;\r\n                UtilService.focusOnInvalid(\"cardDIP\", true);\r\n            };\r\n        };\r\n\r\n        var prepareDataToSend = function () {\r\n            // accountNumberConsent\r\n            var accountDetails = angular.copy(vm.model.accountDetails);\r\n            accountDetails.accountNumberConsent = accountDetails.accountNumberConsent ? \"Y\" : \"N\";\r\n            var applicantAdditionalData = {\r\n                \"hasFormerName\": vm.model.hasFormerName,\r\n                \"formerName\": vm.model.formerName || null,\r\n                \"motherName\": vm.model.motherName || null,\r\n                \"birthCountry\": vm.model.birthCountry.countryName,\r\n                \"kyc\": vm.model.kyc || null,\r\n                \"fatherName\": vm.model.fatherName,\r\n                \"cardUsage\": vm.model.cardUsage,\r\n                \"cardReason\": vm.model.cardReason,\r\n                \"nameOnCard\": vm.model.nameOnCard,\r\n                \"accountDetails\": accountDetails,\r\n                \"estatementApplied\": vm.model.eStatementApplied,\r\n                \"correspondenceAddress\": vm.model.correspondenceAddress,\r\n                \"permanentAddressSame\": vm.model.permanentAddressSame,\r\n                \"permanentAddress\": {\r\n                    \"address1\": vm.model.permanentAddressSame == 'N' ? (vm.model.permanentAddress.country.countryName == \"India\" ?\r\n                        vm.model.permanentAddress.currentFlatNumber : vm.model.permanentAddress.address1) : '',\r\n                    \"address2\": vm.model.permanentAddressSame == 'N' ? (vm.model.permanentAddress.country.countryName == \"India\" ?\r\n                        vm.model.permanentAddress.currentRoadNumber : vm.model.permanentAddress.address2) : '',\r\n                    \"address3\": vm.model.permanentAddressSame == 'N' ? (vm.model.permanentAddress.country.countryName == \"India\" ?\r\n                        vm.model.permanentAddress.area : vm.model.permanentAddress.address3) : '',\r\n                    \"pinCode\": vm.model.permanentAddressSame == 'N' ? (vm.model.permanentAddress.country.countryName == \"India\" ?\r\n                        vm.model.permanentAddress.currentPostalCode : vm.model.permanentAddress.pinCode) : '',\r\n                    \"city\": vm.model.permanentAddressSame == 'N' ? (vm.model.permanentAddress.country.countryName == \"India\" ?\r\n                        vm.model.permanentAddress.cityDetails : vm.model.permanentAddress.city) : '',\r\n                    \"state\": vm.model.permanentAddressSame == 'N' ? (vm.model.permanentAddress.country.countryName == \"India\" ?\r\n                        vm.model.permanentAddress.stateDetails : vm.model.permanentAddress.state) : '',\r\n                    \"district\": vm.model.permanentAddressSame == 'N' ? (vm.model.permanentAddress.country.countryName == \"India\" ?\r\n                        vm.model.permanentAddress.districtDetails : '') : '',\r\n                    \"country\": vm.model.permanentAddressSame == 'N' ? vm.model.permanentAddress.country.countryName : '',\r\n                    \"addressType\": vm.model.permanentAddressSame == 'N' ? vm.model.permanentAddress.addressType : ''\r\n                },\r\n                \"existingRelation\": vm.model.existingRelation,\r\n                \"existingRelationShipDetails\": vm.model.existingRelationShipDetails,\r\n                \"balanceTransferTaken\": vm.model.balanceTransferTaken ? 'Y' : 'N',\r\n                \"supplementaryCardApplied\": vm.model.supplementaryCardApplied ? 'Y' : 'N',\r\n                \"creditLimit\": angular.isNumber(vm.model.creditLimit) ? vm.model.creditLimit.toLocaleString() : vm.model.creditLimit,\r\n                \"dipArn\": vm.model.dipArn,\r\n                \"status\": vm.model.status,\r\n                \"hasOtherBankCardDetails\": vm.model.hasOtherBankCardDetails\r\n            };\r\n            if (vm.model.hasOtherBankCardDetails === 'Y') {\r\n                applicantAdditionalData = angular.merge({}, applicantAdditionalData, {\r\n                    \"bank\": vm.model.bank,\r\n                    \"cardNumber\": vm.model.cardNumber,\r\n                    \"cardIssueDate\": vm.model.issueMonth + '/' + vm.model.issueYear,\r\n                    \"amount\": parseInt(vm.model.amount)\r\n                });\r\n            } else {\r\n                applicantAdditionalData = angular.merge({}, applicantAdditionalData, {\r\n                    \"bank\": null,\r\n                    \"cardNumber\": null,\r\n                    \"cardIssueDate\": null,\r\n                    \"amount\": null\r\n                });\r\n            }\r\n            // console.log(applicantAdditionalData);\r\n            \r\n            return applicantAdditionalData;\r\n        };\r\n\r\n        vm.resetAddressFields = function (form, selectedCountry) {\r\n            if (selectedCountry.countryCode != 'IN') {\r\n                form.address1.$dirty = false;\r\n                form.address1.$pristine = true;\r\n                form.address1.$touched = false;\r\n                form.address1.$untouched = true;\r\n\r\n                form.address2.$dirty = false;\r\n                form.address2.$pristine = true;\r\n                form.address2.$touched = false;\r\n                form.address2.$untouched = true;\r\n\r\n                form.address3.$dirty = false;\r\n                form.address3.$pristine = true;\r\n                form.address3.$touched = false;\r\n                form.address3.$untouched = true;\r\n\r\n                form.currentCity.$dirty = false;\r\n                form.currentCity.$pristine = true;\r\n                form.currentCity.$touched = false;\r\n                form.currentCity.$untouched = true;\r\n\r\n                form.currentPinCode.$dirty = false;\r\n                form.currentPinCode.$pristine = true;\r\n                form.currentPinCode.$touched = false;\r\n                form.currentPinCode.$untouched = true;\r\n\r\n                form.currentState.$dirty = false;\r\n                form.currentState.$pristine = true;\r\n                form.currentState.$touched = false;\r\n                form.currentState.$untouched = true;\r\n\r\n                vm.model.permanentAddress.address1 = null;\r\n                vm.model.permanentAddress.address2 = null;\r\n                vm.model.permanentAddress.address3 = null;\r\n                vm.model.permanentAddress.pinCode = null;\r\n                vm.model.permanentAddress.city = null;\r\n                vm.model.permanentAddress.district = null;\r\n                vm.model.permanentAddress.state = null;\r\n            } else {\r\n                form.currentFlatNumber.$dirty = false;\r\n                form.currentFlatNumber.$pristine = true;\r\n                form.currentFlatNumber.$touched = false;\r\n                form.currentFlatNumber.$untouched = true;\r\n\r\n                form.currentRoadNumber.$dirty = false;\r\n                form.currentRoadNumber.$pristine = true;\r\n                form.currentRoadNumber.$touched = false;\r\n                form.currentRoadNumber.$untouched = true;\r\n\r\n                form.currentArea.$dirty = false;\r\n                form.currentArea.$pristine = true;\r\n                form.currentArea.$touched = false;\r\n                form.currentArea.$untouched = true;\r\n\r\n                form.currentPostalCode.$dirty = false;\r\n                form.currentPostalCode.$pristine = true;\r\n                form.currentPostalCode.$touched = false;\r\n                form.currentPostalCode.$untouched = true;\r\n\r\n                form.currentCityDetails.$dirty = false;\r\n                form.currentCityDetails.$pristine = true;\r\n                form.currentCityDetails.$touched = false;\r\n                form.currentCityDetails.$untouched = true;\r\n\r\n                form.currentDistrictDetails.$dirty = false;\r\n                form.currentDistrictDetails.$pristine = true;\r\n                form.currentDistrictDetails.$touched = false;\r\n                form.currentDistrictDetails.$untouched = true;\r\n\r\n                form.currentStateDetails.$dirty = false;\r\n                form.currentStateDetails.$pristine = true;\r\n                form.currentStateDetails.$touched = false;\r\n                form.currentStateDetails.$untouched = true;\r\n\r\n                vm.model.permanentAddress.currentFlatNumber = null;\r\n                vm.model.permanentAddress.currentRoadNumber = null;\r\n                vm.model.permanentAddress.area = null;\r\n                vm.model.permanentAddress.currentPostalCode = null;\r\n                vm.model.permanentAddress.cityDetails = null;\r\n                vm.model.permanentAddress.districtDetails = null;\r\n                vm.model.permanentAddress.stateDetails = null;\r\n                vm.model.permanentAddress.addressType = vm.addressTypes[0];\r\n            }\r\n        };\r\n\r\n        vm.cancel = function () {\r\n            var modalInstance = $uibModal.open({\r\n                backdrop: 'static',\r\n                keyboard: false,\r\n                modalFade: true,\r\n                component: \"cancel\",\r\n                windowClass: 'card-detail-modal'\r\n            });\r\n            modalInstance.result.then(function (isSelected) {\r\n                if (isSelected) {\r\n                    cardDipService.cancelApplicantData().then(function (result) {\r\n                        if (result.errorCode == 3) {\r\n                            $state.go('app.journey.s1-cards');\r\n                        } else if (result.errorCode == 4) {\r\n                            $rootScope.sessionError = true;\r\n                            $state.go('app.app-retrieval');\r\n                        } else {\r\n                            $state.go('app.cancelApplication', {\r\n                                data: {\r\n                                    name: cardDipService.getApplicantName()\r\n                                },cardKey:vm.selectedCard.key\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n            }, function () { });\r\n            analyticService.buttonList.buttonClick.event_content = \"cancel\";\r\n            analyticService.trackUserAction(analyticService.buttonList.buttonClick);\r\n        };\r\n\r\n        vm.save = function () {\r\n            var modalInstance = $uibModal.open({\r\n                backdrop: 'static',\r\n                keyboard: false,\r\n                modalFade: true,\r\n                component: \"overlaySaveConfirmation\",\r\n                windowClass: 'card-detail-modal'\r\n            });\r\n            modalInstance.result.then(function (isSelected) {\r\n                if (isSelected) {\r\n                    var applicantAdditionalData = prepareDataToSend();\r\n                    var securityParams = {\r\n                        robocheck: vm.robocheck ? vm.robocheck : ''\r\n                    };\r\n                    cardDipService.sendApplicantData(applicantAdditionalData, securityParams, true).then(function (result) {\r\n                        if (result.success) {\r\n                            $state.go('app.save-exit', {\r\n                                saveData: {\r\n                                    name: cardDipService.getApplicantName()\r\n                                },cardKey:vm.selectedCard.key\r\n                            });\r\n                        } else {\r\n                            if (result.errorCode == 3) {\r\n                                $state.go('app.journey.s1-cards');\r\n                            } else if (result.errorCode == 4) {\r\n                                $rootScope.sessionError = true;\r\n                                $state.go('app.app-retrieval');\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            }, function () { });\r\n            analyticService.buttonList.buttonClick.event_content = \"save for later\";\r\n            analyticService.trackUserAction(analyticService.buttonList.buttonClick);\r\n        };\r\n\r\n        /*vm.closeAlert = function (scopeVar) {\r\n            vm[scopeVar] = false;\r\n        };*/\r\n\r\n        vm.issueDateChange = function (doFormat) {\r\n            var monthElement = $scope.cardDIP.month,\r\n                yearElement = $scope.cardDIP.year;\r\n            monthElement.$setValidity(\"min\", true);\r\n            monthElement.$setValidity(\"max\", true);\r\n            yearElement.$setValidity(\"max\", true);\r\n            yearElement.$setValidity(\"invalid\", true);\r\n            var currentYear = (new Date()).getFullYear();\r\n            var month = parseInt(vm.model.issueMonth),\r\n                year = parseInt(vm.model.issueYear);\r\n            if (year <= 0) {\r\n                vm.model.issueYear = null;\r\n                return;\r\n            }\r\n            if (year > 0 && year < 1900) {\r\n                yearElement.$setValidity(\"invalid\", false);\r\n                return;\r\n            }\r\n            if (month <= 0) {\r\n                monthElement.$setValidity(\"min\", false);\r\n                return;\r\n            } else if (month > 12) {\r\n                monthElement.$setValidity(\"max\", false);\r\n                return;\r\n            }\r\n            // if (year < vm.currentYear) {\r\n            //     yearElement.$setValidity(\"min\", false);\r\n            //     return;\r\n            // }\r\n            // if (month < currentMonth && year === vm.currentYear) {\r\n            //     yearElement.$setValidity(\"nextMonth\", false);\r\n            //     return;\r\n            // }\r\n            if (year > currentYear) {\r\n                yearElement.$setValidity('max', false);\r\n                return;\r\n            }\r\n            if (doFormat && vm.model.issueMonth && vm.model.issueMonth.length === 1) {\r\n                vm.model.issueMonth = '0' + vm.model.issueMonth;\r\n            }\r\n        };\r\n\r\n        vm.validateOtherCardLimit = function () {\r\n            var amount = parseInt(vm.model.amount);\r\n            if (amount <= 0) {\r\n                vm.model.amount = null;\r\n            }\r\n        };\r\n    };\r\n\r\n    var cardDip = angular.module('journey.module').component('cardDip', {\r\n        template: require('./card-DIP.component.html'),\r\n        controller: ['$scope', '$state', '$uibModal', '$filter', '$anchorScroll', '$rootScope', 'journeyService',\r\n            'cardDipService', 'analyticService', 'UtilService', cardDip]\r\n    });\r\n    module.exports = cardDip.name;\r\n})();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/journey/card-DIP/card-DIP.component.js\n// module id = ./src/app/components/journey/card-DIP/card-DIP.component.js\n// module chunks = 9","(function () {\r\n    'use strict';\r\n\r\n    var cardDipService = angular.module('journey.module').service('cardDipService', ['$rootScope', '$http', 'appState', 'CONFIG', 'UtilService',\r\n        function ($rootScope, $http, appState, CONFIG, UtilService) {\r\n            var self = this;\r\n            self.fullName = null;\r\n\r\n            var getARN = function () {\r\n                var localState = appState.getApplicationData(), arn = '';\r\n                if (localState && localState.primaryApplicant) {\r\n                    arn = localState.primaryApplicant.arn;\r\n                }\r\n                return arn;\r\n            };\r\n\r\n            self.getApplicantName = function () {\r\n                var localState = appState.getApplicationData(), fullName = '';\r\n                if (localState && localState.primaryApplicant) {\r\n                    fullName = localState.primaryApplicant.fullName;\r\n                }\r\n                return fullName;\r\n            };\r\n\r\n            self.getMaritalStatus = function () {\r\n                var localState = appState.getApplicationData(), maritalStatus = '';\r\n                if (localState && localState.primaryApplicant && localState.primaryApplicant.demographicDetails) {\r\n                    maritalStatus = localState.primaryApplicant.demographicDetails.maritalStatus;\r\n                }\r\n                return maritalStatus;\r\n            };\r\n\r\n            var setDataInStorage = function (applicantData) {\r\n                var data = {\r\n                    \"primaryApplicant\": {\r\n                        \"dipDetails\": applicantData\r\n                    }\r\n                };\r\n                var arnData = angular.merge({}, appState.getApplicationData(), data);\r\n                appState.setApplicationData(arnData);\r\n            };\r\n\r\n            self.cancelApplicantData = function () {\r\n                var apiURL, httpMethod;\r\n                if ($rootScope.integrationsActive) {\r\n                    httpMethod = \"POST\";\r\n                    apiURL = CONFIG.apiUrl + '/applicantdetails/saveUserData/' + getARN() + '?hash_id=' + Math.random();\r\n                } else {\r\n                    httpMethod = \"GET\";\r\n                    apiURL = 'resources/data/mock/card-dip/dip_cancel.json';\r\n                }\r\n                return $http({\r\n                    method: httpMethod,\r\n                    url: apiURL,\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    }\r\n                }).then(function (response) {\r\n                    if (response.status === 200 && response.data) {\r\n                        return response.data;\r\n                    } else if (response && response.validationErrors) {\r\n                        //return pageError = \"Please ensure the values added in form fields are appropriate, and retry.\";\r\n                    } else {\r\n                        //Need to display \"response\" below page heading (above form).\r\n                        //vm.pageError = \"Some error occurred on the server side. Please try after some time.\";\r\n                    }\r\n                    return;\r\n                }, function (response) {\r\n                    return;\r\n                });\r\n            };\r\n\r\n            self.sendApplicantData = function (applicantData, securityParams, isSaveExit) {\r\n                var apiURL, httpMethod;\r\n                if ($rootScope.integrationsActive) {\r\n                    httpMethod = \"POST\";\r\n                    apiURL = CONFIG.apiUrl + '/applicantdetails/dip/save/' + getARN() + '/' + isSaveExit + '?hash_id=' + Math.random();\r\n                } else {\r\n                    httpMethod = \"GET\";\r\n                    apiURL = 'resources/data/mock/card-dip/dip_save.json';\r\n                }\r\n                return $http({\r\n                    method: httpMethod,\r\n                    url: apiURL,\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    data: JSON.stringify(applicantData),\r\n                    params: securityParams\r\n                }).then(function (response) {\r\n                    if (response.status === 200 && response.data) {\r\n                        if (response.data.success) {\r\n                            setDataInStorage(applicantData);\r\n                        }\r\n                        return response.data;\r\n                    } else if (response && response.validationErrors) {\r\n                        //return pageError = \"Please ensure the values added in form fields are appropriate, and retry.\";\r\n                    } else {\r\n                        //Need to display \"response\" below page heading (above form).\r\n                        //vm.pageError = \"Some error occurred on the server side. Please try after some time.\";\r\n                    }\r\n                    return;\r\n                }, function (response) {\r\n                    return;\r\n                });\r\n            };\r\n\r\n            self.getUserDetails = function () {\r\n                var contactData = appState.getContactDetails();\r\n                var isStaffJourney = appState.isStaffJourney();\r\n                // console.log(\"journey flag =======\", isStaffJourney);\r\n                    self.ekyc = contactData.ekyc;\r\n                    // console.log(\"EKYC from contactDetails =======\", self.ekyc);\r\n                \r\n                var userDTO = {},\r\n                    localState = appState.getApplicationData();\r\n                if (localState && localState.primaryApplicant) {\r\n                    userDTO.addressOptions = localState.primaryApplicant.addressOptions || null;\r\n                    if (localState.primaryApplicant.dipDetails) {\r\n                        userDTO.hasFormerName = localState.primaryApplicant.dipDetails.hasFormerName || 'N';\r\n                        userDTO.formerName = localState.primaryApplicant.dipDetails.formerName || null;\r\n                        userDTO.motherName = localState.primaryApplicant.dipDetails.motherName || null;\r\n                        userDTO.kyc = localState.primaryApplicant.dipDetails.kyc || null;\r\n                        userDTO.fatherName = localState.primaryApplicant.dipDetails.fatherName || null;\r\n                        userDTO.cardUsage = localState.primaryApplicant.dipDetails.cardUsage || null;\r\n                        userDTO.cardReason = localState.primaryApplicant.dipDetails.cardReason || null;\r\n                        userDTO.nameOnCard = localState.primaryApplicant.dipDetails.nameOnCard || null;\r\n                        userDTO.permanentAddress = localState.primaryApplicant.dipDetails.permanentAddress || null;\r\n                        userDTO.permanentAddressSame = localState.primaryApplicant.dipDetails.permanentAddressSame || 'Y';\r\n                        userDTO.dipArn = localState.primaryApplicant.dipDetails.dipArn || null;\r\n                        userDTO.birthCountry = localState.primaryApplicant.dipDetails.birthCountry || null;\r\n                        userDTO.correspondenceAddress = localState.primaryApplicant.dipDetails.correspondenceAddress || null;\r\n                        userDTO.eStatementApplied = localState.primaryApplicant.dipDetails.estatementApplied || 'Y';\r\n                        userDTO.balanceTransferTaken = localState.primaryApplicant.dipDetails.balanceTransferTaken === 'Y' ? true : false;\r\n                        userDTO.supplementaryCardApplied = localState.primaryApplicant.dipDetails.supplementaryCardApplied === 'Y' ? true : false;\r\n                        userDTO.hasOtherBankCardDetails = localState.primaryApplicant.dipDetails.hasOtherBankCardDetails || 'N';\r\n                        userDTO.bank = localState.primaryApplicant.dipDetails.bank || null;\r\n                        userDTO.cardNumber = localState.primaryApplicant.dipDetails.cardNumber || null;\r\n                        if (!UtilService.isEmpty(localState.primaryApplicant.dipDetails.cardIssueDate)) {\r\n                            var temp = localState.primaryApplicant.dipDetails.cardIssueDate.split('/');\r\n                            userDTO.issueMonth = temp[0];\r\n                            userDTO.issueYear = temp[1];\r\n                        } else {\r\n                            userDTO.issueMonth = null;\r\n                            userDTO.issueYear = null;\r\n                        }\r\n\r\n                        userDTO.accountDetails = localState.primaryApplicant.dipDetails.accountDetails || {};\r\n                        userDTO.accountDetails.accountNumberConsent = userDTO.accountDetails.accountNumberConsent === \"Y\";\r\n                        userDTO.accountDetails.accountNumber = userDTO.accountDetails.accountNumber || null;\r\n                        userDTO.accountDetails.branchLocation = userDTO.accountDetails.branchLocation || null;\r\n                        userDTO.accountDetails.primaryBank = userDTO.accountDetails.primaryBank || null;\r\n\r\n                        userDTO.existingRelation = localState.primaryApplicant.dipDetails.existingRelation || 'N';\r\n                        userDTO.existingRelationShipDetails = localState.primaryApplicant.dipDetails.existingRelationShipDetails || {};\r\n                        userDTO.existingRelationShipDetails.relationType = userDTO.existingRelationShipDetails.relationType || null;\r\n                        userDTO.existingRelationShipDetails.staffName = userDTO.existingRelationShipDetails.staffName || null;\r\n                        userDTO.existingRelationShipDetails.staffId = userDTO.existingRelationShipDetails.staffId || null;\r\n\r\n                        userDTO.amount = localState.primaryApplicant.dipDetails.amount ? localState.primaryApplicant.dipDetails.amount.toString() : null;\r\n                        userDTO.creditLimit = parseLimit(localState.primaryApplicant.dipDetails.creditLimit);\r\n                        userDTO.status = localState.primaryApplicant.dipDetails.status || null;\r\n                        if(self.ekyc == 'Yes') {\r\n                            userDTO.formerName = localState.primaryApplicant.dipDetails.nameOnCard || null;\r\n                            userDTO.nameOnCard = localState.primaryApplicant.dipDetails.applicantName ? localState.primaryApplicant.dipDetails.applicantName : null;\r\n                        }\r\n                    }\r\n                }\r\n                return userDTO;\r\n            };\r\n\r\n            var parseLimit = function (val) {\r\n                var parsed = null;\r\n                if (val) {\r\n                    var tmp = val.split(',');\r\n                    parsed = parseInt(tmp.join(''));\r\n                }\r\n                return parsed;\r\n            };\r\n        }]);\r\n\r\n    module.exports = cardDipService.name;\r\n})();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/journey/card-DIP/card-DIP.component.service.js\n// module id = ./src/app/components/journey/card-DIP/card-DIP.component.service.js\n// module chunks = 9"],"sourceRoot":""}