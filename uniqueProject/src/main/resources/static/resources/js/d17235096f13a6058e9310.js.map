{"version":3,"sources":["webpack:///./src/app/components/ekycPage/ekycPage.component.html","webpack:///./src/app/components/ekycPage/ekycPage.component.js","webpack:///./src/app/components/ekycPage/ekycPage.component.scss","webpack:///./src/app/components/ekycPage/ekycPage.component.service.js","webpack:///./src/app/components/ekycPage/open-success-modal/open-success.modal.component.html","webpack:///./src/app/components/ekycPage/open-success-modal/open-success.modal.component.js","webpack:///./src/app/components/ekycPage/open-success-modal/open-success.modal.component.scss"],"names":[],"mappings":";;;;;;;;;;AAAA,o6BAAo6B,cAAc,+OAA+O,0GAA0G,kBAAkB,iBAAiB,gMAAgM,GAAG,SAAS,GAAG,8CAA8C,6FAA6F,sGAAsG,4CAA4C,isBAAisB,2FAA2F,yBAAyB,iCAAiC,wIAAwI,+EAA+E,6EAA6E,0FAA0F,waAAwa,iCAAiC,gKAAgK,eAAe,sMAAsM,iHAAiH,kOAAkO,iHAAiH,qRAAqR,qGAAqG,kKAAkK,sCAAsC,8rBAA8rB,qGAAqG,mKAAmK,sCAAsC,2zHAA2zH,2BAA2B,iCAAiC,SAAS,aAAa,qLAAqL,2BAA2B,+EAA+E,sBAAsB,4DAA4D,uBAAuB,0NAA0N,mBAAmB,mEAAmE,UAAU,kDAAkD,cAAc,yJAAyJ,YAAY,GAAG,aAAa,GAAG,YAAY,qCAAqC,YAAY,gLAAgL,gBAAgB,sEAAsE,gBAAgB,wEAAwE,gBAAgB,wEAAwE,gBAAgB,uEAAuE,YAAY,wDAAwD,mBAAmB,yCAAyC,gBAAgB,iDAAiD,aAAa,yCAAyC,eAAe,2EAA2E,oBAAoB,onC;;;;;;;;;;;;ACAphX;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2EAA2E,mBAAmB;AAC9F,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,oCAAoC;AACpC;AACA;AACA;;AAEA;AACA;AACA;;AAEA,yBAAyB;AACzB;AACA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA,qBAAqB;AACrB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,6BAA6B;AAC7B;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oCAAoC;AACpC,uEAAuE,mBAAmB;AAC1F,oCAAoC;AACpC,uEAAuE,mBAAmB;AAC1F,oCAAoC;AACpC;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,6BAA6B;AAC7B;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,iBAAiB;;AAEjB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,qBAAqB;AACjF;AACA,yFAAyF;AACzF;AACA;AACA,gCAAgC;AAChC;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA,4CAA4C;AAC5C,wCAAwC;AACxC,2EAA2E,mBAAmB;AAC9F;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA,+BAA+B;;AAE/B,wBAAwB;AACxB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA,wBAAwB,eAAe,EAAE;AACzC;;;;AAIA,aAAa;AACb,KAAK;;AAEL;AACA,CAAC;;;;;;;;;;;;;AC/fD,yC;;;;;;;;;;;;ACAA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA;AACA,uGAAuG;AACvG;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA,qCAAqC,2DAA2D;AAChG,qBAAqB;AACrB,qCAAqC,2DAA2D;AAChG,qBAAqB;AACrB,qCAAqC,kEAAkE;AACvG,qBAAqB;AACrB,qCAAqC,oCAAoC;AACzE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;;AAEjB;AACA;;AAEA;AACA,sE;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB;AACzB;;AAEA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA,sB;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;;;AAGA,KAAK;;AAEL;AACA,CAAC;;;;;;;;;;;;;AC5RD,8lB;;;;;;;;;;;;ACAA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA,CAAC;;;;;;;;;;;;;ACzCD,yC","file":"resources/js/d17235096f13a6058e9310.js","sourcesContent":["module.exports = \"<div ng-hide=$ctrl.showLoader class=row> <div class=phonetext> <div class=\\\"view-container header-spacer\\\"> <form ng-hide=$ctrl.showLoader name=retrievalForm autocomplete=off focus-on-error novalidate> <input type=text class=hidden-field ng-model=$ctrl.robocheck tabindex=-1> <alert-msg ng-if=$ctrl.showOtpSent type=SUCCESS close=$ctrl.closeSuccessMsg()> One Time Password (OTP) has been sent to the Registered Mobile number. Please click \\\"Re-send OTP\\\" if you have not received OTP </alert-msg> <alert-msg ng-if=$ctrl.showForm type=SUCCESS close=$ctrl.closeSuccessMsg() ng-hide=$ctrl.errMsg> EKYC is successfully completed, Please scroll down to see aadhaar details and click Proceed for V-CIP. </alert-msg> <alert-msg ng-if=$ctrl.ekycDone type=SUCCESS close=$ctrl.closeSuccessMsg()> You hvae already completed your EKYC in last 72 hours at our platform. </alert-msg> <alert-msg ng-if=$ctrl.errMsg type=ERROR> {{$ctrl.errMsg}} </alert-msg> <div class=row ng-if=!$ctrl.ekycDone> <div class=\\\"col-md-6 col-sm-0 col-xs-0\\\"> <div class=\\\"form-group line-spacer\\\"> <label for=aadhaar>Enter Your Aadhaar Number(12 digits) / Virtual ID(16 digits)</label> <div ng-class=\\\"{'has-error': retrievalForm.aadhaar.$invalid && (retrievalForm.aadhaar.$touched || $ctrl.aadhaarSubmitted)}\\\"> <input type={{$ctrl.typeInput}} id=aadhaar name=aadhaar only-number=16 class=form-control aria-describedby=aadhaarErrMsg ng-trim=true autofocus=autofocus ng-model=$ctrl.model.aadhaar ng-minlength=12 ng-pattern=/^[2-9][0-9]{11}$|^[0-9]{16}$/ placeholder=\\\"As per ID\\\" aria-invalid=\\\"{{retrievalForm.aadhaar.$invalid && ($ctrl.model.submitted || retrievalForm.aadhaar.$touched)}}\\\" ng-disabled=\\\"$ctrl.otpSent || $ctrl.showForm\\\" required> </div> <div id=aadhaarErrMsg ng-class=\\\"{'has-error': retrievalForm.aadhaar.$invalid}\\\"> <validation-msg ng-if=\\\"retrievalForm.aadhaar.$error.required && (retrievalForm.aadhaar.$touched || $ctrl.aadhaarSubmitted)\\\"> Please make sure you have entered your Virtual ID/Aadhaar number to continue with your application. </validation-msg> <validation-msg ng-if=\\\"(retrievalForm.aadhaar.$error.minlength || retrievalForm.aadhaar.$error.pattern) && retrievalForm.aadhaar.$touched\\\"> Please input a valid Virtual ID/Aadhaar number to continue with your application. </validation-msg> </div> </div> </div> </div> <div class=\\\"form-group line-spacer\\\" ng-if=\\\"$ctrl.otpSent && !$ctrl.ekycDone\\\"> <label for=otp>OTP</label> <div class=row> <div class=\\\"col-md-4 col-sm-6 col-xs-12\\\"> <div ng-class=\\\"{'has-error': retrievalForm.otp.$invalid && (retrievalForm.otp.$touched || $ctrl.submitted)}\\\"> <input trim type=\\\"{{$ctrl.showForm?'password':'tel'}}\\\" id=otp name=otp class=form-control ng-model=$ctrl.model.otp only-number=6 ng-minlength=6 aria-describedby=OTPErrMsg aria-invalid=\\\"{{retrievalForm.otp.$invalid && (retrievalForm.otp.$touched || $ctrl.submitted)}}\\\" ng-disabled=$ctrl.showForm required> </div> <div id=OTPErrMsg ng-class=\\\"{'has-error': retrievalForm.otp.$invalid&& ($ctrl.submitted || retrievalForm.otp.$touched)}\\\"> <validation-msg ng-if=\\\"retrievalForm.otp.$error.required && (retrievalForm.otp.$touched || $ctrl.submitted)\\\"> Please enter OTP </validation-msg> <validation-msg ng-if=\\\"retrievalForm.otp.$error.minlength && (retrievalForm.otp.$touched || $ctrl.submitted)\\\"> Invalid OTP </validation-msg> </div> </div> <div class=\\\"col-md-4 col-sm-6 col-xs-12 line-spacer-xs\\\" ng-hide=$ctrl.showForm> <span class=link-text ng-class=\\\"{'disabled': !$ctrl.regenerateOTP}\\\" ng-click=\\\"$ctrl.regenerateOTP ? $ctrl.requestAadhaarOTP(retrievalForm) : $event.preventDefault()\\\">Re-send OTP </span> <span ng-if=\\\"$ctrl.counter > 0\\\">({{$ctrl.counter}} sec)</span> </div> </div> </div> <div class=row ng-if=!$ctrl.ekycDone> <div class=\\\"col-md-12 col-sm-14 col-xs-12\\\"> <div class=\\\"form-group line-spacer\\\"> <div id=aadhaarConsentErrMsg ng-class=\\\"{'has-error': retrievalForm.aadhaarConsent.$invalid && (retrievalForm.aadhaarConsent.$touched || $ctrl.submitted)}\\\"> <validation-msg ng-if=\\\"retrievalForm.aadhaarConsent.$error.required && (retrievalForm.aadhaarConsent.$touched || $ctrl.submitted)\\\"> Please check this box if you want to proceed. </validation-msg> </div> <div ng-class=\\\"{'has-error': retrievalForm.aadhaarConsent.$invalid && (retrievalForm.aadhaarConsent.$touched || $ctrl.submitted)}\\\"> <input type=checkbox id=aadhaarConsent name=aadhaarConsent class=screen-reader-only ng-model=$ctrl.model.aadhaarConsent ng-focus=\\\"$ctrl.hasAadhaarConsentFocus = true\\\" ng-blur=\\\"$ctrl.hasAadhaarConsentFocus = false\\\" aria-describedby=aadhaarConsentErrMsg aria-invalid=\\\"{{retrievalForm.aadhaarConsent.$invalid && (retrievalForm.aadhaarConsent.$touched || $ctrl.submitted)}}\\\" required ng-disabled=\\\"$ctrl.otpSent || $ctrl.showForm\\\"> <label ng-show=$ctrl.showFullTerm for=aadhaarConsent class=\\\"checkbox-label tpsa-label\\\" ng-class=\\\"{'focus': $ctrl.hasAadhaarConsentFocus}\\\"> <font size=2>This is to confirm that ...</font> </label> <div ng-show=!$ctrl.showFullTerm class=text-right> <span ng-click=\\\"$ctrl.showFullTerm = true\\\"> <span class=\\\"icon icon-chevron-up\\\" aria-hidden=true></span>Read less </span> </div> <div ng-show=$ctrl.showFullTerm class=text-right> <span ng-click=\\\"$ctrl.showFullTerm = false\\\"> <span class=\\\"icon icon-chevron-down\\\" aria-hidden=true></span>Read more </span> </div> <input type=checkbox id=aadhaarConsent name=aadhaarConsent class=screen-reader-only ng-model=$ctrl.model.aadhaarConsent ng-focus=\\\"$ctrl.hasAadhaarConsentFocus = true\\\" ng-blur=\\\"$ctrl.hasAadhaarConsentFocus = false\\\" aria-describedby=aadhaarConsentErrMsg aria-invalid=\\\"{{retrievalForm.aadhaarConsent.$invalid && (retrievalForm.aadhaarConsent.$touched || $ctrl.submitted)}}\\\" required ng-disabled=\\\"$ctrl.otpSent || $ctrl.showForm\\\"> <label ng-show=!$ctrl.showFullTerm for=aadhaarConsent class=\\\"checkbox-label tpsa-label\\\" ng-class=\\\"{'focus': $ctrl.hasAadhaarConsentFocus}\\\"> <br> <meta charset=UTF-8 /> <p> <font size=2> This is to confirm that I have been provided various options by HSBC India for establishing my identity for the purpose opening/maintenance of accounts with the Bank. For the purpose of establishing my identity, I have voluntarily submitted my Aadhaar for biometric/OTP based e-KYC authentication as per the facility provided by UIDAI. I hereby give my consent to HSBC India: i) To establish my identity/address proof by Aadhaar based authentication system or verify the genuineness of the Aadhaar through UIDAI specified scheme/s or through such other manner as set out by UIDAI or any other law from time to time. ii) Share my Aadhaar and associated demographic details with UIDAI directly or through its authorised agencies (NPCI), concerned regulatory or statutory authorities as may be required under applicable laws. The consent and purpose of collecting Aadhaar have been explained to me and I confirm having understood the same. I have also been informed that: a) Upon authentication, UIDAI may share information in nature of my demographic information including photograph which HSBC India may use as an identity/address proof for the above mentioned purpose. b) My Aadhaar details (including my demographic information) shared by UIDAI will not be used for any purpose other than the purpose mentioned above or as per requirement of law. c) My biometric information will not be stored by the Bank. </font> </p> <p> <font size=2> मैं यह पुष्टि करता हूँ कि बैंक के साथ खाता खोलने / बनाए रखने के लिए मुझे अपनी पहचान स्थापित करने के लिए एचएसबीसी इंडिया द्वारा विभिन्न विकल्प प्रदान किए गए हैं। मैंने अपनी पहचान स्थापित करने के लिए , यूआईडीएआई द्वारा प्रदान की गई सुविधा के अनुसार बायोमेट्रिक/ओटीपी आधारित ई-केवाईसी प्रमाणीकरण के लिए स्वेच्छा से अपना आधार जमा किया है। मैं एतद्वारा एचएसबीसी इंडिया को अपनी सहमति देता हूं: <br> i) आधार आधारित प्रमाणीकरण प्रणाली द्वारा मेरी पहचान / पता स्थापित कर सकते हैं या यूआईडीएआई द्वारा निर्दिष्ट योजना / योजनाओं या यूआईडीएआई द्वारा निर्धारित अन्य तरीके या समय- समय पर किसी अन्य कानून के माध्यम से आधार की वास्तविकता को सत्यापित कर सकते हैं। <br> ii) अगर लागू कानूनों के तहत आवश्यक हो तो मेरे आधार और संबंधित जनसांख्यिकीय विवरण को सीधे यूआईडीएआई के साथ या इसकी अधिकृत एजेंसियों (एनपीसीआई), संबंधित नियामक या वैधानिक प्राधिकरणों के माध्यम से साझा कर सकते हैं। <br> आधार एकत्र करने की सहमति और उद्देश्य के बारे में मुझे बताया गया है और मैं पुष्टि करता हूं कि मैं इसे समझ गया हूं। मुझे यह भी सूचित किया गया है कि: <br> ए) प्रमाणीकरण पर, यूआईडीएआई मेरी जनसांख्यिकीय जानकारी साझा कर सकता है जिसेमें फोरोग्राफ शामिल है, जिसे एचएसबीसी इंडिया ऊपर लिए उद्देश्य के लिए पहचान/पता प्रमाण के रूप में उपयोग कर सकता है। <br> बी) यूआईडीएआई द्वारा साझा किए गए मेरे आधार विवरण (मेरी जनसांख्यिकीय जानकारी सहित) का उपयोग ऊपर लिखे उद्देश्य या कानून की आवश्यकता के अलावा किसी अन्य उद्देश्य के लिए नहीं किया जाएगा। <br> ग) मेरी बायोमेट्रिक जानकारी बैंक द्वारा संग्रहित नहीं की जाएगी। </font> </p> </label> <div class=line-spacer> <div class=\\\"col-md-6 col-sm-12 col-xs-12\\\"> <p>Click on the play button to play a TnC in English:</p> <audio id=myAudioEnglish controls> <source ng-src=resources/audio/TncEnglish.m4a type=audio/mpeg>s Your browser does not support the audio element. </audio> </div> </div> <div class=\\\"col-md-6 col-sm-6 col-xs-12\\\"> <p> हिंदी में टीएनसी सूनने के लिए प्ले बटन पर क्लिक करें:</p> <audio id=myAudioHindi controls> <source ng-src=resources/audio/TncHindi.m4a type=audio/mpeg> Your browser does not support the audio element. </audio> </div> </div> </div> </div> </div> <div class=row> <div class=\\\"form-group row text-center\\\"> <div class=\\\"col-md-12 col-sm-14 col-xs-12\\\" ng-if=\\\"($ctrl.otpSent && $ctrl.showForm)\\\"> <hr class=line-spacer> <h2 class=brand-bar>Aadhaar Details Verification</h2> <img ng-src=resources/images/aadhaar_logo.png width=200px height=128px /> <br> <br> <h3>Reference Key - {{$ctrl.aadhaarReferenceKey}}</h3> <img ng-src=data:image/png;base64,{{$ctrl.photo}} class=center /> <div class=line-spacer> <table class=center> <tr> <th colspan=4>Aadhaar Details</th> </tr> <tr> <td class=bold colspan=2>Aadhaar Reference Key</td> <td colspan=2>{{$ctrl.aadhaarReferenceKey}}</td> </tr> <tr> <td class=bold colspan=2>Enrollment Date</td> <td colspan=2>{{$ctrl.enrollmentDate}}</td> </tr> <tr> <td class=bold>Redacted Aadhaar</td> <td>{{$ctrl.redactedAadhaar}}</td> <td class=bold>Mode</td> <td>SMS OTP</td> </tr> </table> </div> <div class=line-spacer> <table class=center> <tr> <th colspan=4>Personal Details</th> </tr> <tr> <td class=bold colspan=2>Name</td> <td colspan=2>{{$ctrl.aadhaarName}}</td> </tr> <tr> <td class=bold colspan=2>C/O</td> <td colspan=2>{{$ctrl.co}}</td> </tr> <tr> <td class=bold>Gender</td> <td>{{$ctrl.gender}}</td> <td class=bold ng-if=$ctrl.disabledDob>Date Of Birth</td> <td class=bold ng-if=!$ctrl.disabledDob>Year Of Birth</td> <td ng-if=$ctrl.disabledDob>{{$ctrl.date}}-{{$ctrl.month}}-{{$ctrl.year}}</td> <td ng-if=!$ctrl.disabledDob>{{$ctrl.year}}</td> </tr> </table> </div> <div class=line-spacer> <table class=center> <tr> <th colspan=4>Address Details</th> </tr> <tr> <td class=bold colspan=2>House</td> <td colspan=2>{{$ctrl.address1}}</td> </tr> <tr> <td class=bold colspan=2>Street</td> <td colspan=2>{{$ctrl.address2}}</td> </tr> <tr> <td class=bold colspan=2>Landmark</td> <td colspan=2>{{$ctrl.address3}}</td> </tr> <tr> <td class=bold colspan=2>Location</td> <td colspan=2>{{$ctrl.location}}</td> </tr> <tr> <td class=bold colspan=2>Village</td> <td colspan=2>{{$ctrl.city}}</td> </tr> <tr> <td class=bold>Sub District</td> <td>{{$ctrl.subDistrict}}</td> <td class=bold>District</td> <td>{{$ctrl.district}}</td> </tr> <tr> <td class=bold>State</td> <td>{{$ctrl.state}}</td> <td class=bold>PIN Code</td> <td>{{$ctrl.pinCode}}</td> </tr> <tr> <td class=bold colspan=2>Post Ofiice</td> <td colspan=2>{{$ctrl.postalOffice}}</td> </tr> </table> </div> </div> </div> </div> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12\\\"> <hr class=\\\"form-group line-spacer\\\"> </div> </div> <div class=row> <div class=\\\"col-md-12 col-sm-12 col-xs-12 text-right\\\" ng-if=\\\"!$ctrl.otpSent && !$ctrl.ekycDone\\\"> <button class=\\\"button-primary no-margin-t-xs\\\" id=submitButton ng-click=$ctrl.requestAadhaarOTP(retrievalForm)>Request OTP</button> </div> <div class=\\\"col-md-12 col-sm-12 col-xs-12 text-right\\\" ng-if=$ctrl.otpSent ng-hide=$ctrl.showForm> <button class=\\\"button-primary no-margin-t-xs\\\" id=submitButton ng-click=$ctrl.submitOTP(retrievalForm)>Validate OTP</button> </div> <div class=\\\"col-md-12 col-sm-12 col-xs-12 text-center\\\" ng-if=\\\"$ctrl.vcipButton || $ctrl.ekycDone\\\"> <p> </p><h4> <b>Thank you for completing the eKYC journey. Please proceed for eligibility check and Video based Customer Identification process(VCIP) by clicking here.</b> <button class=\\\"button-primary no-margin-t-xs\\\" ng-click=$ctrl.exit()> <font size=4>Proceed </font></button> </h4> <p></p> </div> </div> </form> </div> </div> </div> <loading ng-show=$ctrl.showLoader></loading>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/ekycPage/ekycPage.component.html\n// module id = ./src/app/components/ekycPage/ekycPage.component.html\n// module chunks = 10","(function () {\r\n    'use strict';\r\n    var angular = require('angular');\r\n    require('./ekycPage.component.scss');\r\n    require('./ekycPage.component.service');\r\n    require('./open-success-modal/open-success.modal.component.js');\r\n\r\n\r\n    var ekycStep = angular.module('app').component('ekycPage', {\r\n        template: require('./ekycPage.component.html'),\r\n        controller: ['$rootScope', '$http', '$state', '$anchorScroll', '$uibModal', 'analyticService', 'appState', 'CONFIG', 'ekycPageService', '$timeout', 'UtilService',\r\n            function ($rootScope, $http, $state, $anchorScroll, $uibModal, analyticService, appState, CONFIG, ekycPageService, $timeout, UtilService) {\r\n                var vm = this;\r\n                let sendOtpCounter = 1;\r\n                let validateOtpCounter = 1;\r\n                let proceedClicked = true;\r\n\r\n                vm.$onInit = function () {\r\n\r\n                    vm.typeInput = 'tel';\r\n                    // vm.etbCustomer = false;\r\n                    // vm.addressOptions = ['Current', 'Permanent', 'Current and Permanent'];\r\n                     getEkycDoneOrNot();\r\n                }\r\n\r\n                var getEkycDoneOrNot = function () {\r\n                    // console.log(\"calling ibps for checking ekyc is done or not in last 72 hours\")\r\n                    var securityParams = {\r\n                        robocheck: vm.robocheck ? vm.robocheck : ''\r\n                    };\r\n                    var reqData = {\r\n                        \"urlParamId\": appState.getUrlParamId()\r\n                    }\r\n                    //console.log(\"front data to ==\", JSON.stringify(reqData));\r\n                    ekycPageService.getEkycDone(reqData, securityParams).then(function (result) {\r\n                        // console.log(\"backend response data for ekyc done ==\", JSON.stringify(result));\r\n                        if (result.success) {\r\n\r\n                            if(result.ekycDone === \"true\"){\r\n                                vm.ekycDone = true;\r\n                                // console.log(\"Ekyc is completed in last 72 hours so no need to do again==\", result.ekycDone);\r\n                                vm.ekycId = UtilService.decodeData2(result[\"ekycId\"]);\r\n                                // console.log(\"ekycID ==\"+vm.ekycId);\r\n                            }else{\r\n                                // console.log(\"Ekyc is not completed in last 72 hours so  need to do again==\", result.ekycDone);\r\n                                vm.ekycDone = false;\r\n                            }\r\n\r\n                            //commented-as no need to show ekyc data within 72 hours>just redirect to VCIP==start\r\n                            // if (result.dipDecision == \"dipDone\") {\r\n                            //     // Already a submitted application in past 30 days \r\n                            //     console.log(\"Already a submitted application in past 30 days sending to submitted page\")                       \r\n                            //     $state.go('app.submitted-application', { 'cardKey': \"VPC\" });\r\n                            // } else {\r\n                            //     if (result.ekycDone == \"true\") {\r\n                            //         console.log(\"Ekyc is completed in last 72 hours so no need to do again==\", result.ekycDone)\r\n                            //         vm.ekycDone = true;\r\n                            //         vm.gender = UtilService.decodeData2(result[\"gender\"]);\r\n                            //         vm.aadhaarName = UtilService.decodeData2(result[\"aadhaarName\"]);\r\n                            //         //DOB (YYYY-MM-DD)\r\n                            //         var dateOfBirth = UtilService.decodeData2(result[\"dateOfBirth\"]);\r\n                            //         var dob = new Date(dateOfBirth);\r\n                            //         var dd = String(dob.getDate()).padStart(2, '0');\r\n                            //         var mm = String(dob.getMonth() + 1).padStart(2, '0');\r\n                            //         var yyyy = dob.getFullYear();\r\n                            //         vm.date = dd;\r\n                            //         vm.month = mm;\r\n                            //         vm.year = yyyy;\r\n                            //         // vm.model.mobile = result[\"mobile\"];\r\n                            //         // vm.model.email = result[\"email\"];\r\n                            //         vm.address1 = UtilService.decodeData2(result[\"house\"]);\r\n                            //         vm.address2 = UtilService.decodeData2(result[\"street\"]);\r\n                            //         vm.address3 = UtilService.decodeData2(result[\"landmark\"]);\r\n                            //         vm.location = UtilService.decodeData2(result[\"location\"]);\r\n                            //         vm.pinCode = UtilService.decodeData2(result[\"pincode\"]);\r\n                            //         vm.postalOffice = UtilService.decodeData2(result[\"postalOffice\"]);\r\n                            //         vm.city = UtilService.decodeData2(result[\"village\"]);\r\n                            //         vm.district = UtilService.decodeData2(result[\"district\"]);\r\n                            //         vm.subDistrict = UtilService.decodeData2(result[\"subDistrict\"]);\r\n                            //         vm.state = UtilService.decodeData2(result[\"state\"]);\r\n                            //         vm.photo = result[\"photo\"];\r\n                            //         vm.co = UtilService.decodeData2(result[\"co\"]);\r\n                            //         vm.uidToken = UtilService.decodeData2(result[\"uidToken\"]);\r\n                            //         vm.aadhaarReferenceKey = UtilService.decodeData2(result[\"aadhaarReferenceKey\"]);\r\n                            //         vm.enrollmentDate = UtilService.decodeData2(result[\"enrollmentDate\"]);\r\n                            //         vm.redactedAadhaar = UtilService.decodeData2(result[\"redactedAadhaar\"]);\r\n                            //         console.log(\"Ekycid in result\", result.ekycId);\r\n                            //         vm.ekycId = UtilService.decodeData2(result[\"ekycId\"]);\r\n                            //         console.log(\"Ekycid\", vm.ekycId);\r\n                            //         vm.frnLoanTrackerNumber=result[\"frnLoanTrackerNumber\"]\r\n                            //         vm.dipRetrigger = result[\"dipTrigger\"];\r\n\r\n\r\n                            //     } else if (result.ekycDone == \"false\") {\r\n                            //         console.log(\"Ekyc is not completed in last 72 hours so  need to do again==\", result.ekycDone)\r\n                            //         vm.ekycDone = false;\r\n                            //         //add diptrigger  true \r\n\r\n                            //     }\r\n                            // }\r\n                            //commented-as no need to show ekyc data within 72 hours>just redirect to VCIP==end\r\n\r\n                        } else if (result.responseCode) {\r\n                            vm.errMsg = result.responseMessage;\r\n                            window.scroll(0, 0);\r\n                        } else {\r\n                            vm.errMsg = \"Sorry there seems to be some issue\";\r\n                            window.scroll(0, 0);\r\n\r\n                        }\r\n                    });\r\n                }\r\n\r\n                vm.requestAadhaarOTP = function (retrievalForm) {\r\n                    vm.errMsg = \"\";\r\n                    vm.showOtpSent = false;\r\n                    vm.aadhaarSubmitted = true;\r\n                    // vm.aadhaarConsentCheck = vm.model.aadhaarConsent ? 'Y' : 'N';\r\n                    if (retrievalForm.aadhaar.$valid && retrievalForm.aadhaarConsent.$valid) {\r\n                        var securityParams = {\r\n                            robocheck: vm.robocheck ? vm.robocheck : ''\r\n                        };\r\n                        var aadhaarNumber = UtilService.encodeData2(vm.model.aadhaar);\r\n\r\n                        var reqData = {\r\n                            aadhaar: aadhaarNumber,\r\n                            mode: \"SMS OTP\",\r\n                            aadhaarConsentFlag: vm.model.aadhaarConsent ? 'Y' : 'N',\r\n                            \"urlParamId\": appState.getUrlParamId()\r\n                        };\r\n                        // console.log(\"Requested OTP with following reqData === \", JSON.stringify(reqData));\r\n                        console.log(\"resend OTP  is ==\", sendOtpCounter);\r\n                        if (sendOtpCounter > 3) {\r\n                            window.scrollTo(0, 0);\r\n                            vm.errMsg = \"Sorry!! Maximum number of OTP request reached. Please close the browser and retry after some time.\";\r\n                            console.log(\"resend OTP counter  is before ==\", sendOtpCounter);\r\n                            return;\r\n                        }\r\n                        ekycPageService.requestAadhaarOTP(reqData, securityParams).then(function (result) {\r\n                            vm.typeInput = \"password\";\r\n                            sendOtpCounter = sendOtpCounter + 1;\r\n                            window.scrollTo(0, 0);\r\n                            if (result.success) {\r\n                                vm.txn = result[\"txn\"];\r\n                                vm.showOtpSent = true;\r\n                                vm.otpSent = true;\r\n                                vm.submitted = false;\r\n                                vm.regenerateOTP = false;\r\n                                vm.counter = 90;\r\n                                countDown();\r\n                            } else if (result.responseCode) {\r\n                                vm.errMsg = result.responseMsg;\r\n                            } else {\r\n                                vm.errMsg = \"Sorry!! It seems there is some issue with Aadhaar Portal \";\r\n                            }\r\n                        });\r\n                    } else {\r\n                        vm.submitted = true;\r\n                        UtilService.focusOnInvalid('retrievalForm');\r\n                    }\r\n                }\r\n\r\n                var countDown = function () {\r\n                    $timeout(function () {\r\n                        vm.counter--;\r\n                        if (vm.counter <= 0) {\r\n                            vm.regenerateOTP = true;\r\n                        } else {\r\n                            countDown();\r\n                        }\r\n                    }, 1000);\r\n                };\r\n\r\n                vm.submitOTP = function (retrievalForm) {\r\n                    vm.errMsg = \"\";\r\n                    vm.showOtpSent = false;\r\n                    vm.vcipButton = false;\r\n\r\n                    vm.submitted = false;\r\n                    // vm.etbCustomer = false;\r\n                    // vm.c11c35Timeout = false;\r\n                    if (retrievalForm.otp.$valid) {\r\n                        var securityParams = {\r\n                            robocheck: vm.robocheck ? vm.robocheck : ''\r\n                        };\r\n                        var aadhaarNumber = UtilService.encodeData2(vm.model.aadhaar);\r\n                        var reqData = {\r\n                            otp: vm.model.otp,\r\n                            aadhaar: aadhaarNumber,\r\n                            txn: vm.txn,\r\n                            mode: \"SMS OTP\",\r\n                            \"urlParamId\": appState.getUrlParamId()\r\n                        }\r\n                        // console.log(\"Submit OTP reqData ======= \", JSON.stringify(reqData));\r\n                        // console.log(\"validate OTP counter  is ==\", validateOtpCounter);\r\n                        if (validateOtpCounter > 3) {\r\n                            window.scrollTo(0, 0);\r\n                            vm.errMsg = \"Sorry!! Maximum number of OTP validate is reached. Please close the browser and retry after some time.\";\r\n                            console.log(\"validate OTP counter  is before ==\", validateOtpCounter);\r\n                            return;\r\n                        }\r\n                        ekycPageService.submitOTP(reqData, securityParams).then(function (result) {\r\n                            validateOtpCounter = validateOtpCounter + 1;\r\n                            if (result.success) {\r\n                                window.scrollTo(0, 0);\r\n\r\n                                vm.showForm = true;\r\n                                vm.showFullTerm = true;\r\n                                vm.vcipButton = true;\r\n\r\n                                vm.gender = UtilService.decodeData2(result[\"gender\"]);\r\n                                vm.aadhaarName = UtilService.decodeData2(result[\"aadhaarName\"]);\r\n                                //DOB (YYYY-MM-DD)\r\n                                var dateOfBirth = UtilService.decodeData2(result[\"dateOfBirth\"]);\r\n                                console.log(\"dateOfBirth==\",dateOfBirth);\r\n\r\n                                var dob = new Date(dateOfBirth);\r\n                                console.log(\"dob==\",dob);\r\n\r\n                                var dd = String(dob.getDate()).padStart(2, '0');\r\n                                var mm = String(dob.getMonth() + 1).padStart(2, '0');\r\n                                var yyyy = dob.getFullYear();\r\n\r\n                                console.log(\"dd==\",dd);\r\n                                console.log(\"mm==\",mm);\r\n                                console.log(\"yyyy==\",yyyy);\r\n\r\n\r\n\r\n                               // vm.date = dd;\r\n                                // vm.month = mm;\r\n                                // vm.year = yyyy;\r\n\r\n                                if (dateOfBirth.length >= 5) {\r\n                                    console.log(\"length==full\", dateOfBirth.length);\r\n                                    vm.date = dd;\r\n                                    vm.month = mm;\r\n                                    vm.year = yyyy;\r\n                                    vm.disabledDob = true;\r\n        \r\n                                } else {\r\n                                    console.log(\"length==year\", dateOfBirth.length);\r\n                                    // vm.model.date = \"\";\r\n                                    // vm.model.month = \"\";\r\n                                    vm.year = yyyy;\r\n                                    vm.disabledDob = false;\r\n        \r\n                                }\r\n                                // vm.model.mobile = result[\"mobile\"];\r\n                                // vm.model.email = result[\"email\"];\r\n                                vm.address1 = UtilService.decodeData2(result[\"house\"]);\r\n                                vm.address2 = UtilService.decodeData2(result[\"street\"]);\r\n                                vm.address3 = UtilService.decodeData2(result[\"landmark\"]);\r\n                                vm.location = UtilService.decodeData2(result[\"location\"]);\r\n                                vm.pinCode = UtilService.decodeData2(result[\"pincode\"]);\r\n                                vm.postalOffice = UtilService.decodeData2(result[\"postalOffice\"]);\r\n                                vm.city = UtilService.decodeData2(result[\"village\"]);\r\n                                vm.district = UtilService.decodeData2(result[\"district\"]);\r\n                                vm.subDistrict = UtilService.decodeData2(result[\"subDistrict\"]);\r\n                                vm.state = UtilService.decodeData2(result[\"state\"]);\r\n                                vm.photo = result[\"photo\"];\r\n                                vm.co = UtilService.decodeData2(result[\"co\"]);\r\n                                vm.uidToken = UtilService.decodeData2(result[\"uidToken\"]);\r\n                                vm.aadhaarReferenceKey = UtilService.decodeData2(result[\"aadhaarReferenceKey\"]);\r\n                                vm.enrollmentDate = UtilService.decodeData2(result[\"enrollmentDate\"]);\r\n                                vm.redactedAadhaar = UtilService.decodeData2(result[\"redactedAadhaar\"]);\r\n                                vm.ekycId = UtilService.decodeData2(result[\"ekycId\"]);\r\n                                // console.log(\"backend DipTrigger ==\", result.dipTrigger);\r\n                                // vm.dipRetrigger = result[\"dipTrigger\"];\r\n                                // console.log(\"vm.dipRetrigger ==\", vm.dipRetrigger);\r\n                                // vm.frnLoanTrackerNumber=result[\"frnLoanTrackerNumber\"]\r\n\r\n                                // if (result.responseCode == \"203\" && result.responseMsg == \"Our records indicate that you are an existing customer of HSBC\") {\r\n                                //     console.log(\"ETb customer modal ==\", vm.ekycId);\r\n                                //     vm.etbCustomer = true;\r\n                                //     openSuccessModel();\r\n\r\n                                // } else if (result.responseCode == \"203\" && result.responseMsg == \"Declined due to internal policy\") {\r\n                                //     $state.go('app.card-declined', { 'cardKey': \"VPC\" });\r\n                                // } else if (result.responseCode == \"201\") {\r\n                                //     $state.go('app.card-declined', { 'cardKey': \"VPC\" });\r\n                                // } else if (result.responseCode == \"408\") {\r\n                                //     vm.errMsg = \"Sorry there seems to be some technical timeout in intermediate system, Please retry after some time.\";\r\n                                //     window.scrollTo(0, 0);\r\n                                //     vm.c11c35Timeout = true;\r\n                                // }\r\n                            } else if (result.responseCode == 'K1') {\r\n                                vm.errMsg = \"Invalid OTP, Please retry.\";\r\n                                window.scrollTo(0, 0);\r\n                            } else if (result.responseCode) {\r\n                                vm.errMsg = result.responseMsg;\r\n                            } else {\r\n                                vm.errMsg = \"Sorry there seems to be some technical error\";\r\n                                window.scrollTo(0, 0);\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n\r\n                vm.exit = function () {\r\n                    proceedClicked = false;\r\n                    // vm.autoUrl = \"https://ir99txrb18.execute-api.ap-south-1.amazonaws.com/prod/kyc/v1/web/ekyc/callback?tokenId=\";\r\n                    vm.autoUrl = \"https://cards.videokyc.hsbc.co.in/kyc/v1/web/ekyc/callback?tokenId=\";\r\n                    // console.log('autoURL====' + vm.autoUrl + vm.ekycId);\r\n                    // window.open(\"https://ir99txrb18.execute-api.ap-south-1.amazonaws.com/prod/kyc/jOefo5t6\", \"_blank\");\r\n                    //window.open(vm.autoUrl +vm.ekycId, \"_blank\");\r\n                    window.location.href = vm.autoUrl + vm.ekycId;\r\n\r\n                }\r\n\r\n                window.addEventListener('beforeunload', function (e) {\r\n                    console.log(\"proceed==\"+proceedClicked);\r\n                    if (proceedClicked) {\r\n                        console.log(\"BrowserClose==\");\r\n                        e.preventDefault();\r\n                        e.returnValue = 'Okay Bye';\r\n                    } else {\r\n                        //alert(\"not asking\")\r\n                        console.log(\"no need to alert on procced click 11\")\r\n                    }\r\n                });\r\n\r\n                //window.removeEventListener('onbeforeunload',console.log(\"no need to alert on procced click 22\"))\r\n\r\n                //$(\"button-primary no-margin-t-xs\").addEventListener('click',console.log(\"Hi documnet\"));\r\n                // window.onbeforeunload = function () {\r\n                //     console.log(\" window.onbeforeunload\")\r\n                //     return \"Did you save your stuff?\"\r\n                // }\r\n\r\n                // vm.getAddressByPinCode = function (event, addressObj, pinCodeElement, emptyDistrict) {\r\n                //     var key = event.keyCode || event.which;\r\n                //     var pinCode = addressObj.pinCode;\r\n                //     pinCodeElement.$setValidity('invalid', true);\r\n                //     if (event.target.value.length === 6) {\r\n                //         if (key === 13 || event.target.value.length === 6) {\r\n                //             ekycPageService.getAddressByPostalCode(pinCode, '.masked-container').then(function (data) {\r\n                //                 addressObj.district = data.district;\r\n                //                 addressObj.state = data.state;\r\n                //                 addressObj.city = data.city;\r\n                //                 vm[emptyDistrict] = UtilService.isEmpty(data.district);\r\n                //                 if (!vm.isStaffJourney) { //added too bypass ;ncode for staff\r\n                //                     if (UtilService.isEmpty(data) || UtilService.isEmpty(data.state) || UtilService.isEmpty(data.city)) {\r\n                //                         pinCodeElement.$setValidity('invalid', false);  //COMMENTED to openup pincode\r\n                //                     }\r\n                //                 }\r\n                //             });\r\n                //         }\r\n                //     } else {\r\n                //         addressObj.district = null;\r\n                //         addressObj.state = null;\r\n                //         addressObj.city = null;\r\n                //     }\r\n                // };\r\n\r\n                // // getting bank bazaar address from IBPS-Yogesh\r\n                // vm.getOtherAddress = function () {\r\n                //     vm.showOtherAddress = false;\r\n                //     console.log(\"Hi for getOtherAddress==\");\r\n                //     if (vm.model.addressOptions == 'Current' || vm.model.addressOptions == 'Permanent') {\r\n                //         console.log(\"Hi for getOtherAddress for \" + vm.model.addressOptions + \"==\");\r\n                //         var securityParams = {\r\n                //             robocheck: vm.robocheck ? vm.robocheck : ''\r\n                //         };\r\n                //         var reqData = {\r\n                //             addressOption: vm.model.addressOptions,\r\n                //             \"urlParamId\": appState.getUrlParamId()\r\n                //         }\r\n                //         console.log(\"data==\", JSON.stringify(reqData));\r\n                //         ekycPageService.getOtherAddFromIbps(reqData, securityParams).then(function (result) {\r\n                //             console.log(\"backend channel all data==\", JSON.stringify(result));\r\n                //             if (result.success) {\r\n                //                 vm.showOtherAddress = true;\r\n                //                 vm.model.otherAddress1 = result.address1;\r\n                //                 vm.model.otherAddress2 = result.address2;\r\n                //                 vm.model.otherAddress3 = result.address3;\r\n                //                 vm.model.otherPinCode = result.pincode;\r\n                //                 vm.model.otherCity = result.city;\r\n                //                 vm.model.otherState = result.state;\r\n                //                 vm.model.otherDistrict = result.district;\r\n                //                 vm.model.otherCountry = result.country;\r\n\r\n                //             }\r\n                //             else if (result.responseCode) {\r\n                //                 // Invalid PSID: PSID doesn't exist\r\n                //                 vm.errMsg = result.responseMessage;\r\n                //                 analyticService.buttonList.error.event_content = \"Invalid PSID error\";\r\n                //                 analyticService.trackUserAction(analyticService.buttonList.error);\r\n                //                 window.scroll(0, 0);\r\n                //             } else if (result.responseCode === 10001) {\r\n                //                 // Inactive PSID\r\n                //                 vm.errMsg = \"Sorry there seems to be some issue\";\r\n                //                 analyticService.buttonList.error.event_content = \"Inactive PSID error\";\r\n                //                 analyticService.trackUserAction(analyticService.buttonList.error);\r\n                //             }\r\n                //         });\r\n                //     }\r\n                // }\r\n\r\n                // // pushing address + DIP Check-Yogesh\r\n                // vm.valAddDipCheck = function (retrievalForm) {\r\n                //     //vm.vcipButton = false;\r\n                //     console.log(\"dipRetrigger==\", vm.dipRetrigger);\r\n                //     if (!vm.dipRetrigger) {\r\n                //         $state.go('app.final-thankyou', {\r\n                //             saveData: {\r\n                //                 //statusCode: result.responseCode,\r\n                //                 // autoUrl: result.signingUrl,\r\n                //                 frnNumber: vm.frnLoanTrackerNumber,\r\n                //                 ekycToken: vm.ekycId,\r\n                //             },\r\n                //             'cardKey': \"VPC\"\r\n                //         });\r\n                //         return;\r\n                //     }\r\n                //     if (vm.etbCustomer) {\r\n                //         openSuccessModel();\r\n                //         return;\r\n                //     }\r\n                //     if (vm.c11c35Timeout) {\r\n                //         vm.errMsg = \"Sorry there seems to be some technical timeout in intermediate system, Please retry after some time.\";\r\n                //         window.scrollTo(0, 0);\r\n                //         return;\r\n                //     }\r\n                //     vm.dipCheckDone = false;\r\n                //     console.log(\"Hi is form valid==\", retrievalForm.$valid);\r\n                //     if (retrievalForm.$valid) {\r\n                //         var securityParams = {\r\n                //             robocheck: vm.robocheck ? vm.robocheck : ''\r\n                //         };\r\n                //         var reqData = {\r\n                //             addressOption: vm.model.addressOptions,\r\n                //             otherCountry: vm.model.otherCountry,\r\n                //             otherAddress1: vm.model.otherAddress1,\r\n                //             otherAddress2: vm.model.otherAddress2,\r\n                //             otherAddress3: vm.model.otherAddress3,\r\n                //             otherPinCode: vm.model.otherPinCode,\r\n                //             otherCity: vm.model.otherCity,\r\n                //             otherState: vm.model.otherState,\r\n                //             otherDistrict: vm.model.otherDistrict,\r\n                //             \"urlParamId\": appState.getUrlParamId()\r\n                //         }\r\n                //         console.log(\"front data to dip==\", JSON.stringify(reqData));\r\n                //         vm.showLoader = true;\r\n                //         $rootScope.$broadcast('trigger-verification-loader', {\r\n                //             showLoader: true,\r\n                //             showCard: false,\r\n                //             loaderType: 'DIP'\r\n                //         });\r\n                //        // setTimeout(() => {\r\n                //             ekycPageService.goForDipCheck(reqData, securityParams).then(function (result) {\r\n                //                 console.log(\"backend DIP  data==\", JSON.stringify(result));\r\n                //                 if (result.success) {\r\n                //                     vm.dipCheckDone = true;\r\n                //                     if (result.dipCode == 200) {\r\n                //                         //  vm.vcipButton = true;\r\n                //                         $state.go('app.final-thankyou', {\r\n                //                             saveData: {\r\n                //                                 statusCode: result.responseCode,\r\n                //                                 // autoUrl: result.signingUrl,\r\n                //                                 frnNumber: result.frnLoanTrackerNumber,\r\n                //                                 dipRefNumber: result.dipArn,\r\n                //                                 ekycToken: vm.ekycId,\r\n                //                             },\r\n                //                             'cardKey': \"VPC\"\r\n                //                         });\r\n                //                     } else if (result.dipCode == 201 || result.dipCode == 104 || result.dipCode == 101) {\r\n                //                         $state.go('app.card-declined', { 'cardKey': \"VPC\" });\r\n                //                     }\r\n                //                 } else if (result.responseCode) {\r\n                //                     vm.showLoader = false;\r\n                //                     vm.errMsg = result.responseMsg;\r\n                //                     analyticService.buttonList.error.event_content = \"Invalid PSID error\";\r\n                //                     analyticService.trackUserAction(analyticService.buttonList.error);\r\n                //                     window.scroll(0, 0);\r\n                //                 }\r\n                //             });\r\n                //             // console.log(\"World!\");\r\n                //         // }, 5000);\r\n\r\n                //     } else {\r\n                //         vm.submitted = true;\r\n                //         UtilService.focusOnInvalid('retrievalForm');\r\n                //     }\r\n\r\n                // }\r\n\r\n                // var openSuccessModel = function () {\r\n                //     console.log(\"inside ETB model for ==\", vm.ekycId);\r\n                //     var openSuccessModalInstance = $uibModal.open({\r\n                //         backdrop: 'static',\r\n                //         keyboard: false,\r\n                //         modalFade: true,\r\n                //         component: \"opensuccessModal\",\r\n                //         windowClass: 'card-detail-modal'\r\n                //     });\r\n                //     openSuccessModalInstance.result.then(function (isSelected) {\r\n                //         if (isSelected) {\r\n                //             window.location.href = \"http://www.hsbc.co.in/\";\r\n                //         } else {\r\n                //             window.location.href = \"http://www.hsbc.co.in/\";\r\n                //         }\r\n                //     }, function () { });\r\n                // }\r\n\r\n\r\n\r\n            }]\r\n    });\r\n\r\n    module.exports = ekycStep.name;\r\n})();\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/ekycPage/ekycPage.component.js\n// module id = ./src/app/components/ekycPage/ekycPage.component.js\n// module chunks = 10","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/ekycPage/ekycPage.component.scss\n// module id = ./src/app/components/ekycPage/ekycPage.component.scss\n// module chunks = 10","(function () {\r\n    'use strict';\r\n\r\n    var ekycPageService = angular.module('app').service('ekycPageService', ['$rootScope', '$http', '$q', '$timeout', '$interval', 'appState', 'CONFIG', function ($rootScope, $http, $q, $timeout, $interval, appState, CONFIG) {\r\n        var self = this;\r\n        self.arn = null;\r\n\r\n\r\n        this.clearLocalState = function () {\r\n            console.log(`clearing local state on load`);\r\n            appState.removeUrlParamId();\r\n        };\r\n\r\n            //@AD - 04/16/2022 - will send request to backend\r\n            this.requestAadhaarOTP= function (reqData, securityParams) {\r\n                // console.log(\"Step 3 component service object ===\", JSON.stringify(reqData));\r\n                var apiURL, httpMethod;\r\n                if ($rootScope.integrationsActive) {\r\n                    httpMethod = \"POST\";\r\n                    apiURL = CONFIG.apiUrl + '/bankBazaar/ekyc/requestOtpBB' + '?hash_id=' + Math.random();\r\n                    // console.log(\"API call to backend made successfully.\", JSON.stringify(reqData).aadhaar);\r\n                } else {\r\n                    httpMethod = \"GET\";\r\n                    apiURL = 'resources/data/mock/step3_personal-details/aadhaar_otp.json';\r\n                    // console.log(\"API call to mock made successfully.\", JSON.stringify(reqData).aadhaar);\r\n                }\r\n                return $http({\r\n                    method: httpMethod,\r\n                    url: apiURL,\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    data: reqData,\r\n                    params: securityParams\r\n                }).then(function (response) {\r\n                    if (response.status === 200 && response.data) {\r\n                        return response.data;\r\n                    } else {\r\n                        return {\r\n                            success: false,\r\n                            message: \"There is an error in triggering the OTP, please try again.\"\r\n                        };\r\n                    }\r\n                }, function (error) {\r\n                    return {\r\n                        success: false,\r\n                        message: \"There is an error in triggering the OTP, please try again.\"\r\n                    };\r\n                });\r\n            }\r\n         \r\n            this.submitOTP = function (reqData, securityParams) {\r\n                var apiURL, httpMethod;\r\n                if ($rootScope.integrationsActive) {\r\n                    httpMethod = \"POST\";\r\n                    apiURL = CONFIG.apiUrl + '/bankBazaar/ekyc/submitEkycBB'  + '?hash_id=' + Math.random();\r\n                } else {\r\n                    httpMethod = \"GET\";\r\n                    apiURL = \"resources/data/mock/step3_personal-details/submit-OTP.json\";\r\n                }\r\n                return $http({\r\n                    method: httpMethod,\r\n                    url: apiURL,\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\"\r\n                    },\r\n                    data: reqData,\r\n                    params: securityParams\r\n                }).then(function (response) {\r\n                    if (response.status === 200 && response.data) {\r\n                        //  console.log(\"Submit-OTP response data ===\", JSON.stringify(response.data));\r\n                        return response.data;\r\n                    } else {\r\n                        return {\r\n                            success: false,\r\n                            message: \"Sorry! there seems to be some technical error.\"\r\n                        };\r\n                    }\r\n                }, function (error) {\r\n                    return {\r\n                        success: false,\r\n                        message: \"Sorry! there seems to be some technical error.\"\r\n                    };\r\n                });\r\n            }\r\n\r\n            this.getAddressByPostalCode = function (postalCode, maskContainer) {\r\n                if ($rootScope.integrationsActive) {\r\n                    return $http.get(CONFIG.apiUrl + '/lookup/pincodePersonalDetails/' + postalCode, {}).then(function (response) {\r\n                        if (response && response.status === 200) {\r\n                            return response.data;\r\n                        }\r\n                    });\r\n                } else {\r\n                    var def = $q.defer();\r\n                    if (postalCode === \"221204\") {\r\n                        def.resolve({ city: 'Varanasi', district: null, state: 'Uttar Pradesh' });\r\n                    } else if (postalCode === '201301') {\r\n                        def.resolve({ city: 'Noida', district: 'Noida', state: 'Uttar Pradesh' });\r\n                    } else if (postalCode === '110096') {\r\n                        def.resolve({ city: 'New Ashok Nagar', district: 'East Delhi', state: 'Delhi' });\r\n                    } else {\r\n                        def.resolve({ city: '', district: '', state: '' });\r\n                    }\r\n                    return def.promise;\r\n                }\r\n            };\r\n\r\n            this.getCountries = function () {\r\n                return $http.get('resources/data/countries.json', {\r\n                    cache: true\r\n                }).then(function (response) {\r\n                    return response.data;\r\n                });\r\n            };\r\n\r\n            //This function is used get other address from IBPS -@28/07/2023 Yogesh\r\n            self.getOtherAddFromIbps = function (reqData, securityParams) {\r\n               // var channel=[];\r\n                console.log(\"ReqData at service==\",JSON.stringify(reqData));\r\n                var apiURL, httpMethod;\r\n                if ($rootScope.integrationsActive) {\r\n                    httpMethod = \"POST\";\r\n                    apiURL = CONFIG.apiUrl + '/bankBazaar/ekyc/getOtherAddres' + '?hash_id=' + Math.random();\r\n                } else {\r\n                    httpMethod = \"GET\";\r\n                    apiURL = 'resources/data/mock/step3_personal-details/getOtherAddress.json';\r\n                }\r\n                return $http({\r\n                    method: httpMethod,\r\n                    url: apiURL,\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    data: reqData,\r\n                    params: securityParams\r\n                }).then(function (response) {\r\n                    if (response && response.status === 200 && response.data) {\r\n                        //console.log(\"Channel from backen==\",response.data);\r\n                        return response.data;\r\n                    }\r\n                });\r\n            };\r\n\r\n            self.sendConsentData = function (securityParams,reqData) {\r\n                console.log(\"senCOnsent  1\");\r\n                var defer = $q.defer(),\r\n                retryDip = { active: true, pollTimeout: 1 * 60 * 1000, pollInterval: 85 * 1000, pollCount: 4 };\r\n                // dipCheck(consent, securityParams, defer);\r\n                dipCheck(securityParams, defer, retryDip, reqData);\r\n                $timeout(function () {\r\n                    var intervalPromise = $interval(function () {\r\n                        console.log(\"intervalPromise  10\");\r\n                        if (retryDip.active) {\r\n                            console.log(\"retryDip.active  tr===\",retryDip.active);\r\n                            console.log(\"intervalPromise retryDip.active 102\");\r\n                            dipCheck(securityParams, defer, retryDip,reqData);\r\n                        } else {\r\n                            console.log(\"retryDip.active  f===\",retryDip.active);\r\n                            $interval.cancel(intervalPromise);\r\n                           // alert(\" 0 Sorry there seems some issue. We have received timeout response from imtermediate system (AAPs). Please close the tab and try after some time\")\r\n                        }\r\n                    }, retryDip.pollInterval, retryDip.pollCount);\r\n                }, retryDip.pollTimeout);\r\n    \r\n                return defer.promise;\r\n            };\r\n\r\n            var dipCheck = function (securityParams, defer, retryDip,reqData) {\r\n                console.log(\"dipCheck  2\"  ,JSON.stringify(retryDip));    \r\n                var apiURL, httpMethod;\r\n                 if ($rootScope.integrationsActive) {\r\n                     httpMethod = \"POST\";\r\n                     apiURL = CONFIG.apiUrl + '/bankBazaar/goFor/dipCheck' + '?hash_id=' + Math.random();\r\n                 } else {\r\n                     httpMethod = \"GET\";\r\n                     apiURL = 'resources/data/mock/step3_personal-details/dipCheck.json';\r\n                 }\r\n                 return $http({\r\n                     method: httpMethod,\r\n                     url: apiURL,\r\n                     headers: {\r\n                         'Content-Type': 'application/json'\r\n                     },\r\n                    // data: JSON.stringify(reqData),\r\n                    data: reqData,\r\n                    params: securityParams,\r\n                    hideLoader: true\r\n                }).then(function (response) {\r\n                    console.log(\"response from backend  ===\", response.data.dipCode);\r\n                  //  console.log(\"retryDip.active  1===\",retryDip.active);\r\n                   retryDip.active = true;\r\n                   // console.log(\"retryDip.active 2 ===\",retryDip.active);\r\n                    if (response.status === 200 && response.data) {\r\n                        if (response.data.dipCode === 1004) {\r\n                            console.log(\"response.data.dipCode === 1004 ===\", response.data.dipCode);\r\n\r\n                            // dipCheck(reqData, securityParams, defer);\r\n                            dipCheck(securityParams, defer,reqData);\r\n                            console.log(\"calling dipCheck again==\")\r\n                        } else {\r\n                            console.log(\"else of 1004 resolve\")\r\n\r\n                            defer.resolve(response.data);\r\n                        }\r\n                    } else {\r\n                        console.log(\"else of 200==\")\r\n                        defer.reject(\"Some error has occured\");\r\n                        alert(\" 1 Sorry  there seems some issue. We have received timeout response from imtermediate system (AAPs). Please close the tab and try after some time\")\r\n                    }\r\n                }, function (response) {\r\n                    console.log(\"Returning end response==\",JSON.stringify(response));\r\n                    return;\r\n                });\r\n            };\r\n\r\n\r\n\r\n       // This function is used get data BB from IBPS and DIP check -@28/07/2023 Yogesh \r\n        self.goForDipCheck = function (reqData, securityParams) {\r\n            console.log(\"ReqData at service==\", JSON.stringify(reqData));\r\n            var apiURL, httpMethod;\r\n            if ($rootScope.integrationsActive) {\r\n                httpMethod = \"POST\";\r\n                apiURL = CONFIG.apiUrl + '/bankBazaar/goFor/dipCheck' + '?hash_id=' + Math.random();\r\n            } else {\r\n                httpMethod = \"GET\";\r\n                apiURL = 'resources/data/mock/step3_personal-details/dipCheck.json';\r\n            }\r\n            return $http({\r\n                method: httpMethod,\r\n                url: apiURL,\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                data: reqData,\r\n                params: securityParams\r\n            }).then(function (response) {\r\n                if (response && response.status === 200 && response.data) {\r\n                    console.log(\"Channel from backen 200==\",JSON.stringify(response));\r\n                    return response.data;\r\n                }else{\r\n                    console.log(\"Channel from backen else==\",JSON.stringify(response));\r\n\r\n                    return {\r\n                        success: false,\r\n                        responseCode: 500,\r\n                        responseMsg: \"Sorry! there ssems to be some technical error.\"\r\n                    };                \r\n                }\r\n            });\r\n        };\r\n\r\n             //This function is used to check if ekyc is done or not in lasy 72 hours -@28/07/2023 Yogesh\r\n             self.getEkycDone = function (reqData, securityParams) {\r\n               // console.log(\"ReqData at service for ekycDone==\",JSON.stringify(reqData));\r\n                var apiURL, httpMethod;\r\n                if ($rootScope.integrationsActive) {\r\n                    httpMethod = \"POST\";\r\n                    apiURL = CONFIG.apiUrl + '/bankBazaar/ekyc/goForEkycDone' + '?hash_id=' + Math.random();\r\n                } else {\r\n                    httpMethod = \"GET\";\r\n                    apiURL = 'resources/data/mock/step3_personal-details/ekycDoneCheck.json';\r\n                }\r\n                return $http({\r\n                    method: httpMethod,\r\n                    url: apiURL,\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    data: reqData,\r\n                    params: securityParams\r\n                }).then(function (response) {\r\n                    if (response && response.status === 200 && response.data) {\r\n                        //console.log(\"Channel from backen==\",response.data);\r\n                        return response.data;\r\n                    }\r\n                });\r\n            };\r\n\r\n\r\n    }]);\r\n\r\n    module.exports = ekycPageService.name;\r\n})();\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/ekycPage/ekycPage.component.service.js\n// module id = ./src/app/components/ekycPage/ekycPage.component.service.js\n// module chunks = 10","module.exports = \"<div class=modal-header> <div class=heading-container> </div> <div class=close-button-container> <button type=button class=close aria-label=Close ng-click=$ctrl.cancel()> <span aria-hidden=true>×</span> </button> </div> </div> <div class=modal-body> <p class=no-margin-b> <b>You have succesfully completed EKYC. You can see Aadhaar details by clicking \\\"×\\\"</b><br><br> But Our records indicate that you are an existing customer of HSBC. </p> </div> <div class=modal-footer> <div class=buttons-container> <button class=button-primary ng-click=$ctrl.Close(true)>OK</button> </div> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/ekycPage/open-success-modal/open-success.modal.component.html\n// module id = ./src/app/components/ekycPage/open-success-modal/open-success.modal.component.html\n// module chunks = 10","(function () {\r\n    'use strict';\r\n    var angular = require('angular');\r\n    require('./open-success.modal.component.scss');\r\n\r\n    var modalController = function () {\r\n        var vm = this;\r\n\r\n        vm.$onInit = function () {\r\n            console.log(\"value Hiii from open model==\");\r\n\r\n        };\r\n\r\n        /**\r\n         * This function is triggered when we select or unselect card.\r\n         * We push the selected card in selectedPrimaryCards array and\r\n         *  pop the unselected card.\r\n         */\r\n        vm.Close = function (isSelected) {\r\n            vm.close({\r\n                $value: isSelected\r\n            });\r\n        };\r\n\r\n        vm.cancel = function () {\r\n            vm.dismiss({\r\n                $value: 'cancel'\r\n            });\r\n        };\r\n    };\r\n\r\n    var modalComp = angular.module('app').component('opensuccessModal', {\r\n        template: require('./open-success.modal.component.html'),\r\n        bindings: {\r\n            resolve: '<',\r\n            close: '&',\r\n            dismiss: '&'\r\n        },\r\n        controller: [modalController]\r\n    });\r\n    module.exports = modalComp.name;\r\n})();\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/ekycPage/open-success-modal/open-success.modal.component.js\n// module id = ./src/app/components/ekycPage/open-success-modal/open-success.modal.component.js\n// module chunks = 10","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/ekycPage/open-success-modal/open-success.modal.component.scss\n// module id = ./src/app/components/ekycPage/open-success-modal/open-success.modal.component.scss\n// module chunks = 10"],"sourceRoot":""}