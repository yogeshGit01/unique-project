webpackJsonp([18],{"./src/app/components/journey/lead-generation/lead-generation.component.html":/*!***********************************************************************************!*\
  !*** ./src/app/components/journey/lead-generation/lead-generation.component.html ***!
  \***********************************************************************************/
function(e,a){e.exports='<form name=leadForm autocomplete=off novalidate> <input type=text class=hidden-field ng-model=$ctrl.robocheck tabindex=-1> <div class=row> <div class="col-md-12 col-sm-12 col-xs-12"> <alert-msg ng-if=$ctrl.errorMsg type=ERROR> {{$ctrl.errorMsg}} </alert-msg> </div> <div class="col-md-12 col-sm-12 col-xs-12"> <h1 class="brand-bar no-margin-top"> Personal Details </h1> <h2 class="h5 no-margin-t"> <b>Please provide your details below:</b> </h2> </div> </div> <div class=row> <div class="col-md-4 col-sm-6 col-xs-12"> <div class=form-group> <label for=givenName>Full name</label> <div ng-class="{\'has-error\': leadForm.givenName.$invalid && ($ctrl.model.submitted || leadForm.givenName.$touched)}"> <input type=text id=givenName aria-describedby=nameErrMsg trim alpha-space=50 class=form-control name=givenName ng-minlength=2 ng-maxlength=50 ng-model=$ctrl.model.givenName aria-invalid="{{leadForm.givenName.$invalid && ($ctrl.model.submitted || leadForm.givenName.$touched)}}" required> </div> <div id=nameErrMsg ng-class="{\'has-error\':(leadForm.givenName.$invalid)}"> <validation-msg ng-if="(leadForm.givenName.$error.required && leadForm.givenName.$touched) ||(leadForm.givenName.$error.required && $ctrl.model.submitted)"> Please enter your name to continue with your application. </validation-msg> <validation-msg ng-if=leadForm.givenName.$error.pattern> Your name contains invalid character(s). Please check and re-enter. </validation-msg> <validation-msg ng-if="leadForm.givenName.$error.maxlength && !leadForm.givenName.$error.pattern"> Maximum of 50 characters (including spaces) allowed for your name. </validation-msg> <validation-msg ng-if="leadForm.givenName.$error.minlength && !leadForm.givenName.$error.pattern && leadForm.givenName.$touched"> Please enter minimum of 2 letters for your name to continue with your application. </validation-msg> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer-xs"> <label for=mobileNo>Mobile number</label> <div class=input-group ng-class="{ \'has-error\' : leadForm.mobileNo.$invalid  &&  (leadForm.mobileNo.$touched  || $ctrl.model.submitted)}"> <span class=input-group-addon id=countryCode aria-hidden=true tabindex=-1> <span class="flag in" style=background-image:url(resources/images/country-flags-sprite.png)></span> +91</span> <input trim type=tel id=mobileNo aria-describedby="countryCode mobileErrMsg" name=mobileNo ng-model=$ctrl.model.mobileNo class="form-control has-block" ng-minlength=10 ng-paste=$ctrl.pasteInput(0,$event) ng-maxlength=10 ng-pattern=/^[6-9]\\d{9}$/ only-number=10 maxlength=10 aria-invalid="{{leadForm.mobileNo.$invalid  &&  (leadForm.mobileNo.$touched  || $ctrl.model.submitted)}}" required> </div> <div id=mobileErrMsg ng-class="{\'has-error\': (leadForm.mobileNo.$invalid)}"> <validation-msg ng-if="(leadForm.mobileNo.$error.required && leadForm.mobileNo.$touched) ||(leadForm.mobileNo.$error.required && $ctrl.model.submitted)"> Please enter your mobile number. </validation-msg> <validation-msg ng-if="leadForm.mobileNo.$error.minlength && leadForm.mobileNo.$touched"> Please enter at least 10 numbers. </validation-msg> <validation-msg ng-if="leadForm.mobileNo.$error.pattern && leadForm.mobileNo.$touched && !leadForm.mobileNo.$error.minlength"> Your mobile phone number must begin with 6, 7, 8 or 9. Please check and re-enter. </validation-msg> </div> </div> </div> </div> <div class=row> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label for=email>E-mail address</label> <div ng-class="{\'has-error\': (leadForm.email.$invalid) &&  (leadForm.email.$touched || $ctrl.model.submitted)}"> <input type=text class=form-control id=email name=email aria-describedby=emailErrMsg ng-model=$ctrl.model.email trim email-chars=39 ng-maxlength=39 placeholder=sample@abc.com ng-pattern=/^[_a-zA-Z0-9]+((\\.|\\-)[_a-zA-Z0-9]+)*@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*(\\.[a-zA-Z]{2,4})$/ aria-invalid="{{(leadForm.email.$invalid) &&  (leadForm.email.$touched || $ctrl.model.submitted)}}" required> </div> <div id=emailErrMsg ng-class="{\'has-error\': (leadForm.email.$invalid)}"> <validation-msg ng-if="(leadForm.email.$error.required && leadForm.email.$touched) ||(leadForm.email.$error.required && $ctrl.model.submitted)"> Please enter your e-mail address to continue with your application. </validation-msg> <validation-msg ng-if="leadForm.email.$error.pattern && leadForm.email.$touched"> Your e-mail address contains invalid characters. Please make sure you have entered a valid e-mail address, e.g. johnsmith@email.com. </validation-msg> <validation-msg ng-if="(leadForm.email.$error.maxlength && !leadForm.email.$error.pattern)"> Please enter a valid 39 character e-mail address. </validation-msg> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label for=city id=cityLabel>Residence city</label> <div ng-class="{\'has-error\': leadForm.city.$invalid && (leadForm.city.$touched || $ctrl.model.submitted)}"> <custom-select> <select id=city name=city class=form-control ng-model=$ctrl.model.residenceCity ng-options="item for item in $ctrl.cities" aria-describedby=resCityErrMsg aria-invalid="{{leadForm.city.$invalid && (leadForm.city.$touched || $ctrl.model.submitted)}}" required> <option value="">Please select</option> </select> </custom-select> </div> <div id=resCityErrMsg ng-class="{\'has-error\': leadForm.city.$invalid}"> <validation-msg ng-if="leadForm.city.$error.required && (leadForm.city.$touched || $ctrl.model.submitted)"> Please enter your residence city to continue with your application. </validation-msg> </div> </div> </div> <div class="col-md-4 col-sm-12 col-xs-12"> <div class=row> <div class="col-md-12 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label for=annualIncome id=annualIncomeLabel>Annual income</label> <div ng-class="{\'has-error\': leadForm.annualIncome.$invalid && (leadForm.annualIncome.$touched || $ctrl.model.submitted)}"> <custom-select> <select id=annualIncome name=annualIncome class=form-control ng-model=$ctrl.model.annualIncome ng-options="item for item in $ctrl.annualIncomes" aria-describedby=annualIncomeErrMsg aria-invalid="{{leadForm.annualIncome.$invalid && (leadForm.annualIncome.$touched || $ctrl.model.submitted)}}" required> <option value="">Please select</option> </select> </custom-select> </div> <div id=annualIncomeErrMsg ng-class="{\'has-error\': leadForm.annualIncome.$invalid}"> <validation-msg ng-if="leadForm.annualIncome.$error.required && (leadForm.annualIncome.$touched || $ctrl.model.submitted)"> Please let us know your annual income from the drop-down menu to continue with your application. </validation-msg> </div> </div> </div> </div> </div> </div> <div class="row line-spacer"> <div class="col-xs-12 col-md-12 col-sm-12"> <div> <label> By providing the above information, you are providing consent to HSBC and/or an authorized representative to contact you. </label> </div> <br/> <div> <label> Issuance of Credit card is at sole discretion of HSBC and would be done in adherence to verification guidelines of the Bank. HSBC reserves the right to seek additional documents, for processing the card application. </label> </div> <div> <h2 class=h5> <b>Please note the eligibility requirements:</b> </h2> <ul> <li> Age - 18 years to 65 years </li> <li ng-if="$ctrl.selectedCard.key !=\'MJY\'"> Minimum Annual Income – INR 3,00,000 </li> <li ng-if="$ctrl.selectedCard.key ==\'MJY\'"> Minimum Annual Income – INR 4,00,000 </li> <li> You need to be a Resident Indian </li> <li> Current city of residence - Bengaluru, Chennai, Gurugram, Hyderabad, Mumbai, New Delhi, Noida, and Pune. </li> <li>Employment - Salaried</li> </ul> </div> </div> </div> <div class=row> <div class="col-xs-12 col-md-12 col-sm-12"> <step-footer show-apply=true apply-callback=$ctrl.generateLead(leadForm.$valid) apply-disabled=$ctrl.isStaffJourney> </step-footer> </div> </div> </form>'},"./src/app/components/journey/lead-generation/lead-generation.component.js":/*!*********************************************************************************!*\
  !*** ./src/app/components/journey/lead-generation/lead-generation.component.js ***!
  \*********************************************************************************/
function(e,a,o){!function(){"use strict";function a(e,a,o,r,i,t,l){var n=this,d="";n.isStaffJourney=l.isStaffJourney(),e.showSelectedCard=!0,e.showARN=!1,n.$onInit=function(){e.stepsHeader.currentStep=1,n.annualIncomes=["4 - 8 lacs","8 - 10 lacs","above > 10 lacs"],n.cities=["Bengaluru","Chennai","Gurugram","Hyderabad","Mumbai","New Delhi","Noida","Pune"],n.selectedCard=l.getSelectedCard(),s(),o(),i.trackPageLoad(i.pageList.leadGenerationInput)};var s=function(){n.model={},n.errorMsg="";var o=r.getContactDetails();o&&(n.model.givenName=o.fullName,n.model.mobileNo=o.mobile,n.model.email=o.email),a.params.leadData?(n.model.givenName=a.params.leadData.fullName||o.fullName,n.model.mobileNo=a.params.leadData.mobileNumber||o.mobile,n.model.email=a.params.leadData.email||o.email,n.model.residenceCity=a.params.leadData.residenceCity,d=a.params.leadData.leadReason,1201==a.params.leadData.statusCode?n.errorMsg="Sorry! We are unable to progress further. You need to be in the age bracket of 18 to 65 years to apply for an HSBC Credit Card.":1015==a.params.leadData.statusCode?n.isStaffJourney?n.errorMsg="Sorry! You've exceeded the maximum number of attempts. Your HSBC representative will inform you of the next steps to complete the application.":n.errorMsg="Sorry! You've exceeded the maximum number of attempts. We are unable to progress further. Please provide your contact details. We will contact you within 2 working days to proceed with your Credit Card application.":1007==a.params.leadData.statusCode?n.isStaffJourney?n.errorMsg="Our records indicate that you are an existing customer of HSBC. The HSBC representative will inform you of the next steps to complete the application.":n.errorMsg="Our records indicate that you are an existing customer of HSBC. We will contact you within 2 working days to prioritize your Credit Card application.":1017==a.params.leadData.statusCode?n.errorMsg="Aadhaar address is insufficient.":1022==a.params.leadData.statusCode?n.isStaffJourney?n.errorMsg="Sorry! There seems to be some error in the details provided. We are unable to progress further. Your HSBC representative will inform you of the next steps to complete the application.":n.errorMsg="Sorry! There seems to be some error in the details provided. We are unable to progress further. Please provide your contact details. We will contact you within 2 working days to proceed with your Credit Card application.":1023==a.params.leadData.statusCode?n.isStaffJourney?n.errorMsg="Sorry! You've exceeded the maximum number of attempts. Your HSBC representative will inform you of the next steps to complete the application.":n.errorMsg="Sorry! You've exceeded the maximum number of attempts. We are unable to progress further. Please provide your contact details. We will contact you within 2 working days to proceed with your Credit Card application.":1018==a.params.leadData.statusCode?n.isStaffJourney?n.errorMsg="Sorry! Your mobile number is not registered with Aadhaar. We are unable to progress further. Your HSBC representative will inform you of the next steps to complete the application.":n.errorMsg="Sorry! Your mobile number is not registered with Aadhaar. We are unable to progress further. Please provide your contact details. We will contact you shortly to proceed with your Credit Card application.":n.isStaffJourney?n.errorMsg="Sorry! There seems to be a technical problem. Your HSBC representative will inform you of the next steps to complete the application.":n.errorMsg="Sorry! There seems to be a technical problem. We are unable to progress further. We will contact you within 2 working days to proceed with your Credit Card application."):e.showSelectedCard=!1};n.generateLead=function(e){if(e){var o=r.getContactDetails(),l={annualIncome:n.model.annualIncome,residenceCity:n.model.residenceCity,email:n.model.email,mobile:parseInt(n.model.mobileNo),fullName:n.model.givenName,leadGenerationReason:d,leadId:t.isEmpty(o)?null:o.leadId},s={robocheck:n.robocheck?n.robocheck:""};r.saveLead(l,s).then(function(e){e.success?a.go("app.lead-gen-ack",{ackData:{refNumber:e.leadReferenceNumber}}):a.go("app.journey.s1-cards")},function(e){}),i.buttonList.buttonClick.event_content="Apply now",i.trackUserAction(i.buttonList.buttonClick)}else n.model.submitted=!0,t.focusOnInvalid("leadForm")}}var r=o(/*! angular */"./node_modules/angular/index.js");o(/*! ./lead-generation.service */"./src/app/components/journey/lead-generation/lead-generation.service.js"),o(/*! ./lead-generation.component.scss */"./src/app/components/journey/lead-generation/lead-generation.component.scss");var i=r.module("journey.module").component("leadGeneration",{template:o(/*! ./lead-generation.component.html */"./src/app/components/journey/lead-generation/lead-generation.component.html"),controller:["$rootScope","$state","$anchorScroll","leadService","analyticService","UtilService","journeyService",a]});e.exports=i.name}()},"./src/app/components/journey/lead-generation/lead-generation.component.scss":/*!***********************************************************************************!*\
  !*** ./src/app/components/journey/lead-generation/lead-generation.component.scss ***!
  \***********************************************************************************/
function(e,a){},"./src/app/components/journey/lead-generation/lead-generation.service.js":/*!*******************************************************************************!*\
  !*** ./src/app/components/journey/lead-generation/lead-generation.service.js ***!
  \*******************************************************************************/
function(e,a){!function(){"use strict";var a=angular.module("journey.module").service("leadService",["$rootScope","$q","appState","$http","CONFIG",function(e,a,o,r,i){var t=this;t.saveLead=function(t,l){var n,d,s=a.defer();return e.integrationsActive?(d="POST",n=i.apiUrl+"/leadgeneration/save?hash_id="+Math.random(),t.urlParamId=o.getUrlParamId()):(d="GET",n="resources/data/mock/step2/lead_generation_save.json"),r({method:d,url:n,headers:{"Content-Type":"application/json"},data:JSON.stringify(t),params:l}).then(function(e){e&&200===e.status&&e.data?s.resolve(e.data):s.reject()},function(e){s.reject()}),s.promise},t.getContactDetails=o.getContactDetails}]);e.exports=a.name}()}});
//# sourceMappingURL=1405d57df7eef80ce0ee18.js.map