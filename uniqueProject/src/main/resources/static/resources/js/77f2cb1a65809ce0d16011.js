webpackJsonp([11],{"./src/app/components/journey/step10/add-on-ack/add-on-ack.modal.component.html":/*!**************************************************************************************!*\
  !*** ./src/app/components/journey/step10/add-on-ack/add-on-ack.modal.component.html ***!
  \**************************************************************************************/
function(e,o){e.exports="<div class=modal-header> <div class=heading-container> </div> <div class=close-button-container> <button type=button class=close aria-label=Close ng-click=$ctrl.cancel()> <span aria-hidden=true>×</span> </button> </div> </div> <div class=modal-body> <p> Thank you for your consent to issue an Add-on card. </p> <p class=no-margin-b> We will contact you within 2 working days to complete the Add-on card application process. </p> </div> <div class=modal-footer> <div class=buttons-container> <button class=button-primary ng-click=$ctrl.Close(true)>Ok</button> </div> </div>"},"./src/app/components/journey/step10/add-on-ack/add-on-ack.modal.component.js":/*!************************************************************************************!*\
  !*** ./src/app/components/journey/step10/add-on-ack/add-on-ack.modal.component.js ***!
  \************************************************************************************/
function(e,o,a){!function(){"use strict";var o=a(/*! angular */"./node_modules/angular/index.js"),r=function(e){var o=this;o.$onInit=function(){e.buttonList.popup.event_content="Add on Card Confirmation",e.trackUserAction(e.buttonList.popup)},o.Close=function(e){o.close({$value:e})},o.cancel=function(){o.dismiss({$value:"cancel"})}},t=o.module("journey.module").component("addOnAckModal",{template:a(/*! ./add-on-ack.modal.component.html */"./src/app/components/journey/step10/add-on-ack/add-on-ack.modal.component.html"),bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["analyticService",r]});e.exports=t.name}()},"./src/app/components/journey/step10/step10.component.html":/*!*****************************************************************!*\
  !*** ./src/app/components/journey/step10/step10.component.html ***!
  \*****************************************************************/
function(e,o){e.exports='<div class=row> <div class="col-md-12 col-sm-12 col-xs-12"> <form name=step10Form autocomplete=off novalidate> <input type=text class=hidden-field ng-model=$ctrl.robocheck tabindex=-1> <div class=row> <div class="col-md-12 col-sm-12 col-xs-12"> <div class="form-group customer-details"> <h1 class="brand-bar no-margin-top">Add-on Card</h1> </div> </div> <div class="col-md-12 col-sm-12 col-xs-12"> <p class=no-margin-b> You can apply for an add-on credit card for your spouse, your parents, siblings or your children above 18 years. The limit on this card will be part of the credit limit on your primary credit card. </p> </div> </div> <div class=row> <div class="col-md-5 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label for=cardHolderName class=form__label>Name of the Add on Applicant</label> <div ng-class="{\'has-error\': step10Form.cardHolderName.$invalid && ($ctrl.submitted || step10Form.cardHolderName.$touched)}"> <input type=text trim class=form-control alpha-space=50 id=cardHolderName name=cardHolderName aria-describedby=cardHolderNameErrMsg onkeypress="0===this.value.length&&32===event.charCode&&event.preventDefault()" ng-minlength=2 ng-model=$ctrl.model.cardHolderName aria-invalid="{{step10Form.cardHolderName.$invalid && ($ctrl.submitted || step10Form.cardHolderName.$touched)}}" required> </div> <div id=cardHolderNameErrMsg class="form-group col-md-12 col-sm-12 col-xs-12 remove-margin" ng-class="{\'has-error\': step10Form.cardHolderName.$invalid}"> <div class=row> <validation-msg ng-if="step10Form.cardHolderName.$error.required && (step10Form.cardHolderName.$touched || $ctrl.submitted)"> Please enter your name to continue with your application. </validation-msg> <validation-msg ng-if="step10Form.cardHolderName.$error.minlength && (step10Form.cardHolderName.$touched || $ctrl.submitted)"> Please enter minimum of 2 letters for the add-on cardholder </validation-msg> </div> </div> </div> </div> <div class="col-md-5 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label for=mobile>Add-on cardholder\'s mobile number</label> <div class=input-group ng-class="{\'has-error\': step10Form.mobile.$invalid && (step10Form.mobile.$touched || $ctrl.submitted)}"> <span class=input-group-addon id=countryCode aria-hidden=true tabindex=-1> <span class="flag in" style=background-image:url(resources/images/country-flags-sprite.png)></span> +91</span> <input trim type=tel id=mobile name=mobile class="form-control has-block" ng-model=$ctrl.model.mobile ng-cut=$event.preventDefault() ng-minlength=10 ng-pattern=/^[6-9]\\d{9}$/ only-number=10 aria-describedby="countryCode mobileErrMsg" aria-invalid="{{step10Form.mobile.$invalid && (step10Form.mobile.$touched || $ctrl.submitted)}}" required> </div> <div id=mobileErrMsg class="form-group remove-padding" ng-class="{\'has-error\': step10Form.mobile.$invalid}"> <validation-msg ng-if="step10Form.mobile.$error.required && (step10Form.mobile.$touched || $ctrl.submitted)"> Please enter your mobile number. </validation-msg> <validation-msg ng-if="step10Form.mobile.$error.minlength && (step10Form.mobile.$touched || $ctrl.submitted)"> Please enter at least 10 numbers. </validation-msg> <validation-msg ng-if="!step10Form.mobile.$error.minlength && step10Form.mobile.$error.pattern && (step10Form.mobile.$touched || $ctrl.submitted)"> Your mobile phone number must begin with 6, 7, 8 or 9. Please check and re-enter. </validation-msg> </div> </div> </div> </div> <div class=row> <div class="col-md-5 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label class=form__label for=relation>Relationship with primary cardholder</label> <div ng-class="{\'has-error\': step10Form.relation.$invalid && (step10Form.relation.$touched || $ctrl.submitted)}"> <custom-select> <select id=relation name=relation class=form-control ng-model=$ctrl.model.cardHolderRelationship ng-options="item for item in $ctrl.relationList" aria-describedby=relationErrMsg aria-invalid="{{step10Form.relation.$invalid && (step10Form.relation.$touched || $ctrl.submitted)}}" required> <option value="">Please select</option> </select> </custom-select> </div> <div id=relationErrMsg class="form-group remove-margin" ng-class="{\'has-error\': step10Form.relation.$invalid}"> <validation-msg ng-if="step10Form.relation.$error.required && (step10Form.relation.$touched || $ctrl.submitted)"> {{ $ctrl.errorMessages.selectRelation }} </validation-msg> </div> </div> </div> </div> <div class=row> <div class="col-md-9 col-sm-12 col-xs-12"> <div class="form-group line-spacer"> <p class=no-margin-b> I hereby agree, give consent and confirm that I have obtained consent from my family member for issuance of an add-on credit card. By submitting this request, I authorize HSBC to issue an add-on card on receipt of required KYC details. </p> </div> </div> </div> <step-footer show-back=true back-callback=$ctrl.goback() show-save=true save-callback=$ctrl.save() show-continue=true continue-button-id=continue-btn continue-disabled=false continue-callback=$ctrl.next(step10Form.$valid) continue-overlay="!($ctrl.model.hasVisitedBefore == \'Y\')"> </step-footer> </form> </div> </div>'},"./src/app/components/journey/step10/step10.component.js":/*!***************************************************************!*\
  !*** ./src/app/components/journey/step10/step10.component.js ***!
  \***************************************************************/
function(e,o,a){!function(){"use strict";var o=a(/*! angular */"./node_modules/angular/index.js");a(/*! ./step10.component.scss */"./src/app/components/journey/step10/step10.component.scss"),a(/*! ./step10.component.service.js */"./src/app/components/journey/step10/step10.component.service.js"),a(/*! ./add-on-ack/add-on-ack.modal.component.js */"./src/app/components/journey/step10/add-on-ack/add-on-ack.modal.component.js");var r=o.module("journey.module").component("step10",{template:a(/*! ./step10.component.html */"./src/app/components/journey/step10/step10.component.html"),controller:["$rootScope","$scope","$uibModal","$anchorScroll","$state","journeyService","step10Service","analyticService","UtilService",function(e,o,a,r,t,i,n,l,s){var d=this;d.$onInit=function(){e.$broadcast("hide-step-header",{hideHeader:!1}),e.showSelectedCard=!0,e.showARN=!0,e.dipARN=i.getApplicantInfo("dipDetails").dipArn,d.relationList=["Brother / Sister","Father / Mother","Son / Daughter","Spouse"],r(),e.stepsHeader.currentStep=4,d.selectedCard=i.getSelectedCard(),d.model={},d.model=n.getUserDetails(),d.model.dialCodeMobile="91",i.getErrorMessages().then(function(e){d.errorMessages=e.step10}),l.pageList.supplementryCard.internal_reference_id=i.getDataFromStorageContact().adobeId,l.trackPageLoad(l.pageList.supplementryCard)},d.goback=function(){o.step10Form.cardHolderName.$invalid&&(d.model.cardHolderName=o.step10Form.cardHolderName.$$rawModelValue),o.step10Form.mobile.$invalid&&(d.model.mobile=o.step10Form.mobile.$$rawModelValue),p(),d.model.balanceTransferTaken?t.go("app.journey.balance-transfer",{cardKey:d.selectedCard.key}):t.go("app.journey.card-DIP",{cardKey:d.selectedCard.key}),l.buttonList.buttonClick.event_content="back",l.trackUserAction(l.buttonList.buttonClick)};var c=function(e){var o={robocheck:d.robocheck?d.robocheck:""};n.sendSupplementaryData(e,o,!1).then(function(e){e.success&&(p(),i.isIncomeDocRequired()?t.go("app.journey.document",{cardKey:d.selectedCard.key}):t.go("app.journey.signature",{cardKey:d.selectedCard.key}))})};d.next=function(e){if(e){var o={cardHolderName:d.model.cardHolderName,cardHolderRelationship:d.model.cardHolderRelationship,dialCodeMobile:d.model.dialCodeMobile,mobile:d.model.mobile,hasVisitedBefore:d.model.hasVisitedBefore,supplementaryCardApplied:"Y"};if("Y"===d.model.hasVisitedBefore)c(o);else{d.model.hasVisitedBefore="Y";a.open({backdrop:"static",keyboard:!1,modalFade:!0,component:"addOnAckModal",windowClass:"card-detail-modal"}).result.then(function(e){o.hasVisitedBefore=d.model.hasVisitedBefore,c(o)})}}else d.submitted=!0,s.focusOnInvalid("step10Form");l.buttonList.buttonClick.event_content="continue",l.trackUserAction(l.buttonList.buttonClick)};var p=function(){var e={primaryApplicant:{supplementaryCard:{cardHolderName:d.model.cardHolderName,cardHolderRelationship:d.model.cardHolderRelationship,dialCodeMobile:d.model.dialCodeMobile,mobile:d.model.mobile,hasVisitedBefore:d.model.hasVisitedBefore}}};n.setDataInStorage(e)};d.save=function(){a.open({backdrop:"static",keyboard:!1,modalFade:!0,component:"overlaySaveConfirmation",windowClass:"card-detail-modal"}).result.then(function(e){if(e){var o={cardHolderName:d.model.cardHolderName,cardHolderRelationship:d.model.cardHolderRelationship,dialCodeMobile:d.model.dialCodeMobile,mobile:d.model.mobile,hasVisitedBefore:d.model.hasVisitedBefore,supplementaryCardApplied:"Y"},a={robocheck:d.robocheck?d.robocheck:""};n.sendSupplementaryData(o,a,!0).then(function(e){e.success&&(p(),t.go("app.save-exit",{saveData:{name:i.getApplicantInfo("fullName")},cardKey:d.selectedCard.key}))})}},function(){}),l.buttonList.buttonClick.event_content="save for later",l.trackUserAction(l.buttonList.buttonClick)}}]});e.exports=r.name}()},"./src/app/components/journey/step10/step10.component.scss":/*!*****************************************************************!*\
  !*** ./src/app/components/journey/step10/step10.component.scss ***!
  \*****************************************************************/
function(e,o){},"./src/app/components/journey/step10/step10.component.service.js":/*!***********************************************************************!*\
  !*** ./src/app/components/journey/step10/step10.component.service.js ***!
  \***********************************************************************/
function(e,o){!function(){"use strict";var o=angular.module("journey.module").service("step10Service",["$rootScope","$http","appState","CONFIG",function(e,o,a,r){var t=this;t.setDataInStorage=function(e,o){a.mergeApplicationData(e)},t.getDataFromStorage=function(){return a.getApplicationData()},t.sendSupplementaryData=function(t,i,n){var l,s;if(e.integrationsActive){s="POST";var d=a.getApplicationData().primaryApplicant.arn;l=r.apiUrl+"/applicantdetails/supplementarycard/save/"+d+"/"+n+"?hash_id="+Math.random()}else s="GET",l="resources/data/mock/step10_supplementary_save.json";return o({method:s,url:l,headers:{"Content-Type":"application/json"},data:JSON.stringify(t),params:i}).then(function(e){if(200===e.status&&e.data)return e.data;e&&e.validationErrors},function(e){})},t.getUserDetails=function(){var e={},o=a.getApplicationData();return o&&o.primaryApplicant&&(o.primaryApplicant.dipDetails&&(e.balanceTransferTaken="Y"===o.primaryApplicant.dipDetails.balanceTransferTaken),o.primaryApplicant.supplementaryCard&&(e.cardHolderName=o.primaryApplicant.supplementaryCard.cardHolderName?o.primaryApplicant.supplementaryCard.cardHolderName:null,e.cardHolderRelationship=o.primaryApplicant.supplementaryCard.cardHolderRelationship?o.primaryApplicant.supplementaryCard.cardHolderRelationship:null,e.dialCodeMobile=o.primaryApplicant.supplementaryCard.dialCodeMobile?o.primaryApplicant.supplementaryCard.dialCodeMobile:null,e.mobile=o.primaryApplicant.supplementaryCard.mobile?o.primaryApplicant.supplementaryCard.mobile:null,e.hasVisitedBefore=o.primaryApplicant.supplementaryCard.hasVisitedBefore?o.primaryApplicant.supplementaryCard.hasVisitedBefore:"N")),e}}]);e.exports=o.name}()}});
//# sourceMappingURL=77f2cb1a65809ce0d16011.js.map