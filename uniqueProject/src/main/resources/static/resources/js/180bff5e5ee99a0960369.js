webpackJsonp([9],{"./src/app/components/journey/card-DIP/cancel.modal/cancel.modal.component.html":/*!**************************************************************************************!*\
  !*** ./src/app/components/journey/card-DIP/cancel.modal/cancel.modal.component.html ***!
  \**************************************************************************************/
function(e,a){e.exports="<div class=modal-header> <div class=heading-container> </div> <div class=close-button-container> <button type=button class=close aria-label=Close ng-click=$ctrl.cancel()> <span aria-hidden=true>×</span> </button> </div> </div> <div class=modal-body> <p class=no-margin-b>You are exiting this application. The current application will not be saved and you will not be able to resume your application thereafter. Are you sure you want to cancel? </p> </div> <div class=modal-footer> <div class=buttons-container> <button class=button-outline ng-click=$ctrl.Close(false)>No</button><button class=button-primary ng-click=$ctrl.Close(true)>Yes</button> </div> </div>"},"./src/app/components/journey/card-DIP/cancel.modal/cancel.modal.component.js":/*!************************************************************************************!*\
  !*** ./src/app/components/journey/card-DIP/cancel.modal/cancel.modal.component.js ***!
  \************************************************************************************/
function(e,a,r){!function(){"use strict";var a=r(/*! angular */"./node_modules/angular/index.js");r(/*! ./cancel.modal.component.scss */"./src/app/components/journey/card-DIP/cancel.modal/cancel.modal.component.scss");var t=function(e,a,r,t){var i=this;i.$onInit=function(){t.buttonList.popup.event_content="Exit the application",t.trackUserAction(t.buttonList.popup)},i.Close=function(e){t.buttonList.buttonClick.event_content="yes",t.trackUserAction(t.buttonList.buttonClick),i.close({$value:e})},i.cancel=function(){t.buttonList.buttonClick.event_content="no",t.trackUserAction(t.buttonList.buttonClick),i.dismiss({$value:"cancel"})}},i=a.module("journey.module").component("cancel",{template:r(/*! ./cancel.modal.component.html */"./src/app/components/journey/card-DIP/cancel.modal/cancel.modal.component.html"),bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["$scope","$http","$state","analyticService",t]});e.exports=i.name}()},"./src/app/components/journey/card-DIP/cancel.modal/cancel.modal.component.scss":/*!**************************************************************************************!*\
  !*** ./src/app/components/journey/card-DIP/cancel.modal/cancel.modal.component.scss ***!
  \**************************************************************************************/
function(e,a){},"./src/app/components/journey/card-DIP/card-DIP.component.html":/*!*********************************************************************!*\
  !*** ./src/app/components/journey/card-DIP/card-DIP.component.html ***!
  \*********************************************************************/
function(e,a){e.exports='<form name=cardDIP autocomplete=off novalidate> <input type=text class=hidden-field ng-model=$ctrl.robocheck tabindex=-1> <div class=row> <div class="col-md-12 col-sm-12 col-xs-12"> <alert-msg ng-if=$ctrl.referredDip type=SUCCESS> <div ng-if=!$ctrl.isStaffJourney> Thank you for your interest in the HSBC Credit Card. <div>Your application is being reviewed.</div> <div>Kindly complete the below form so that your application can be submitted for further processing.</div> </div> <div ng-if=$ctrl.isStaffJourney> Thank you for your interest in the HSBC Credit Card. <div>Your application is being processed.</div> <div>Kindly complete the below form so that your application can be submitted for further processing.</div> </div> <div>Your Application Reference Number: {{ $ctrl.model.dipArn }}</div> <div ng-if=!$ctrl.isStaffJourney>Please complete your Video KYC after submitting the details . </div> </alert-msg> <alert-msg ng-if=$ctrl.maxHasPerfios type=SUCCESS> Congratulations. You are eligible for an HSBC Credit Card based on the information provided. <div> Kindly complete the below form so that your application can be submitted for further processing.</div> <div>Please ensure that all required documents and application submission formalities are completed within the next 20 days.</div> <div> You may contact <a target=_blank href=http://www.hsbc.co.in/1/2/miscellaneous/call-us class=new-tab-link aria-label="This link will open more information about collecting and using information in a new tab"> <span class=text>PhoneBanking</span> <span class="icon icon-new-window" aria-hidden=true role=presentation></span> </a> or visit the nearest HSBC branch for any queries. </div> <div>Your Application Reference Number: {{ $ctrl.model.dipArn }}</div> <div>Please complete your Video KYC after submitting the details.</div> </alert-msg> <alert-msg ng-if=$ctrl.maxNoPerfios type=SUCCESS> <div ng-if=!$ctrl.isStaffJourney> Congratulations. You are eligible for an HSBC Credit Card based on the information provided. <div>Kindly complete the below form so that your application can be submitted for further processing.</div> <div>Please complete your Video KYC after submitting the details . </div> <div>Please ensure that all required documents and application submission formalities are completed within the next 20 days to avail the above limit.</div> <div> You may contact <a target=_blank href=http://www.hsbc.co.in/1/2/miscellaneous/call-us class=new-tab-link aria-label="This link will open more information about collecting and using information in a new tab"> <span class=text>PhoneBanking</span> <span class="icon icon-new-window" aria-hidden=true role=presentation></span> </a> or visit the nearest HSBC branch for any queries. </div> <div>Your Application Reference Number: {{ $ctrl.model.dipArn }}</div> </div> <div ng-if=$ctrl.isStaffJourney> Congratulations. You are eligible for an HSBC Credit Card based on the information provided. <div> Your Application Reference Number: {{ $ctrl.model.dipArn }}</div> </div> </alert-msg> <alert-msg ng-if=$ctrl.minHasPerfios type=SUCCESS> Congratulations. You are eligible for an HSBC Credit Card based on the information provided. <div> Kindly complete the below form so that your application can be submitted for further processing.</div> <div>Please complete your Video KYC after submitting the details . </div> <div>Please ensure that all required documents and application submission formalities are completed within the next 20 days. </div> <div> You may contact <a target=_blank href=http://www.hsbc.co.in/1/2/miscellaneous/call-us class=new-tab-link aria-label="This link will open more information about collecting and using information in a new tab"> <span class=text>PhoneBanking</span> <span class="icon icon-new-window" aria-hidden=true role=presentation></span> </a> or visit the nearest HSBC branch for any queries. </div> <div>Your Application Reference Number: {{ $ctrl.model.dipArn }}</div> </alert-msg> <alert-msg ng-if=$ctrl.minNoPerfios type=SUCCESS> <div ng-if=!$ctrl.isStaffJourney> Congratulations. You are eligible for an HSBC Credit Card based on the information provided. <div>Kindly complete the below form so that your application can be submitted for further processing.</div> <div>Please complete your Video KYC after submitting the details . </div> <div>Please ensure that all required documents and application submission formalities are completed within the next 20 days. </div> <div> You may contact <a target=_blank href=http://www.hsbc.co.in/1/2/miscellaneous/call-us class=new-tab-link aria-label="This link will open more information about collecting and using information in a new tab"> <span class=text>PhoneBanking</span> <span class="icon icon-new-window" aria-hidden=true role=presentation></span> </a> or visit the nearest HSBC branch for any queries. </div> <div>Your Application Reference Number: {{ $ctrl.model.dipArn }}</div> </div> <div ng-if=$ctrl.isStaffJourney> Congratulations. You are eligible for an HSBC Credit Card based on the information provided. <div>Your Application Reference Number: {{ $ctrl.model.dipArn }}</div> </div> </alert-msg> <alert-msg ng-if=$ctrl.errMsg type=ERROR> {{$ctrl.errMsg}} </alert-msg> </div> </div> <p class=text-center>Few more details to complete your application</p> <div class=row> <div class="col-md-12 col-sm-12 col-xs-12"> <h1 class="brand-bar no-margin-top">Help us know you better</h1> </div> </div> <div class=row> <div class="col-md-12 col-sm-12 col-xs-12"> <label id=hasFormerNameLbl>Do you have any former/other names?</label> </div> <div class="col-md-4 col-sm-6 col-xs-12"> <div class=hsbc-radio-group role=group aria-labelledby=hasFormerNameLbl> <div class=hsbc-radio-inline> <input type=radio id=hasFormerYes name=hasFormerName ng-value="\'Y\'" ng-model=$ctrl.model.hasFormerName> <label for=hasFormerYes>Yes</label> </div> <div class=hsbc-radio-inline> <input type=radio id=hasFormerNo name=hasFormerName ng-value="\'N\'" ng-model=$ctrl.model.hasFormerName> <label for=hasFormerNo>No</label> </div> </div> </div> <div ng-if="$ctrl.model.hasFormerName === \'Y\'" class="col-md-12 col-sm-12 col-xs-12 horiz-line-container"> <div class=horiz-line-separator> <div class="side-line left-line" ng-class="{\'first-selected\': $ctrl.model.hasFormerName === \'Y\'}"> </div> <div class=triangle> </div> <div class="side-line right-line" ng-class="{\'first-selected\': $ctrl.model.hasFormerName === \'Y\'}"> </div> </div> </div> <div ng-if="$ctrl.model.hasFormerName === \'Y\'" class="col-md-4 col-sm-6 col-xs-12"> <label for=formerName class="form__label text-arr">Former/other name</label> <div ng-class="{\'has-error\': (cardDIP.formerName.$invalid && (cardDIP.formerName.$touched || $ctrl.submitted))}"> <input type=text id=formerName name=formerName class=form-control ng-model=$ctrl.model.formerName trim alpha-space=50 aria-describedby=formerNameErrMsg ng-minlength=2 ng-maxlength=50 ng-required=true aria-invalid="{{(cardDIP.formerName.$invalid && (cardDIP.formerName.$touched || $ctrl.submitted))}}"> </div> <div id=formerNameErrMsg ng-class="{\'has-error\': (cardDIP.formerName.$invalid)}"> <validation-msg ng-if="cardDIP.formerName.$error.required && (cardDIP.formerName.$touched || $ctrl.submitted)"> Please enter your former/other name to continue with your application. </validation-msg> <validation-msg ng-if="cardDIP.formerName.$error.minlength && (cardDIP.formerName.$touched || $ctrl.submitted)"> Please enter minimum of 2 letters for your name to continue with your application. </validation-msg> </div> </div> </div> <div class=row> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label id=birthCountryLbl for=birthCountry class=text-arr> Country of birth </label> <div ng-class="{\'has-error\': cardDIP.birthCountry.$invalid && (cardDIP.birthCountry.$touched || $ctrl.submitted)}"> <ui-select id=birthCountry input-id=birthCountry name=birthCountry aria-label="country of birth {{$select.selected.countryName}}" ng-model=$ctrl.model.birthCountry theme=bootstrap aria-invalid="{{(cardDIP.birthCountry.$invalid && (cardDIP.birthCountry.$touched || $ctrl.submitted))}}" ui-select-limit=30 required> <ui-select-match placeholder="Please select"> <div class="flag {{$select.selected.countryCode.toLocaleLowerCase()}}" style=background-image:url(resources/images/country-flags-sprite.png) ng-if="$select.selected.countryCode != -1"></div> {{$select.selected.countryName}} </ui-select-match> <ui-select-choices repeat="item in $ctrl.countries | filter: $select.search"> <div class="flag {{item.countryCode.toLocaleLowerCase()}}" style=background-image:url(resources/images/country-flags-sprite.png) ng-if="item.countryCode != -1"></div> <span ng-bind-html="item.countryName | highlight: $select.search"></span> </ui-select-choices> <ui-select-no-choice> We couldn\'t find any choices... </ui-select-no-choice> </ui-select> </div> <div id=birthCountryErrMsg ng-class="{\'has-error\': cardDIP.birthCountry.$invalid}"> <validation-msg ng-if="cardDIP.birthCountry.$error.required && (cardDIP.birthCountry.$touched || $ctrl.submitted)"> Please select your country of birth place to continue with your application. </validation-msg> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label for=motherName class="form__label text-arr">Mother\'s full name</label> <div ng-class="{\'has-error\': cardDIP.motherName.$invalid && (cardDIP.motherName.$touched || $ctrl.submitted)}"> <input type=text id=motherName name=motherName class=form-control ng-model=$ctrl.model.motherName trim alpha-space=33 aria-describedby=motherNameErrMsg ng-minlength=2 ng-maxlength=33 aria-invalid="{{cardDIP.motherName.$invalid && (cardDIP.motherName.$touched || $ctrl.submitted)}}" required> </div> <div id=motherNameErrMsg ng-class="{\'has-error\': cardDIP.motherName.$invalid}"> <validation-msg ng-if="cardDIP.motherName.$error.required && (cardDIP.motherName.$touched || $ctrl.submitted)"> Please enter your mother\'s maiden name to continue with your application. </validation-msg> <validation-msg ng-if="cardDIP.motherName.$error.maxlength && (cardDIP.motherName.$touched || $ctrl.submitted)"> Maximum of 33 characters (including spaces) allowed. </validation-msg> <validation-msg ng-if="cardDIP.motherName.$error.minlength && (cardDIP.motherName.$touched || $ctrl.submitted)"> Please enter atleast 2 characters of your mother\'s maiden name to continue with your application. </validation-msg> </div> </div> </div> </div> <div class=row> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label for=kycNumber class="form__label text-arr">CKYC number (Optional)</label> <div> <input type=text id=kycNumber name=kycNumber class=form-control trim alpha-num=20 aria-describedby=kycNumErrMsg ng-maxlength=20 ng-model=$ctrl.model.kyc> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label for=fatherName>Father\'s full name</label> <div ng-class="{\'has-error\': (cardDIP.fatherName.$invalid) &&  (cardDIP.fatherName.$touched || $ctrl.submitted)}"> <input type=text id=fatherName name=fatherName trim class=form-control ng-model=$ctrl.model.fatherName onkeypress="0===this.value.length&&32===event.charCode&&event.preventDefault()" alpha-space=50 ng-minlength=2 ng-maxlength=50 aria-describedby=fatherNameErrMsg aria-invalid="{{(cardDIP.fatherName.$invalid) &&  (cardDIP.fatherName.$touched || $ctrl.submitted)}}" required> </div> <div id=fatherNameErrMsg ng-class="{ \'has-error\' : cardDIP.fatherName.$invalid && ($ctrl.submitted || cardDIP.fatherName.$touched)}"> <validation-msg ng-if="cardDIP.fatherName.$error.required && ($ctrl.submitted || cardDIP.fatherName.$touched)"> Please enter your father\'s name to continue with your application </validation-msg> <validation-msg ng-if="cardDIP.fatherName.$error.pattern && ($ctrl.submitted || cardDIP.fatherName.$touched)"> Your father\'s name contains invalid character(s). Please check and re-enter. </validation-msg> <validation-msg ng-if="cardDIP.fatherName.$error.minlength && ($ctrl.submitted || cardDIP.fatherName.$touched)"> Please enter minimum of 2 letters for your father\'s name to continue with your application </validation-msg> <validation-msg ng-if="cardDIP.fatherName.$error.maxlength && ($ctrl.submitted || cardDIP.fatherName.$touched)"> Maximum of 50 characters (including spaces) allowed for your name. </validation-msg> </div> </div> </div> </div> <hr class="line-spacer no-margin-bottom"> <h2 class=brand-bar>Credit Card Usage</h2> <div class=row> <div class="col-md-4 col-sm-6 col-xs-12"> <div class=form-group> <label id=cardUsageLabel for=cardUsage>Choice of credit card usage</label> <div ng-class="{\'has-error\': cardDIP.cardUsage.$invalid && (cardDIP.cardUsage.$touched || $ctrl.submitted)}"> <custom-select> <select id=cardUsage name=cardUsage class=form-control ng-model=$ctrl.model.cardUsage ng-options="item for item in $ctrl.cardUsages" aria-describedby=cardUsageErrMsg aria-invalid="{{cardDIP.cardUsage.$invalid && (cardDIP.cardUsage.$touched || $ctrl.submitted)}}" required> <option value="">Please select</option> </select> </custom-select> </div> <div id=cardUsageErrMsg class="remove-margin remove-padding form-group" ng-class="{\'has-error\': cardDIP.cardUsage.$invalid}"> <validation-msg ng-if="cardDIP.cardUsage.$error.required && (cardDIP.cardUsage.$touched || $ctrl.submitted)"> Please select the usage of your credit card to continue with your application. </validation-msg> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer-xs"> <label id=reasonLbl for=cardReason>Reason for availing of credit card</label> <div ng-class="{\'has-error\': cardDIP.cardReason.$invalid && (cardDIP.cardReason.$touched || $ctrl.submitted)}"> <custom-select> <select id=cardReason name=cardReason class=form-control ng-model=$ctrl.model.cardReason ng-options="item for item in $ctrl.cardReasons" aria-describedby=cardReasonErrMsg aria-invalid="{{cardDIP.cardReason.$invalid && (cardDIP.cardReason.$touched || $ctrl.submitted)}}" required> <option value="">Please select</option> </select> </custom-select> </div> <div id=cardReasonErrMsg ng-class="{\'has-error\': cardDIP.cardReason.$invalid}"> <validation-msg ng-if="cardDIP.cardReason.$error.required && (cardDIP.cardReason.$touched || $ctrl.submitted)"> Please select reason for availing your credit card to continue with your application. </validation-msg> </div> </div> </div> <div class="col-md-4 col-sm-12 col-xs-12"> <div class=row> <div class="col-md-12 col-sm-6 col-xs-12"> <div class="form-group line-spacer-sm line-spacer-xs"> <label for=nameToAppear>Name to be printed on credit card</label> <div ng-class="{\'has-error\': cardDIP.nameToAppear.$invalid && ($ctrl.submitted || cardDIP.nameToAppear.$touched)}"> <input type=text trim class=form-control id=nameToAppear name=nameToAppear aria-describedby=nameToAppearErrMsg onkeypress="0===this.value.length&&32===event.charCode&&event.preventDefault()" ng-minlength=2 alpha-space=19 ng-maxlength=19 ng-model=$ctrl.model.nameOnCard aria-invalid="{{cardDIP.nameToAppear.$invalid && ($ctrl.submitted || cardDIP.nameToAppear.$touched)}}" required> </div> <div id=nameToAppearErrMsg ng-class="{\'has-error\': cardDIP.nameToAppear.$invalid && ($ctrl.submitted || cardDIP.nameToAppear.$touched)}"> <validation-msg ng-if="cardDIP.nameToAppear.$error.required && ($ctrl.submitted || cardDIP.nameToAppear.$touched)"> Please enter your card name to continue with your application. </validation-msg> <validation-msg ng-if="cardDIP.nameToAppear.$error.pattern && ($ctrl.submitted || cardDIP.nameToAppear.$touched)"> Your name contains invalid character(s). Please check and re-enter. </validation-msg> <validation-msg ng-if="cardDIP.nameToAppear.$error.minlength && ($ctrl.submitted || cardDIP.nameToAppear.$touched)"> Please enter minimum of 2 letters for name to appear on the card. </validation-msg> <validation-msg ng-if="cardDIP.nameToAppear.$error.maxlength && ($ctrl.submitted || cardDIP.nameToAppear.$touched)"> Maximum of 19 characters (including spaces) allowed for your name. </validation-msg> </div> </div> </div> </div> </div> </div> <hr class="line-spacer no-margin-bottom"> <h2 class=brand-bar>Bank account details</h2> <div class=row> <div class="col-md-4 col-sm-6 col-xs-12"> <div class=form-group> <label id=bankLabel for=bank>Primary/main bank </label> <div ng-class="{\'has-error\': cardDIP.bank.$invalid && (cardDIP.bank.$touched || $ctrl.submitted)}"> <custom-select> <select id=bank name=bank class=form-control ng-model=$ctrl.model.accountDetails.primaryBank ng-options="item for item in $ctrl.bankList" aria-describedby=mainBankErrMsg aria-invalid="{{cardDIP.bank.$invalid && (cardDIP.bank.$touched || $ctrl.submitted)}}" ng-disabled=$ctrl.disableBank required> <option value="">Please select</option> </select> </custom-select> </div> <div id=mainBankErrMsg ng-class="{\'has-error\': cardDIP.bank.$invalid && (cardDIP.bank.$touched || $ctrl.submitted)}"> <validation-msg ng-if="cardDIP.bank.$error.required && (cardDIP.bank.$touched || $ctrl.submitted)"> Please select a bank to continue with your application. </validation-msg> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer-xs"> <label for=branchLocation>Branch location </label> <div ng-class="{\'has-error\': cardDIP.branch.$invalid && ($ctrl.submitted || cardDIP.branch.$touched)}"> <input trim type=text id=branchLocation name=branch aria-describedby=branchLocationErrMsg class=form-control alpha-num-space=17 onkeypress="0===this.value.length&&32===event.charCode&&event.preventDefault()" ng-maxlength=17 ng-model=$ctrl.model.accountDetails.branchLocation aria-invalid="{{cardDIP.branch.$invalid && ($ctrl.submitted || cardDIP.branch.$touched)}}" required> </div> <div id=branchLocationErrMsg ng-class="{\'has-error\': (cardDIP.branch.$invalid)}"> <validation-msg ng-if="(cardDIP.branch.$error.required && cardDIP.branch.$touched) ||(cardDIP.branch.$error.required && $ctrl.submitted)"> Please enter your branch location to continue with your application. </validation-msg> <validation-msg ng-if="cardDIP.branch.$error.maxlength && !cardDIP.branch.$error.pattern"> Maximum of 17 characters (including spaces) allowed. </validation-msg> <validation-msg ng-if=cardDIP.branch.$error.pattern> Please enter your branch location using letters and spaces only, and no special characters. </validation-msg> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12" ng-if=$ctrl.isStaffJourney> <div class="form-group line-spacer"> <input type=checkbox id=consentChk name=consentChk class=screen-reader-only ng-model=$ctrl.model.accountDetails.accountNumberConsent ng-focus="$ctrl.chkFocus = true;" ng-blur="$ctrl.chkFocus = false;"> <label for=consentChk class=checkbox-label ng-class="{\'focus\': $ctrl.chkFocus}"> Email approval attached </label> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12"> <div class=row> <div class="col-md-12 col-sm-12 col-xs-12"> <div class="form-group line-spacer-sm line-spacer-xs"> <label id=accountNumberLabel>Account number</label> <div ng-class="{\'has-error\': cardDIP.accountNumber.$invalid && ($ctrl.submitted || cardDIP.accountNumber.$touched)}"> <input type=text name=accountNumber aria-labelledby=accountNumberLabel aria-describedby=acNumErrMsg class=form-control auto-caps alpha-num=18 onkeypress="0===this.value.length&&32===event.charCode&&event.preventDefault()" ng-maxlength=18 ng-minlength=9 ng-model=$ctrl.model.accountDetails.accountNumber aria-invalid="{{cardDIP.accountNumber.$invalid && ($ctrl.submitted || cardDIP.accountNumber.$touched)}}" ng-required=!$ctrl.model.accountDetails.accountNumberConsent> </div> <div id=acNumErrMsg ng-class="{\'has-error\': cardDIP.accountNumber.$invalid}"> <validation-msg ng-if="cardDIP.accountNumber.$error.required && (cardDIP.accountNumber.$touched || $ctrl.submitted)"> Please enter your account number to continue with your application. </validation-msg> <validation-msg ng-if="cardDIP.accountNumber.$error.minlength && (cardDIP.accountNumber.$touched || $ctrl.submitted)"> Please make sure the account number contains atleast 9 digits. </validation-msg> </div> </div> </div> </div> </div> </div> <hr class="line-spacer no-margin-bottom"> <div class=row> <div class="col-md-12 col-sm-12 col-xs-12"> <h2 class=brand-bar>Electronic Statements</h2> </div> <div class="col-md-12 col-sm-12 col-xs-12"> <label id=eStatementLbl> Do you want to receive electronic statements? <br> <small> Your Credit Card statement will be sent to the email address provided in this application and you will not receive a printed copy of the same. </small> <br> <small> <b>Note:</b> If you wish to receive a printed copy of your credit card statement, please contact <a target=_blank href=http://www.hsbc.co.in/1/2/miscellaneous/call-us class=new-tab-link aria-label="This link will open more information about collecting and using information in a new tab"> <span class=text>PhoneBanking</span> <span class="icon icon-new-window" aria-hidden=true role=presentation></span> </a> </small> </label> </div> <div class="col-md-4 col-sm-6 col-xs-12"> <div class=hsbc-radio-group role=group aria-labelledby=eStatementLbl> <div class=hsbc-radio-inline> <input type=radio id=eStmtYes name=eStatement ng-value="\'Y\'" ng-model=$ctrl.model.eStatementApplied ng-change=$ctrl.toggleEStatements()> <label for=eStmtYes>Yes</label> </div> <div class=hsbc-radio-inline> <input type=radio id=eStmtNo name=eStatement ng-value="\'N\'" ng-model=$ctrl.model.eStatementApplied ng-change=$ctrl.toggleEStatements()> <label for=eStmtNo>No</label> </div> </div> </div> </div> <div class=row> <div class="col-md-12 col-sm-12 col-xs-12"> <hr class="line-spacer no-margin-bottom"> </div> </div> <div class=row> <div class="col-md-12 col-sm-12 col-xs-12"> <h2 class=brand-bar>Correspondence Address</h2> </div> <div class="col-md-4 col-sm-6 col-xs-12"> <div class=form-group> <div> <label id=corspAddTypeLbl for=addressTypesForEstatements class="form__label text-arr">Preferred address for correspondence</label> </div> <div ng-class="{\'has-error\': cardDIP.addressTypesForEstatements.$invalid && (cardDIP.addressTypesForEstatements.$touched || $ctrl.submitted)}"> <custom-select> <select id=addressTypesForEstatements name=addressTypesForEstatements class=form-control ng-model=$ctrl.model.correspondenceAddress ng-options="item for item in $ctrl.addressTypesForEstatements" aria-describedby=addressTypesForEstatementsErrMsg aria-invalid="{{cardDIP.addressTypesForEstatements.$invalid && (cardDIP.addressTypesForEstatements.$touched || $ctrl.submitted)}}" required> <option value="">Please select</option> </select> </custom-select> </div> <div id=addressTypesForEstatementsErrMsg ng-class="{\'has-error\': cardDIP.addressTypesForEstatements.$invalid}"> <validation-msg ng-if="cardDIP.addressTypesForEstatements.$error.required && (cardDIP.addressTypesForEstatements.$touched || $ctrl.submitted)"> Please select your preferred address for correspondence to continue with your application. </validation-msg> </div> </div> </div> </div> <hr class="line-spacer no-margin-bottom"> <hr ng-if="$ctrl.model.addressOptions==\'Current\'" class="line-spacer no-margin-bottom"> <h2 class=brand-bar>My existing relationships</h2> <div class=form-group> <div class=row> <div class="col-md-12 col-sm-12 col-xs-12"> <label id=haveRelationLbl>Do you have a near relation to any employee of the Bank or any directors of any HSBC Group Companies?</label> </div> <div class="col-md-4 col-sm-6 col-xs-12"> <div class=hsbc-radio-group role=group aria-labelledby=haveRelationLbl> <div class=hsbc-radio-inline> <input type=radio id=yes name=existingRelation ng-value="\'Y\'" ng-model=$ctrl.model.existingRelation ng-change=$ctrl.toggleExistingRelation()> <label for=yes>Yes</label> </div> <div class=hsbc-radio-inline> <input type=radio id=no name=existingRelation ng-value="\'N\'" ng-model=$ctrl.model.existingRelation ng-change=$ctrl.toggleExistingRelation()> <label for=no>No</label> </div> </div> </div> </div> </div> <div ng-if="$ctrl.model.existingRelation===\'Y\'" class="row remove-padding horiz-line-container"> <div class=horiz-line-separator> <div class="side-line left-line" ng-class="{\'first-selected\': $ctrl.model.existingRelation===\'Y\'}"> </div> <div class=triangle> </div> <div class="side-line right-line" ng-class="{\'first-selected\': $ctrl.model.existingRelation===\'Y\'}"> </div> </div> </div> <div class=row ng-if="$ctrl.model.existingRelation===\'Y\'"> <div class="col-md-4 col-sm-12 col-xs-12"> <div class=form-group> <label for=bankRelation>Relationship type </label> <div ng-class="{\'has-error\': cardDIP.relationType.$invalid && ($ctrl.submitted || cardDIP.relationType.$touched)}"> <input trim type=text alpha-space=33 name=relationType id=bankRelation aria-describedby=bankRelationErrMsgF class=form-control aria-invalid="{{cardDIP.relationType.$invalid && ($ctrl.submitted || cardDIP.relationType.$touched)}}" ng-maxlength=33 ng-model=$ctrl.model.existingRelationShipDetails.relationType required> </div> <div id=bankRelationErrMsg ng-class="{\'has-error\': cardDIP.relationType.$invalid}"> <validation-msg ng-if="cardDIP.relationType.$error.required && (cardDIP.relationType.$touched || $ctrl.submitted)"> Please enter your relationship type to continue with your application. </validation-msg> <validation-msg ng-if=cardDIP.relationType.$error.maxlength> Maximum of 33 characters (including spaces) allowed. </validation-msg> </div> </div> </div> <div class="col-md-8 col-sm-12 col-xs-12"> <div class="form-group line-spacer-sm line-spacer-xs"> <div class=row> <div class="col-md-12 col-sm-12 col-xs-12"> <label for=relationWith>Director/employee name with whom relationship exist</label> </div> <div class="col-md-6 col-sm-12 col-xs-12"> <div ng-class="{\'has-error\': cardDIP.relationWith.$invalid && ($ctrl.submitted || cardDIP.relationWith.$touched)}"> <input trim type=text name=relationWith id=relationWith aria-describedby=relationWithErrMsg alpha-space=33 class=form-control aria-invalid="{{cardDIP.relationWith.$invalid && ($ctrl.submitted || cardDIP.relationWith.$touched)}}" onkeypress="0===this.value.length&&32===event.charCode&&event.preventDefault()" ng-maxlength=33 ng-model=$ctrl.model.existingRelationShipDetails.staffName required> </div> <div id=relationWithErrMsg ng-class="{\'has-error\': (cardDIP.relationWith.$invalid)}"> <validation-msg ng-if="cardDIP.relationWith.$error.required && (cardDIP.relationWith.$touched || $ctrl.submitted)"> Please enter the director/employee name to continue with your application. </validation-msg> <validation-msg ng-if=cardDIP.relationWith.$error.maxlength> Maximum of 33 characters (including spaces) allowed </validation-msg> </div> </div> </div> </div> </div> <div class="col-md-12 col-sm-12 col-xs-12"> <div class=row> <div class="col-md-4 col-sm-12 col-xs-12"> <div class="form-group line-spacer"> <label for=staffID>Staff ID</label> <div ng-class="{\'has-error\': cardDIP.staffID.$invalid && (cardDIP.staffID.$touched || $ctrl.submitted)}"> <input trim type=tel id=staffID name=staffID aria-describedby=staffIdErrMsg class=form-control ng-model=$ctrl.model.existingRelationShipDetails.staffId aria-invalid="{{cardDIP.staffID.$invalid && (cardDIP.staffID.$touched || $ctrl.submitted)}}" ng-maxlength=8 only-number=8 maxlength=8 minlength=8 required> </div> <div id=staffIdErrMsg ng-class="{\'has-error\': cardDIP.staffID.$invalid}"> <validation-msg ng-if="cardDIP.staffID.$error.required && (cardDIP.staffID.$touched || $ctrl.submitted)"> Please enter the staff ID to continue with your application. </validation-msg> <validation-msg ng-if=cardDIP.staffID.$error.minlength> Please enter the 8 Digit Staff ID. </validation-msg> </div> </div> </div> </div> </div> </div> <div id=additional-features ng-if=!$ctrl.isStaffJourney> <hr class="line-spacer no-margin-bottom"> <h2 class=brand-bar>Select additional feature</h2> <div class=row> <div class="col-md-12 col-sm-12 col-xs-12"> <div class=form-group> <div> <input type=checkbox id=balTransChk name=balTransChk class=screen-reader-only ng-model=$ctrl.model.balanceTransferTaken ng-change=$ctrl.toggleBalanceTransfer() ng-focus="$ctrl.hasBalTransFocus = true;" ng-blur="$ctrl.hasBalTransFocus = false;"> <label for=balTransChk class=checkbox-label ng-class="{\'focus\': $ctrl.hasBalTransFocus}">Would you like to take up a balance transfer facility?</label> </div> <div> <input type=checkbox id=addSuppChk name=addSuppChk class=screen-reader-only ng-model=$ctrl.model.supplementaryCardApplied ng-change=$ctrl.toggleSupplementoryCard() ng-focus="$ctrl.hasAddSuppFocus = true;" ng-blur="$ctrl.hasAddSuppFocus = false;"> <label for=addSuppChk class=checkbox-label ng-class="{\'focus\': $ctrl.hasAddSuppFocus}">Do you want to apply for a add-on card?</label> </div> </div> </div> </div> </div> <div ng-if=false class="form-group line-spacer"> <div class=row> <div class="col-md-12 col-sm-12 col-xs-12"> <label id=haveRelationLbl>Do you have another bank card?</label> </div> <div class="col-md-4 col-sm-6 col-xs-12"> <div class=hsbc-radio-group role=group aria-labelledby=haveRelationLbl> <div class=hsbc-radio-inline> <input type=radio id=hocYes name=haveOtherCard ng-value="\'Y\'" ng-model=$ctrl.model.hasOtherBankCardDetails> <label for=hocYes>Yes</label> </div> <div class=hsbc-radio-inline> <input type=radio id=hocNo name=haveOtherCard ng-value="\'N\'" ng-model=$ctrl.model.hasOtherBankCardDetails> <label for=hocNo>No</label> </div> </div> </div> </div> </div> <div ng-if="$ctrl.isStaffJourney && $ctrl.model.hasOtherBankCardDetails===\'Y\'" class="row remove-padding horiz-line-container"> <div class=horiz-line-separator> <div class="side-line left-line" ng-class="{\'first-selected\': $ctrl.model.hasOtherBankCardDetails===\'Y\'}"> </div> <div class=triangle> </div> <div class="side-line right-line" ng-class="{\'first-selected\': $ctrl.model.hasOtherBankCardDetails===\'Y\'}"> </div> </div> </div> <div ng-if="$ctrl.isStaffJourney && $ctrl.model.hasOtherBankCardDetails===\'Y\'" class=row> <div class="col-md-4 col-sm-6 col-xs-12"> <div class=form-group> <label id=bankNameLbl for=otherCardBank>Issuer Name</label> <div ng-class="{\'has-error\': cardDIP.otherCardBank.$invalid && (cardDIP.otherCardBank.$touched || $ctrl.submitted)}"> <custom-select> <select id=otherCardBank name=otherCardBank class=form-control ng-model=$ctrl.model.bank ng-options="item for item in $ctrl.bankList" aria-describedby=otherCardBankErrMsg aria-invalid="{{cardDIP.otherCardBank.$invalid && (cardDIP.otherCardBank.$touched || $ctrl.submitted)}}" required> <option value="">Please select</option> </select> </custom-select> </div> <div id=otherCardBankErrMsg class="form-group remove-margin" ng-class="{\'has-error\': cardDIP.otherCardBank.$invalid}"> <validation-msg ng-if="cardDIP.otherCardBank.$error.required && (cardDIP.otherCardBank.$touched || $ctrl.submitted)"> Please select a bank to continue with your application.</validation-msg> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer-xs"> <label for=cardNumber>Card number</label> <div ng-class="{ \'has-error\' : cardDIP.cardNumber.$invalid  && ($ctrl.submitted || cardDIP.cardNumber.$touched)}"> <input type=tel id=cardNumber name=cardNumber aria-describedby=cardNumErrMsg trim class=form-control only-number=16 onkeypress="0===this.value.length&&32===event.charCode&&event.preventDefault()" ng-maxlength=16 maxlength=16 minlength=13 ng-minlength=13 ng-model=$ctrl.model.cardNumber aria-invalid="{{cardDIP.cardNumber.$invalid  && ($ctrl.submitted || cardDIP.cardNumber.$touched)}}" required> </div> <div id=cardNumErrMsg class="form-group col-md-12 col-sm-12 col-xs-12 remove-margin" ng-class="{\'has-error\' : (cardDIP.cardNumber.$invalid && ($ctrl.submitted || cardDIP.cardNumber.$touched))}"> <div class=row> <validation-msg ng-if="(cardDIP.cardNumber.$error.required && cardDIP.cardNumber.$touched) || (cardDIP.cardNumber.$error.required && $ctrl.submitted)"> Please enter your card number to continue with your application. </validation-msg> <validation-msg ng-if="cardDIP.cardNumber.$error.maxlength && !cardDIP.cardNumber.$error.pattern && ($ctrl.submitted || cardDIP.cardNumber.$touched)"> Maximum of 16 digits allowed for your card number.</validation-msg> <validation-msg ng-if="cardDIP.cardNumber.$error.minlength && !cardDIP.cardNumber.$error.pattern && ($ctrl.submitted || cardDIP.cardNumber.$touched)"> Please enter a minimum of 13 digits. </validation-msg> <validation-msg ng-if="cardDIP.cardNumber.$error.pattern && ($ctrl.submitted || cardDIP.cardNumber.$touched)"> Your card number contains invalid digits.Please check and Renter. </validation-msg> </div> </div> </div> </div> </div> <div ng-if="$ctrl.isStaffJourney && $ctrl.model.hasOtherBankCardDetails===\'Y\'" class=row> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <div class=row> <div class="col-md-12 col-sm-12 col-xs-12"> <label id=cardExpiryLabel>Issued from date (mm/yyyy)</label> </div> <div class="col-md-12 col-sm-12 col-xs-12"> <div class="col-md-6 col-sm-6 col-xs-6 remove-padding"> <div ng-class="{\'has-error\': cardDIP.month.$invalid && (cardDIP.month.$touched || $ctrl.submitted)}"> <input type=tel trim name=month aria-label="Card issue (MM)" aria-describedby=otherCardIssueErrMsg ng-model=$ctrl.model.issueMonth class="form-control text-center" ng-keyup=$ctrl.issueDateChange() ng-blur=$ctrl.issueDateChange(true) onkeypress="0===this.value.length&&32===event.charCode&&event.preventDefault()" ng-maxlength=2 only-number=2 maxlength=2 max=12 min=1 placeholder=MM aria-invalid="{{cardDIP.month.$invalid && (cardDIP.month.$touched || $ctrl.submitted)}}" required> </div> </div> <div class="col-md-6 col-sm-6 col-xs-6 remove-padding"> <div ng-class="{\'has-error\': cardDIP.year.$invalid && (cardDIP.year.$touched || $ctrl.submitted)}"> <input type=tel trim name=year aria-label="Card issue (YYYY)" aria-describedby=otherCardIssueErrMsg ng-model=$ctrl.model.issueYear class="form-control text-center" ng-keyup=$ctrl.issueDateChange() ng-blur=$ctrl.issueDateChange(true) onkeypress="0===this.value.length&&32===event.charCode&&event.preventDefault()" ng-maxlength=4 ng-minlength=4 only-number=4 maxlength=4 placeholder=YYYY aria-invalid="{{cardDIP.year.$invalid && (cardDIP.year.$touched || $ctrl.submitted)}}" required> </div> </div> </div> </div> <div> <div id=otherCardIssueErrMsg class="col-md-12 col-sm-12 col-xs-12 remove-margin" ng-class="{\'has-error\': cardDIP.year.$invalid || cardDIP.month.$invalid}"> <div class=row> <validation-msg ng-if="(cardDIP.month.$error.required && (cardDIP.month.$touched || $ctrl.submitted)) || (cardDIP.year.$error.required && cardDIP.month.$valid && (cardDIP.year.$touched || $ctrl.submitted))"> Please enter your other bank\'s card issue date to continue with your application. </validation-msg> <validation-msg ng-if="cardDIP.year.$error.minlength && (cardDIP.year.$touched || $ctrl.submitted) && cardDIP.month.$valid"> Years of other bank\'s card issue date should contain exactly 4 digits. </validation-msg> <validation-msg ng-if="cardDIP.month.$error.min && !cardDIP.month.$error.required"> Month of other bank\'s card issue date cannot be lesser than 1. </validation-msg> <validation-msg ng-if="cardDIP.year.$error.max && cardDIP.month.$valid"> Year of other bank\'s card issue date cannot be greater than current year. </validation-msg> <validation-msg ng-if="cardDIP.year.$error.invalid && !cardDIP.year.$error.required && cardDIP.month.$valid && (cardDIP.year.$touched || $ctrl.submitted)"> Please enter a valid year of card issue to continue with your application. </validation-msg> <validation-msg ng-if="cardDIP.month.$error.max && !cardDIP.month.$error.required"> Month of other bank\'s card expiry date cannot be greater than 12. </validation-msg> </div> </div> </div> </div> </div> <div class="col-md-4 col-sm-6 col-xs-12"> <div class="form-group line-spacer"> <label for=amount>Credit limit</label> <div ng-class="{\'has-error\': cardDIP.amount.$invalid && (cardDIP.amount.$touched || $ctrl.submitted)}"> <input type=tel trim id=amount name=amount aria-describedby=trasAmtErrMsg class=form-control only-number=8 onkeypress="0!==this.value.length||32!==event.charCode&&48!==event.charCode||event.preventDefault()" ng-keyup=$ctrl.validateOtherCardLimit() ng-blur=$ctrl.validateOtherCardLimit() ng-model=$ctrl.model.amount aria-invalid="{{cardDIP.amount.$invalid && (cardDIP.amount.$touched || $ctrl.submitted)}}" required> </div> <div id=trasAmtErrMsg class="form-group col-md-12 remove-margin" ng-class="{\'has-error\': cardDIP.amount.$invalid}"> <validation-msg ng-if="cardDIP.amount.$error.required && (cardDIP.amount.$touched || $ctrl.submitted)"> Please enter the amount to be transferred to continue with your application. </validation-msg> </div> </div> </div> </div> <step-footer show-cancel=false cancel-callback=$ctrl.cancel() show-save=true save-callback=$ctrl.save() show-continue=true continue-button-id=continue-btn continue-disabled=false continue-callback=$ctrl.next()> </step-footer> </form>'},"./src/app/components/journey/card-DIP/card-DIP.component.js":/*!*******************************************************************!*\
  !*** ./src/app/components/journey/card-DIP/card-DIP.component.js ***!
  \*******************************************************************/
function(e,a,r){!function(){"use strict";function a(e,a,r,i,n,s,o,d,l,c){var m=this;m.state=a;m.$onInit=function(){s.$broadcast("trigger-verification-loader",{showLoader:!1,showCard:!0,loaderType:"DIP"}),s.showARN=!0,m.isStaffJourney=o.isStaffJourney(),m.selectedCard=o.getSelectedCard(),m.showLoader=!1,m.initDefaults(),m.referredDip?(l.pageList.dipReferred.internal_reference_id=o.getDataFromStorageContact().adobeId,l.trackPageLoad(l.pageList.dipReferred)):(l.pageList.dip.internal_reference_id=o.getDataFromStorageContact().adobeId,l.trackPageLoad(l.pageList.dip)),n()},m.initDefaults=function(){s.showSelectedCard=!0,s.showARN=!1,s.dipARN=null,s.stepsHeader.currentStep=4,m.addressTypes=["Residential","Residential cum business"],m.addressTypesForEstatements=["Residential Address","Permanent Address","Office Address"],m.cardUsages=["Domestic usage only","Domestic and international usage"],m.cardReasons=["Cash back benefits","Lifestyle","Personal use","Reward points"],m.model={},m.model=d.getUserDetails(),m.model.cardUsage=m.model.cardUsage||m.cardUsages[0],m.model.cardReason=m.model.cardReason||m.cardReasons[2],m.model.correspondenceAddress=m.model.correspondenceAddress?m.model.correspondenceAddress:m.addressTypesForEstatements[0],m.maritalStatus=d.getMaritalStatus(),m.isStaffJourney=o.isStaffJourney(),m.referredDip=5e3==m.model.status,m.maxHasPerfios=5002==m.model.status,m.maxNoPerfios=5003==m.model.status,m.minHasPerfios=5004==m.model.status,m.minNoPerfios=5005==m.model.status,o.getCountries().then(function(e){if(m.countries=e,m.model.birthCountry=m.model.birthCountry?i("filter")(m.countries,{countryName:m.model.birthCountry})[0]:m.countries[0],m.model.dipArn&&(s.dipARN=m.model.dipArn),null!=m.model.permanentAddress?m.model.permanentAddress.country=m.model.permanentAddress.country?i("filter")(m.countries,{countryName:m.model.permanentAddress.country})[0]:m.countries[0]:(m.model.permanentAddress={},m.model.permanentAddress.country=m.countries[0]),null!=m.model.permanentAddress&&"India"==m.model.permanentAddress.country.countryName){var a={country:m.model.permanentAddress.country,currentFlatNumber:m.model.permanentAddress.address1,currentRoadNumber:m.model.permanentAddress.address2,area:m.model.permanentAddress.address3,currentPostalCode:m.model.permanentAddress.pinCode,cityDetails:m.model.permanentAddress.city,districtDetails:m.model.permanentAddress.district,stateDetails:m.model.permanentAddress.state,addressType:m.model.permanentAddress.addressType};m.model.permanentAddress=a}}),o.getBanks().then(function(e){m.bankList=e})},m.toggleIsPermAddressSame=function(){m.submitted=!1,"N"===m.model.permanentAddressSame?(m.model.permanentAddress.addressType=m.model.permanentAddress.addressType||m.addressTypes[0],l.buttonList.toggleClick.event_content="no",l.trackUserAction(l.buttonList.toggleClick)):(u(),l.buttonList.toggleClick.event_content="yes",l.trackUserAction(l.buttonList.toggleClick))},m.toggleExistingRelation=function(){m.submitted=!1};var u=function(){m.model.permanentAddress.addressType="",m.model.permanentAddress.country=m.model.countries[0],m.model.permanentAddress.address1="",m.model.permanentAddress.address2="",m.model.permanentAddress.address3="",m.model.permanentAddress.pinCode="",m.model.permanentAddress.city="",m.model.permanentAddress.district="",m.model.permanentAddress.state=""};m.toggleEStatements=function(){m.submitted=!1,"N"==m.model.eStatementApplied?(l.buttonList.toggleClick.event_content="no",l.trackUserAction(l.buttonList.toggleClick)):(l.buttonList.toggleClick.event_content="yes",l.trackUserAction(l.buttonList.toggleClick)),m.model.correspondenceAddress=m.addressTypesForEstatements[0]},m.getAddressByPinCode=function(a){e.cardDIP.currentPostalCode.$setValidity("invalid",!0);var r=m.model.permanentAddress.currentPostalCode;6===a.target.value.length?o.getAddressByPostalCode(r,".masked-container").then(function(a){m.model.permanentAddress.cityDetails=a.city,m.model.permanentAddress.districtDetails=a.district,m.model.permanentAddress.stateDetails=a.state,m.distEmpty=c.isEmpty(a.district),(c.isEmpty(a)||c.isEmpty(a.state)||c.isEmpty(a.city))&&e.cardDIP.currentPostalCode.$setValidity("invalid",!1)}):(m.model.permanentAddress.cityDetails=null,m.model.permanentAddress.districtDetails=null,m.model.permanentAddress.stateDetails=null)},m.toggleBalanceTransfer=function(){m.model.balanceTransferTaken?(l.buttonList.toggleClick.event_content="Would you like to take up a balance transfer facility?: Enabled",l.trackUserAction(l.buttonList.toggleClick)):(l.buttonList.toggleClick.event_content="Would you like to take up a balance transfer facility?: Disabled",l.trackUserAction(l.buttonList.toggleClick))},m.toggleSupplementoryCard=function(){m.model.supplementaryCardApplied?(l.buttonList.toggleClick.event_content="Do you want to apply for a add-on card?: Enabled",l.trackUserAction(l.buttonList.toggleClick)):(l.buttonList.toggleClick.event_content="Do you want to apply for a add-on card?: Disabled",l.trackUserAction(l.buttonList.toggleClick))},m.next=function(){!c.isEmpty(m.model.permanentAddress.currentPostalCode)&&6===m.model.permanentAddress.currentPostalCode&&c.isEmpty(m.model.permanentAddress.cityDetails)&&c.isEmpty(m.model.permanentAddress.stateDetails)?o.getAddressByPostalCode(m.model.permanentAddress.currentPostalCode,".masked-container").then(function(a){(c.isEmpty(a)||c.isEmpty(a.state)||c.isEmpty(a.city))&&e.cardDIP.currentPostalCode.$setValidity("invalid",!1),n(),p()}):(n(),p())};var p=function(){if(e.cardDIP.$valid){var r=h(),t={robocheck:m.robocheck?m.robocheck:""};d.sendApplicantData(r,t,!1).then(function(e){if(e.success){var r={primaryApplicant:{perfiosSkip:e.message}};o.setDataInStorage(r),m.model.balanceTransferTaken?a.go("app.journey.balance-transfer",{cardKey:m.selectedCard.key}):m.model.supplementaryCardApplied?a.go("app.journey.supplementary",{cardKey:m.selectedCard.key}):"Y"===e.message?a.go("app.journey.document",{cardKey:m.selectedCard.key}):a.go("app.journey.signature",{cardKey:m.selectedCard.key})}else 10006===e.errorCode?a.go("app.journey.s1-cards"):(m.errMsg="Sorry! There seems to be a technical problem. We are unable to progress further. We will contact you within 2 working days to proceed with your Credit Card application.",n())}),l.buttonList.buttonClick.event_content="continue",l.trackUserAction(l.buttonList.buttonClick)}else m.submitted=!0,c.focusOnInvalid("cardDIP",!0)},h=function(){var e=t.copy(m.model.accountDetails);e.accountNumberConsent=e.accountNumberConsent?"Y":"N";var a={hasFormerName:m.model.hasFormerName,formerName:m.model.formerName||null,motherName:m.model.motherName||null,birthCountry:m.model.birthCountry.countryName,kyc:m.model.kyc||null,fatherName:m.model.fatherName,cardUsage:m.model.cardUsage,cardReason:m.model.cardReason,nameOnCard:m.model.nameOnCard,accountDetails:e,estatementApplied:m.model.eStatementApplied,correspondenceAddress:m.model.correspondenceAddress,permanentAddressSame:m.model.permanentAddressSame,permanentAddress:{address1:"N"==m.model.permanentAddressSame?"India"==m.model.permanentAddress.country.countryName?m.model.permanentAddress.currentFlatNumber:m.model.permanentAddress.address1:"",address2:"N"==m.model.permanentAddressSame?"India"==m.model.permanentAddress.country.countryName?m.model.permanentAddress.currentRoadNumber:m.model.permanentAddress.address2:"",address3:"N"==m.model.permanentAddressSame?"India"==m.model.permanentAddress.country.countryName?m.model.permanentAddress.area:m.model.permanentAddress.address3:"",pinCode:"N"==m.model.permanentAddressSame?"India"==m.model.permanentAddress.country.countryName?m.model.permanentAddress.currentPostalCode:m.model.permanentAddress.pinCode:"",city:"N"==m.model.permanentAddressSame?"India"==m.model.permanentAddress.country.countryName?m.model.permanentAddress.cityDetails:m.model.permanentAddress.city:"",state:"N"==m.model.permanentAddressSame?"India"==m.model.permanentAddress.country.countryName?m.model.permanentAddress.stateDetails:m.model.permanentAddress.state:"",district:"N"==m.model.permanentAddressSame&&"India"==m.model.permanentAddress.country.countryName?m.model.permanentAddress.districtDetails:"",country:"N"==m.model.permanentAddressSame?m.model.permanentAddress.country.countryName:"",addressType:"N"==m.model.permanentAddressSame?m.model.permanentAddress.addressType:""},existingRelation:m.model.existingRelation,existingRelationShipDetails:m.model.existingRelationShipDetails,balanceTransferTaken:m.model.balanceTransferTaken?"Y":"N",supplementaryCardApplied:m.model.supplementaryCardApplied?"Y":"N",creditLimit:t.isNumber(m.model.creditLimit)?m.model.creditLimit.toLocaleString():m.model.creditLimit,dipArn:m.model.dipArn,status:m.model.status,hasOtherBankCardDetails:m.model.hasOtherBankCardDetails};return a="Y"===m.model.hasOtherBankCardDetails?t.merge({},a,{bank:m.model.bank,cardNumber:m.model.cardNumber,cardIssueDate:m.model.issueMonth+"/"+m.model.issueYear,amount:parseInt(m.model.amount)}):t.merge({},a,{bank:null,cardNumber:null,cardIssueDate:null,amount:null})};m.resetAddressFields=function(e,a){"IN"!=a.countryCode?(e.address1.$dirty=!1,e.address1.$pristine=!0,e.address1.$touched=!1,e.address1.$untouched=!0,e.address2.$dirty=!1,e.address2.$pristine=!0,e.address2.$touched=!1,e.address2.$untouched=!0,e.address3.$dirty=!1,e.address3.$pristine=!0,e.address3.$touched=!1,e.address3.$untouched=!0,e.currentCity.$dirty=!1,e.currentCity.$pristine=!0,e.currentCity.$touched=!1,e.currentCity.$untouched=!0,e.currentPinCode.$dirty=!1,e.currentPinCode.$pristine=!0,e.currentPinCode.$touched=!1,e.currentPinCode.$untouched=!0,e.currentState.$dirty=!1,e.currentState.$pristine=!0,e.currentState.$touched=!1,e.currentState.$untouched=!0,m.model.permanentAddress.address1=null,m.model.permanentAddress.address2=null,m.model.permanentAddress.address3=null,m.model.permanentAddress.pinCode=null,m.model.permanentAddress.city=null,m.model.permanentAddress.district=null,m.model.permanentAddress.state=null):(e.currentFlatNumber.$dirty=!1,e.currentFlatNumber.$pristine=!0,e.currentFlatNumber.$touched=!1,e.currentFlatNumber.$untouched=!0,e.currentRoadNumber.$dirty=!1,e.currentRoadNumber.$pristine=!0,e.currentRoadNumber.$touched=!1,e.currentRoadNumber.$untouched=!0,e.currentArea.$dirty=!1,e.currentArea.$pristine=!0,e.currentArea.$touched=!1,e.currentArea.$untouched=!0,e.currentPostalCode.$dirty=!1,e.currentPostalCode.$pristine=!0,e.currentPostalCode.$touched=!1,e.currentPostalCode.$untouched=!0,e.currentCityDetails.$dirty=!1,e.currentCityDetails.$pristine=!0,e.currentCityDetails.$touched=!1,e.currentCityDetails.$untouched=!0,e.currentDistrictDetails.$dirty=!1,e.currentDistrictDetails.$pristine=!0,e.currentDistrictDetails.$touched=!1,e.currentDistrictDetails.$untouched=!0,e.currentStateDetails.$dirty=!1,e.currentStateDetails.$pristine=!0,e.currentStateDetails.$touched=!1,e.currentStateDetails.$untouched=!0,m.model.permanentAddress.currentFlatNumber=null,m.model.permanentAddress.currentRoadNumber=null,m.model.permanentAddress.area=null,m.model.permanentAddress.currentPostalCode=null,m.model.permanentAddress.cityDetails=null,m.model.permanentAddress.districtDetails=null,m.model.permanentAddress.stateDetails=null,m.model.permanentAddress.addressType=m.addressTypes[0])},m.cancel=function(){r.open({backdrop:"static",keyboard:!1,modalFade:!0,component:"cancel",windowClass:"card-detail-modal"}).result.then(function(e){e&&d.cancelApplicantData().then(function(e){3==e.errorCode?a.go("app.journey.s1-cards"):4==e.errorCode?(s.sessionError=!0,a.go("app.app-retrieval")):a.go("app.cancelApplication",{data:{name:d.getApplicantName()},cardKey:m.selectedCard.key})})},function(){}),l.buttonList.buttonClick.event_content="cancel",l.trackUserAction(l.buttonList.buttonClick)},m.save=function(){r.open({backdrop:"static",keyboard:!1,modalFade:!0,component:"overlaySaveConfirmation",windowClass:"card-detail-modal"}).result.then(function(e){if(e){var r=h(),t={robocheck:m.robocheck?m.robocheck:""};d.sendApplicantData(r,t,!0).then(function(e){e.success?a.go("app.save-exit",{saveData:{name:d.getApplicantName()},cardKey:m.selectedCard.key}):3==e.errorCode?a.go("app.journey.s1-cards"):4==e.errorCode&&(s.sessionError=!0,a.go("app.app-retrieval"))})}},function(){}),l.buttonList.buttonClick.event_content="save for later",l.trackUserAction(l.buttonList.buttonClick)},m.issueDateChange=function(a){var r=e.cardDIP.month,t=e.cardDIP.year;r.$setValidity("min",!0),r.$setValidity("max",!0),t.$setValidity("max",!0),t.$setValidity("invalid",!0);var i=(new Date).getFullYear(),n=parseInt(m.model.issueMonth),s=parseInt(m.model.issueYear);return s<=0?void(m.model.issueYear=null):s>0&&s<1900?void t.$setValidity("invalid",!1):n<=0?void r.$setValidity("min",!1):n>12?void r.$setValidity("max",!1):s>i?void t.$setValidity("max",!1):void(a&&m.model.issueMonth&&1===m.model.issueMonth.length&&(m.model.issueMonth="0"+m.model.issueMonth))},m.validateOtherCardLimit=function(){parseInt(m.model.amount)<=0&&(m.model.amount=null)}}var t=r(/*! angular */"./node_modules/angular/index.js");r(/*! ./card-DIP.component.service */"./src/app/components/journey/card-DIP/card-DIP.component.service.js"),r(/*! ./card-DIP.component.scss */"./src/app/components/journey/card-DIP/card-DIP.component.scss"),r(/*! ./cancel.modal/cancel.modal.component.js */"./src/app/components/journey/card-DIP/cancel.modal/cancel.modal.component.js");var a=t.module("journey.module").component("cardDip",{template:r(/*! ./card-DIP.component.html */"./src/app/components/journey/card-DIP/card-DIP.component.html"),controller:["$scope","$state","$uibModal","$filter","$anchorScroll","$rootScope","journeyService","cardDipService","analyticService","UtilService",a]});e.exports=a.name}()},"./src/app/components/journey/card-DIP/card-DIP.component.scss":/*!*********************************************************************!*\
  !*** ./src/app/components/journey/card-DIP/card-DIP.component.scss ***!
  \*********************************************************************/
function(e,a){},"./src/app/components/journey/card-DIP/card-DIP.component.service.js":/*!***************************************************************************!*\
  !*** ./src/app/components/journey/card-DIP/card-DIP.component.service.js ***!
  \***************************************************************************/
function(e,a){!function(){"use strict";var a=angular.module("journey.module").service("cardDipService",["$rootScope","$http","appState","CONFIG","UtilService",function(e,a,r,t,i){var n=this;n.fullName=null;var s=function(){var e=r.getApplicationData(),a="";return e&&e.primaryApplicant&&(a=e.primaryApplicant.arn),a};n.getApplicantName=function(){var e=r.getApplicationData(),a="";return e&&e.primaryApplicant&&(a=e.primaryApplicant.fullName),a},n.getMaritalStatus=function(){var e=r.getApplicationData(),a="";return e&&e.primaryApplicant&&e.primaryApplicant.demographicDetails&&(a=e.primaryApplicant.demographicDetails.maritalStatus),a};var o=function(e){var a={primaryApplicant:{dipDetails:e}},t=angular.merge({},r.getApplicationData(),a);r.setApplicationData(t)};n.cancelApplicantData=function(){var r,i;return e.integrationsActive?(i="POST",r=t.apiUrl+"/applicantdetails/saveUserData/"+s()+"?hash_id="+Math.random()):(i="GET",r="resources/data/mock/card-dip/dip_cancel.json"),a({method:i,url:r,headers:{"Content-Type":"application/json"}}).then(function(e){if(200===e.status&&e.data)return e.data;e&&e.validationErrors},function(e){})},n.sendApplicantData=function(r,i,n){var d,l;return e.integrationsActive?(l="POST",d=t.apiUrl+"/applicantdetails/dip/save/"+s()+"/"+n+"?hash_id="+Math.random()):(l="GET",d="resources/data/mock/card-dip/dip_save.json"),a({method:l,url:d,headers:{"Content-Type":"application/json"},data:JSON.stringify(r),params:i}).then(function(e){if(200===e.status&&e.data)return e.data.success&&o(r),e.data;e&&e.validationErrors},function(e){})},n.getUserDetails=function(){var e=r.getContactDetails();r.isStaffJourney();n.ekyc=e.ekyc;var a={},t=r.getApplicationData();if(t&&t.primaryApplicant&&(a.addressOptions=t.primaryApplicant.addressOptions||null,t.primaryApplicant.dipDetails)){if(a.hasFormerName=t.primaryApplicant.dipDetails.hasFormerName||"N",a.formerName=t.primaryApplicant.dipDetails.formerName||null,a.motherName=t.primaryApplicant.dipDetails.motherName||null,a.kyc=t.primaryApplicant.dipDetails.kyc||null,a.fatherName=t.primaryApplicant.dipDetails.fatherName||null,a.cardUsage=t.primaryApplicant.dipDetails.cardUsage||null,a.cardReason=t.primaryApplicant.dipDetails.cardReason||null,a.nameOnCard=t.primaryApplicant.dipDetails.nameOnCard||null,a.permanentAddress=t.primaryApplicant.dipDetails.permanentAddress||null,a.permanentAddressSame=t.primaryApplicant.dipDetails.permanentAddressSame||"Y",a.dipArn=t.primaryApplicant.dipDetails.dipArn||null,a.birthCountry=t.primaryApplicant.dipDetails.birthCountry||null,a.correspondenceAddress=t.primaryApplicant.dipDetails.correspondenceAddress||null,a.eStatementApplied=t.primaryApplicant.dipDetails.estatementApplied||"Y",a.balanceTransferTaken="Y"===t.primaryApplicant.dipDetails.balanceTransferTaken,a.supplementaryCardApplied="Y"===t.primaryApplicant.dipDetails.supplementaryCardApplied,a.hasOtherBankCardDetails=t.primaryApplicant.dipDetails.hasOtherBankCardDetails||"N",a.bank=t.primaryApplicant.dipDetails.bank||null,a.cardNumber=t.primaryApplicant.dipDetails.cardNumber||null,i.isEmpty(t.primaryApplicant.dipDetails.cardIssueDate))a.issueMonth=null,a.issueYear=null;else{var s=t.primaryApplicant.dipDetails.cardIssueDate.split("/");a.issueMonth=s[0],a.issueYear=s[1]}a.accountDetails=t.primaryApplicant.dipDetails.accountDetails||{},a.accountDetails.accountNumberConsent="Y"===a.accountDetails.accountNumberConsent,a.accountDetails.accountNumber=a.accountDetails.accountNumber||null,a.accountDetails.branchLocation=a.accountDetails.branchLocation||null,a.accountDetails.primaryBank=a.accountDetails.primaryBank||null,a.existingRelation=t.primaryApplicant.dipDetails.existingRelation||"N",a.existingRelationShipDetails=t.primaryApplicant.dipDetails.existingRelationShipDetails||{},a.existingRelationShipDetails.relationType=a.existingRelationShipDetails.relationType||null,a.existingRelationShipDetails.staffName=a.existingRelationShipDetails.staffName||null,a.existingRelationShipDetails.staffId=a.existingRelationShipDetails.staffId||null,a.amount=t.primaryApplicant.dipDetails.amount?t.primaryApplicant.dipDetails.amount.toString():null,a.creditLimit=d(t.primaryApplicant.dipDetails.creditLimit),a.status=t.primaryApplicant.dipDetails.status||null,"Yes"==n.ekyc&&(a.formerName=t.primaryApplicant.dipDetails.nameOnCard||null,a.nameOnCard=t.primaryApplicant.dipDetails.applicantName?t.primaryApplicant.dipDetails.applicantName:null)}return a};var d=function(e){var a=null;if(e){var r=e.split(",");a=parseInt(r.join(""))}return a}}]);e.exports=a.name}()}});
//# sourceMappingURL=180bff5e5ee99a0960369.js.map